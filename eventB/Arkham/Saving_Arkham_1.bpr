<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<org.eventb.core.prFile version="1">
<org.eventb.core.prProof name="next_turn/next_turn/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1" org.eventb.core.prSets="states">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(states,{player_turn},{monster_turn},{won},{lost}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p3,p4,p5,p6,p7,p8,p9"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p3,p4,p5,p6,p7,p8,p9"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(locations,{Rivertown},{Easttown},{Downtown},{Merchant_District},{Shop},{Library},{Bank},{Station}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p34,p35,p36,p37,p38,p39"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p34,p35,p36,p37,p38,p39"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p40" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p41"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p41" org.eventb.core.prHyps="p43" org.eventb.core.prInfHyps="p42"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p42" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p44"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p45"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p46"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p47"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p48"/>
<org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p49"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p44" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p50"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p50" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p51"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p52">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="total function dom substitution in goal" org.eventb.core.prGoal="p52" org.eventb.core.prHyps="p1">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p47">
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prGoal="p47" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p53">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p53" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="1"/>
<org.eventb.core.prExprRef name=".subst" org.eventb.core.prRef="e0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p54">
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p54" org.eventb.core.prHyps="p1"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="next_state" org.eventb.core.type="ℙ(states×states)"/>
<org.eventb.core.prIdent name="state" org.eventb.core.type="states"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="¬Easttown=Merchant_District">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="¬Downtown=Shop">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="states={player_turn,monster_turn,won,lost}">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="partition(states,{player_turn},{monster_turn},{won},{lost})">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="¬Rivertown=Shop">
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="locations={Rivertown,Easttown,Downtown,Merchant_District,Shop,Library,Bank,Station}">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬player_turn=won">
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="location∈locations">
<org.eventb.core.prIdent name="location" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="¬Easttown=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="districts=(∅ ⦂ ℙ(locations))∨finite(districts)">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="¬Easttown=Downtown">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨finite(districts)">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="¬Merchant_District=Station">
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="¬Merchant_District=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="¬Downtown=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="game_over∈BOOL">
<org.eventb.core.prIdent name="game_over" org.eventb.core.type="BOOL"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="partition(locations,{Rivertown},{Easttown},{Downtown},{Merchant_District},{Shop},{Library},{Bank},{Station})">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="state∈states"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="state∈dom(next_state)∧next_state∈states ⇸ states"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="¬Rivertown=Easttown">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="¬Library=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="turn_end∈BOOL">
<org.eventb.core.prIdent name="turn_end" org.eventb.core.type="BOOL"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="¬Downtown=Station">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="¬Easttown=Station">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="¬Rivertown=Station">
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="¬won=lost">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="¬Rivertown=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="⊤"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="next_state∈states → states"/>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="¬Bank=Station">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="¬Downtown=Library">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="¬Shop=Library">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="next_state∈states ⇸ states"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬player_turn=monster_turn">
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬monster_turn=won">
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="¬Merchant_District=Shop">
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬player_turn=lost">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨(finite(locations)∧finite(districts))">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="¬Shop=Station">
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="finite(locations)">
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="¬Easttown=Library">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="¬Downtown=Merchant_District">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="¬Rivertown=Library">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="state∈dom(next_state)"/>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="¬Shop=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨(⊤∧finite(districts))">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="finite(locations × districts)">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="¬Library=Station">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="¬Easttown=Shop">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="acted∈BOOL">
<org.eventb.core.prIdent name="acted" org.eventb.core.type="BOOL"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="⊥∨districts=(∅ ⦂ ℙ(locations))∨finite(districts)">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬monster_turn=lost">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="¬Merchant_District=Library">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="¬Rivertown=Merchant_District">
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="¬Rivertown=Downtown">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prExpr name="e0" org.eventb.core.expression="states"/>
<org.eventb.core.prReas name="r7" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.totalDom:2"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL2"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="INITIALISATION/monster_locations_type/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="" org.eventb.core.prSets="locations">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(states,{player_turn},{monster_turn},{won},{lost}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p2,p3,p4,p5,p6,p7,p8"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p2,p3,p4,p5,p6,p7,p8"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(locations,{Rivertown},{Easttown},{Downtown},{Merchant_District},{Shop},{Library},{Bank},{Station}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p34,p35,p36,p37,p38"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p34,p35,p36,p37,p38"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p41">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p39" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p40"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p41" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="⊤"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="¬Downtown=Shop">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="¬Easttown=Merchant_District">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="¬Bank=Station">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="states={player_turn,monster_turn,won,lost}">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="¬Downtown=Library">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="¬Shop=Library">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="partition(states,{player_turn},{monster_turn},{won},{lost})">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="¬Rivertown=Shop">
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="locations={Rivertown,Easttown,Downtown,Merchant_District,Shop,Library,Bank,Station}">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬player_turn=won">
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="¬Easttown=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="¬player_turn=monster_turn">
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="¬Merchant_District=Shop">
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬monster_turn=won">
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬player_turn=lost">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="¬Easttown=Downtown">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨(finite(locations)∧finite(districts))">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="¬Shop=Station">
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="¬Easttown=Library">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="¬Downtown=Merchant_District">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="¬Merchant_District=Station">
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="¬Merchant_District=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="¬Rivertown=Library">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="¬Shop=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="¬Downtown=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="finite(locations × districts)">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="¬Library=Station">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="partition(locations,{Rivertown},{Easttown},{Downtown},{Merchant_District},{Shop},{Library},{Bank},{Station})">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="¬Easttown=Shop">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="¬Rivertown=Easttown">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬monster_turn=lost">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="¬Library=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="(∅ ⦂ ℙ(ℤ×locations))∈(∅ ⦂ ℙ(ℤ)) → locations"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="¬Downtown=Station">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="¬Easttown=Station">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="¬Merchant_District=Library">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬won=lost">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="¬Rivertown=Merchant_District">
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="¬Rivertown=Station">
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="¬Rivertown=Downtown">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="¬Rivertown=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="INITIALISATION/monsters_type/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(states,{player_turn},{monster_turn},{won},{lost}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p2,p3,p4,p5,p6,p7,p8"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p2,p3,p4,p5,p6,p7,p8"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(locations,{Rivertown},{Easttown},{Downtown},{Merchant_District},{Shop},{Library},{Bank},{Station}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p34,p35,p36,p37,p38"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p34,p35,p36,p37,p38"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p41">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p39" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p40"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p41" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="monster_pool" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="⊤"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="¬Downtown=Shop">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="¬Easttown=Merchant_District">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="¬Bank=Station">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="states={player_turn,monster_turn,won,lost}">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="¬Downtown=Library">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="¬Shop=Library">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="partition(states,{player_turn},{monster_turn},{won},{lost})">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="¬Rivertown=Shop">
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="locations={Rivertown,Easttown,Downtown,Merchant_District,Shop,Library,Bank,Station}">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬player_turn=won">
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="¬Easttown=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="¬player_turn=monster_turn">
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="¬Merchant_District=Shop">
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬monster_turn=won">
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬player_turn=lost">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="¬Easttown=Downtown">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨(finite(locations)∧finite(districts))">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="¬Shop=Station">
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="(∅ ⦂ ℙ(ℤ))⊆monster_pool"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="¬Easttown=Library">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="¬Downtown=Merchant_District">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="¬Merchant_District=Station">
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="¬Merchant_District=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="¬Rivertown=Library">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="¬Shop=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="¬Downtown=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="finite(locations × districts)">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="¬Library=Station">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="partition(locations,{Rivertown},{Easttown},{Downtown},{Merchant_District},{Shop},{Library},{Bank},{Station})">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="¬Easttown=Shop">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="¬Rivertown=Easttown">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬monster_turn=lost">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="¬Library=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="¬Downtown=Station">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="¬Easttown=Station">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="¬Merchant_District=Library">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬won=lost">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="¬Rivertown=Merchant_District">
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="¬Rivertown=Station">
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="¬Rivertown=Downtown">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="¬Rivertown=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="INITIALISATION/monsters_finite/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(locations,{Rivertown},{Easttown},{Downtown},{Merchant_District},{Shop},{Library},{Bank},{Station}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(states,{player_turn},{monster_turn},{won},{lost}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p31" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p32,p33,p34,p35,p36,p37,p38"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p32,p33,p34,p35,p36,p37,p38"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p41">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p39" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p40"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p41" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="⊤"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="¬Easttown=Merchant_District">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="¬Downtown=Shop">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="¬Bank=Station">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="states={player_turn,monster_turn,won,lost}">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="¬Downtown=Library">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="¬Shop=Library">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="partition(states,{player_turn},{monster_turn},{won},{lost})">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬Rivertown=Shop">
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="locations={Rivertown,Easttown,Downtown,Merchant_District,Shop,Library,Bank,Station}">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="¬player_turn=won">
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="¬Easttown=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="¬player_turn=monster_turn">
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="¬monster_turn=won">
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="¬Merchant_District=Shop">
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="¬player_turn=lost">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="¬Easttown=Downtown">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨(finite(locations)∧finite(districts))">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="¬Shop=Station">
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="finite(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="¬Easttown=Library">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="¬Downtown=Merchant_District">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="¬Merchant_District=Station">
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬Rivertown=Library">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="¬Merchant_District=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="¬Shop=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="¬Downtown=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="finite(locations × districts)">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="¬Library=Station">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="partition(locations,{Rivertown},{Easttown},{Downtown},{Merchant_District},{Shop},{Library},{Bank},{Station})">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="¬Easttown=Shop">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="¬Rivertown=Easttown">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="¬monster_turn=lost">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="¬Library=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="¬Downtown=Station">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="¬Easttown=Station">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="¬Merchant_District=Library">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="¬won=lost">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="¬Rivertown=Station">
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Rivertown=Merchant_District">
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Rivertown=Downtown">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬Rivertown=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="one_location/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="l2,l1" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1" org.eventb.core.prSets="locations">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(locations,{Rivertown},{Easttown},{Downtown},{Merchant_District},{Shop},{Library},{Bank},{Station}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(states,{player_turn},{monster_turn},{won},{lost}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p32" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p33,p34,p35,p36,p37,p38,p39"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p33,p34,p35,p36,p37,p38,p39"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p46">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p40" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p41"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p42" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p43"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p44" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p45"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p41" org.eventb.core.prHyps="p48" org.eventb.core.prInfHyps="p47"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p47" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p49"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prGoal="p46" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p54">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p50"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p51"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p52"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p49" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p53"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p54" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p56">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p53" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p55"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees l1,l2)" org.eventb.core.prGoal="p56" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p57">
<org.eventb.core.prIdent name="l1" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="l2" org.eventb.core.type="locations"/>
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p57" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p59" org.eventb.core.prHyps="p58">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p59" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p60">
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="total function dom substitution in goal" org.eventb.core.prGoal="p60" org.eventb.core.prHyps="p1">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p61">
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prGoal="p61" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p62">
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p62" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="1"/>
<org.eventb.core.prExprRef name=".subst" org.eventb.core.prRef="e0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p63">
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p63" org.eventb.core.prHyps="p1"/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name=")" org.eventb.core.prGoal="p64">
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="total function dom substitution in goal" org.eventb.core.prGoal="p64" org.eventb.core.prHyps="p1">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p65">
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prGoal="p65" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p62">
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p62" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="1"/>
<org.eventb.core.prExprRef name=".subst" org.eventb.core.prRef="e0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="monster_locations" org.eventb.core.type="ℙ(locations×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="monsters" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="¬Downtown=Shop">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="¬Easttown=Merchant_District">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="states={player_turn,monster_turn,won,lost}">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="∀x⦂ℙ(ℤ)·x⊆monster_pool∧¬x=(∅ ⦂ ℙ(ℤ))⇒(∃b⦂ℤ·∀x0⦂ℤ·x0∈x⇒b≥x0)">
<org.eventb.core.prIdent name="monster_pool" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="∀x⦂ℙ(ℤ)·x⊆monster_pool∧x≠(∅ ⦂ ℙ(ℤ))⇒(∃b⦂ℤ·∀x0⦂ℤ·x0∈x⇒b≥x0)">
<org.eventb.core.prIdent name="monster_pool" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p64" org.eventb.core.predicate="l2∈dom(monster_locations)">
<org.eventb.core.prIdent name="l2" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="partition(states,{player_turn},{monster_turn},{won},{lost})">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p61" org.eventb.core.predicate="l1∈locations">
<org.eventb.core.prIdent name="l1" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬Rivertown=Shop">
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="l1∈dom(monster_locations)∧monster_locations∈locations ⇸ ℙ(ℤ)∧l2∈dom(monster_locations)">
<org.eventb.core.prIdent name="l1" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="l2" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="locations={Rivertown,Easttown,Downtown,Merchant_District,Shop,Library,Bank,Station}">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="¬player_turn=won">
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="location∈locations">
<org.eventb.core.prIdent name="location" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="¬Easttown=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="districts=(∅ ⦂ ℙ(locations))∨finite(districts)">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="¬Easttown=Downtown">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨finite(districts)">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="¬Merchant_District=Station">
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="¬Merchant_District=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="¬Downtown=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀l1⦂locations,l2⦂locations·l1∈locations∧l2∈locations∧l1≠l2⇒l1∈dom(monster_locations)∧monster_locations∈locations ⇸ ℙ(ℤ)∧l2∈dom(monster_locations)"/>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="state∈states">
<org.eventb.core.prIdent name="state" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="partition(locations,{Rivertown},{Easttown},{Downtown},{Merchant_District},{Shop},{Library},{Bank},{Station})">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="¬l1=l2">
<org.eventb.core.prIdent name="l1" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="l2" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Rivertown=Easttown">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="¬Library=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="turn_end∈BOOL">
<org.eventb.core.prIdent name="turn_end" org.eventb.core.type="BOOL"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="¬Downtown=Station">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="new_monster={(∅ ⦂ ℙ(ℤ)) ↦ 0}∪{x⦂ℙ(ℤ)·x⊆monster_pool∧x≠(∅ ⦂ ℙ(ℤ)) ∣ x ↦ max(x)+1}">
<org.eventb.core.prIdent name="monster_pool" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="new_monster" org.eventb.core.type="ℙ(ℙ(ℤ)×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="l1∈dom(monster_locations)">
<org.eventb.core.prIdent name="l1" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="¬Easttown=Station">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p65" org.eventb.core.predicate="l2∈locations">
<org.eventb.core.prIdent name="l2" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="¬l1=l2⇒l1∈dom(monster_locations)∧monster_locations∈locations ⇸ ℙ(ℤ)∧l2∈dom(monster_locations)">
<org.eventb.core.prIdent name="l1" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="l2" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="¬Rivertown=Station">
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="¬won=lost">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="¬Rivertown=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="new_monster={(∅ ⦂ ℙ(ℤ)) ↦ 0}∪{x⦂ℙ(ℤ)·x⊆monster_pool∧¬x=(∅ ⦂ ℙ(ℤ)) ∣ x ↦ max(x)+1}">
<org.eventb.core.prIdent name="monster_pool" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="new_monster" org.eventb.core.type="ℙ(ℙ(ℤ)×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p62" org.eventb.core.predicate="⊤"/>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="¬Bank=Station">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="∀l1⦂locations,l2⦂locations·l1∈locations∧l2∈locations∧¬l1=l2⇒l1∈dom(monster_locations)∧monster_locations∈locations ⇸ ℙ(ℤ)∧l2∈dom(monster_locations)"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="¬Downtown=Library">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="¬Shop=Library">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p63" org.eventb.core.predicate="monster_locations∈locations ⇸ ℙ(ℤ)"/>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="∀l1⦂locations,l2⦂locations·⊤∧⊤∧¬l1=l2⇒l1∈dom(monster_locations)∧monster_locations∈locations ⇸ ℙ(ℤ)∧l2∈dom(monster_locations)"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="¬player_turn=monster_turn">
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="¬Merchant_District=Shop">
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="¬monster_turn=won">
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="¬player_turn=lost">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨(finite(locations)∧finite(districts))">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="∀l1⦂locations,l2⦂locations·¬l1=l2⇒l1∈dom(monster_locations)∧monster_locations∈locations ⇸ ℙ(ℤ)∧l2∈dom(monster_locations)"/>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="finite(locations)"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="¬Shop=Station">
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="¬Easttown=Library">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="¬Downtown=Merchant_District">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬Rivertown=Library">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="¬Shop=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨(⊤∧finite(districts))">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="finite(locations × districts)">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="¬Library=Station">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="¬Easttown=Shop">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="⊥∨districts=(∅ ⦂ ℙ(locations))∨finite(districts)">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="monster_locations∈locations → ℙ(monsters)"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="¬monster_turn=lost">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="¬Merchant_District=Library">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬Rivertown=Merchant_District">
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Rivertown=Downtown">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prExpr name="e0" org.eventb.core.expression="locations"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r9" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
<org.eventb.core.prReas name="r8" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
<org.eventb.core.prReas name="r7" org.eventb.core.prRID="org.eventb.core.seqprover.totalDom:2"/>
<org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL2"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="INITIALISATION/one_location/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="" org.eventb.core.prSets="locations">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(locations,{Rivertown},{Easttown},{Downtown},{Merchant_District},{Shop},{Library},{Bank},{Station}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(states,{player_turn},{monster_turn},{won},{lost}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p31" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p32,p33,p34,p35,p36,p37,p38"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p32,p33,p34,p35,p36,p37,p38"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p41">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p39" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p40"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p41" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="⊤"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="¬Easttown=Merchant_District">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="¬Downtown=Shop">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="¬Bank=Station">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="states={player_turn,monster_turn,won,lost}">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="¬Downtown=Library">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="¬Shop=Library">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="partition(states,{player_turn},{monster_turn},{won},{lost})">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬Rivertown=Shop">
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="locations={Rivertown,Easttown,Downtown,Merchant_District,Shop,Library,Bank,Station}">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="¬player_turn=won">
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="¬Easttown=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="¬player_turn=monster_turn">
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="¬monster_turn=won">
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="¬Merchant_District=Shop">
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="¬player_turn=lost">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="¬Easttown=Downtown">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨(finite(locations)∧finite(districts))">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="¬Shop=Station">
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀l1⦂locations,l2⦂locations,x⦂ℤ·l1∈locations∧l2∈locations∧l1≠l2∧l1 ↦ x∈(∅ ⦂ ℙ(locations×ℤ))⇒l2 ↦ x∉(∅ ⦂ ℙ(locations×ℤ))"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="¬Easttown=Library">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="¬Downtown=Merchant_District">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="¬Merchant_District=Station">
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬Rivertown=Library">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="¬Merchant_District=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="¬Shop=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="¬Downtown=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="finite(locations × districts)">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="¬Library=Station">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="partition(locations,{Rivertown},{Easttown},{Downtown},{Merchant_District},{Shop},{Library},{Bank},{Station})">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="¬Easttown=Shop">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="¬Rivertown=Easttown">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="¬monster_turn=lost">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="¬Library=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="¬Downtown=Station">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="¬Easttown=Station">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="¬Merchant_District=Library">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="¬won=lost">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="¬Rivertown=Station">
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Rivertown=Merchant_District">
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Rivertown=Downtown">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬Rivertown=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="monsters_move/monster_locations_type/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p0" org.eventb.core.prSets="locations">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="hyp" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p0"/>
<org.eventb.core.prIdent name="monsters" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="new_monster_locations" org.eventb.core.type="ℙ(ℤ×locations)"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="new_monster_locations∈monsters → locations"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.hyp"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="monsters_move/one_location/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="l2,l1" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32" org.eventb.core.prSets="locations,states">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(locations,{Rivertown},{Easttown},{Downtown},{Merchant_District},{Shop},{Library},{Bank},{Station}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p23" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p33,p34,p35,p36,p37,p38,p39,p40,p41,p42,p43,p44,p45,p46,p47,p48,p49,p50,p51,p52,p53,p54,p55,p56,p57,p58,p59,p60,p61"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p33,p34,p35,p36,p37,p38,p39,p40,p41,p42,p43,p44,p45,p46,p47,p48,p49,p50,p51,p52,p53,p54,p55,p56,p57,p58,p59,p60,p61"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(states,{player_turn},{monster_turn},{won},{lost}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p62,p63,p64,p65,p66,p67,p68"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p62,p63,p64,p65,p66,p67,p68"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p79">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p22" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p69"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p13" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p70"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p27" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p71"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p72"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p31" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p73"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p26" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p74"/>
<org.eventb.core.prHypAction name="REWRITE6" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p75"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p18" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p76"/>
<org.eventb.core.prHypAction name="REWRITE8" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p77,p78"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p69" org.eventb.core.prHyps="p16" org.eventb.core.prInfHyps="p80"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p80" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p81"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prGoal="p79" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p88">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p82"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p83"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p84"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p76" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p85"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p78" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p86"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p81" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p87"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p88" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p92">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p85" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p89"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p86" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p90"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p87" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p91"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees l1,l2)" org.eventb.core.prGoal="p92" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p93">
<org.eventb.core.prIdent name="l1" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="l2" org.eventb.core.type="locations"/>
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p93" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p95" org.eventb.core.prHyps="p94">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p95" org.eventb.core.prHyps="p14,p15,p28,p30,p8,p32,p19,p20,p11,p16,p10,p24,p4,p3,p29,p2,p9,p5,p25,p21,p17,p33,p34,p35,p36,p37,p38,p39,p40,p41,p42,p43,p44,p45,p46,p47,p48,p49,p50,p51,p52,p53,p54,p55,p56,p57,p58,p59,p60,p61,p62,p63,p64,p65,p66,p67,p68,p70,p71,p72,p73,p74,p75,p77,p89,p90,p91,p94">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="building_to_district" org.eventb.core.type="ℙ(locations×locations)"/>
<org.eventb.core.prIdent name="buildings" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="closed_to_win" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="connected" org.eventb.core.type="ℙ(locations×locations)"/>
<org.eventb.core.prIdent name="district_to_district" org.eventb.core.type="ℙ(locations×locations)"/>
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster_locations" org.eventb.core.type="ℙ(locations×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="monster_locations'" org.eventb.core.type="ℙ(locations×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="monster_pool" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monsters" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="new_monster" org.eventb.core.type="ℙ(ℙ(ℤ)×ℤ)"/>
<org.eventb.core.prIdent name="next_state" org.eventb.core.type="ℙ(states×states)"/>
<org.eventb.core.prIdent name="open_to_lose" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="over" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="playing" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="state" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="turn_end" org.eventb.core.type="BOOL"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
<org.eventb.core.prPred name="p93" org.eventb.core.predicate="¬l1=l2⇒monster_locations'(l1)∩monster_locations'(l2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="l1" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="l2" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="¬Downtown=Shop"/>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="¬Easttown=Merchant_District"/>
<org.eventb.core.prPred name="p85" org.eventb.core.predicate="∀l1⦂locations,l2⦂locations·⊤∧⊤∧¬l1=l2⇒monster_locations(l1)∩monster_locations(l2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p62" org.eventb.core.predicate="states={player_turn,monster_turn,won,lost}"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="next_state={player_turn ↦ monster_turn,monster_turn ↦ player_turn}"/>
<org.eventb.core.prPred name="p72" org.eventb.core.predicate="∀x⦂ℙ(ℤ)·x⊆monster_pool∧¬x=(∅ ⦂ ℙ(ℤ))⇒(∃b⦂ℤ·∀x0⦂ℤ·x0∈x⇒b≥x0)"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="monsters⊂monster_pool"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="∀x⦂ℙ(ℤ)·x⊆monster_pool∧x≠(∅ ⦂ ℙ(ℤ))⇒(∃b⦂ℤ·∀x0⦂ℤ·x0∈x⇒b≥x0)"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="partition(states,{player_turn},{monster_turn},{won},{lost})"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="connected=building_to_district∪building_to_district∼∪district_to_district∪district_to_district∼"/>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="¬Rivertown=Shop"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="locations={Rivertown,Easttown,Downtown,Merchant_District,Shop,Library,Bank,Station}"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="locations=districts∪buildings"/>
<org.eventb.core.prPred name="p88" org.eventb.core.predicate="∀l1⦂locations,l2⦂locations·⊤∧⊤∧¬l1=l2⇒monster_locations'(l1)∩monster_locations'(l2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p79" org.eventb.core.predicate="∀l1⦂locations,l2⦂locations·l1∈locations∧l2∈locations∧¬l1=l2⇒monster_locations'(l1)∩monster_locations'(l2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p76" org.eventb.core.predicate="∀l1⦂locations,l2⦂locations·l1∈locations∧l2∈locations∧¬l1=l2⇒monster_locations(l1)∩monster_locations(l2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p64" org.eventb.core.predicate="¬player_turn=won"/>
<org.eventb.core.prPred name="p82" org.eventb.core.predicate="location∈locations">
<org.eventb.core.prIdent name="location" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="∀x⦂ℙ(ℤ)·x∈ℙ(monster_pool)⇒(∀x0⦂ℤ·x0∈x∧max(x)+1&gt;x0)"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="districts={Rivertown,Easttown,Downtown,Merchant_District}"/>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="¬Easttown=Bank"/>
<org.eventb.core.prPred name="p91" org.eventb.core.predicate="districts=(∅ ⦂ ℙ(locations))∨finite(districts)"/>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="¬Easttown=Downtown"/>
<org.eventb.core.prPred name="p81" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨finite(districts)"/>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="¬Merchant_District=Station"/>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="¬Merchant_District=Bank"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀l1⦂locations,l2⦂locations·l1∈locations∧l2∈locations∧l1≠l2⇒monster_locations'(l1)∩monster_locations'(l2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="¬Downtown=Bank"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="state=monster_turn"/>
<org.eventb.core.prPred name="p83" org.eventb.core.predicate="state∈states"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="partition(locations,{Rivertown},{Easttown},{Downtown},{Merchant_District},{Shop},{Library},{Bank},{Station})"/>
<org.eventb.core.prPred name="p94" org.eventb.core.predicate="¬l1=l2">
<org.eventb.core.prIdent name="l1" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="l2" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="¬Rivertown=Easttown"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="∀x⦂ℙ(ℤ)·x∈ℙ(monster_pool)∧x≠(∅ ⦂ ℙ(ℤ))⇒max(x)∈x"/>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="¬Library=Bank"/>
<org.eventb.core.prPred name="p84" org.eventb.core.predicate="turn_end∈BOOL"/>
<org.eventb.core.prPred name="p73" org.eventb.core.predicate="∀x⦂ℙ(ℤ)·x∈ℙ(monster_pool)⇒¬new_monster(x)∈x"/>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="¬Downtown=Station"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="new_monster={(∅ ⦂ ℙ(ℤ)) ↦ 0}∪{x⦂ℙ(ℤ)·x⊆monster_pool∧x≠(∅ ⦂ ℙ(ℤ)) ∣ x ↦ max(x)+1}"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="building_to_district={Shop ↦ Merchant_District,Bank ↦ Downtown,Station ↦ Easttown,Library ↦ Rivertown}"/>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="¬Easttown=Station"/>
<org.eventb.core.prPred name="p68" org.eventb.core.predicate="¬won=lost"/>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="¬Rivertown=Station"/>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="¬Rivertown=Bank"/>
<org.eventb.core.prPred name="p77" org.eventb.core.predicate="monster_locations'∈locations → ℙ(monsters)"/>
<org.eventb.core.prPred name="p71" org.eventb.core.predicate="new_monster={(∅ ⦂ ℙ(ℤ)) ↦ 0}∪{x⦂ℙ(ℤ)·x⊆monster_pool∧¬x=(∅ ⦂ ℙ(ℤ)) ∣ x ↦ max(x)+1}"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="closed_to_win=2"/>
<org.eventb.core.prPred name="p74" org.eventb.core.predicate="∀x⦂ℙ(ℤ)·x∈ℙ(monster_pool)∧¬x=(∅ ⦂ ℙ(ℤ))⇒max(x)∈x"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="∀x⦂ℙ(ℤ)·x∈ℙ(monster_pool)∧x≠(∅ ⦂ ℙ(ℤ))⇒max(x)+1∈monster_pool"/>
<org.eventb.core.prPred name="p61" org.eventb.core.predicate="¬Bank=Station"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="monster_pool=ℕ"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="states ∖ over=playing"/>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="¬Downtown=Library"/>
<org.eventb.core.prPred name="p92" org.eventb.core.predicate="∀l1⦂locations,l2⦂locations·¬l1=l2⇒monster_locations'(l1)∩monster_locations'(l2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p75" org.eventb.core.predicate="∀x⦂ℙ(ℤ)·x∈ℙ(monster_pool)∧¬x=(∅ ⦂ ℙ(ℤ))⇒max(x)+1∈monster_pool"/>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="¬Shop=Library"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="new_monster∈ℙ(monster_pool) → monster_pool"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="playing={player_turn,monster_turn}"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="monster_locations'∈locations → ℙ(monsters)∧(∀x⦂ℤ·x∈monsters⇒(∃y⦂locations,z⦂locations·y∈locations∧z∈locations∧x∈monster_locations(y)∧x∈monster_locations'(z)∧y ↦ z∈connected))"/>
<org.eventb.core.prPred name="p63" org.eventb.core.predicate="¬player_turn=monster_turn"/>
<org.eventb.core.prPred name="p78" org.eventb.core.predicate="∀x⦂ℤ·x∈monsters⇒(∃y⦂locations,z⦂locations·y∈locations∧z∈locations∧x∈monster_locations(y)∧x∈monster_locations'(z)∧y ↦ z∈connected)"/>
<org.eventb.core.prPred name="p66" org.eventb.core.predicate="¬monster_turn=won"/>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="¬Merchant_District=Shop"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="buildings={Shop,Library,Bank,Station}"/>
<org.eventb.core.prPred name="p65" org.eventb.core.predicate="¬player_turn=lost"/>
<org.eventb.core.prPred name="p69" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨(finite(locations)∧finite(districts))"/>
<org.eventb.core.prPred name="p90" org.eventb.core.predicate="∀x⦂ℤ·x∈monsters⇒(∃y⦂locations,z⦂locations·x∈monster_locations(y)∧x∈monster_locations'(z)∧y ↦ z∈connected)"/>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="¬Shop=Station"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="finite(locations)"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="turn_end=FALSE"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="finite(buildings)"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="open_to_lose=4"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="∀l1⦂locations,l2⦂locations·l1∈locations∧l2∈locations∧l1≠l2⇒monster_locations(l1)∩monster_locations(l2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="¬Easttown=Library"/>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="¬Downtown=Merchant_District"/>
<org.eventb.core.prPred name="p89" org.eventb.core.predicate="∀l1⦂locations,l2⦂locations·¬l1=l2⇒monster_locations(l1)∩monster_locations(l2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="¬Rivertown=Library"/>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="¬Shop=Bank"/>
<org.eventb.core.prPred name="p80" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨(⊤∧finite(districts))"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="finite(locations × districts)"/>
<org.eventb.core.prPred name="p70" org.eventb.core.predicate="∀x⦂ℙ(ℤ)·x∈ℙ(monster_pool)⇒(∀x0⦂ℤ·x0∈x)∧(∀x0⦂ℤ·max(x)+1&gt;x0)"/>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="¬Library=Station"/>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="¬Easttown=Shop"/>
<org.eventb.core.prPred name="p95" org.eventb.core.predicate="monster_locations'(l1)∩monster_locations'(l2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="l1" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="l2" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="over={won,lost}"/>
<org.eventb.core.prPred name="p87" org.eventb.core.predicate="⊥∨districts=(∅ ⦂ ℙ(locations))∨finite(districts)"/>
<org.eventb.core.prPred name="p67" org.eventb.core.predicate="¬monster_turn=lost"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="monster_locations∈locations → ℙ(monsters)"/>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="¬Merchant_District=Library"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="¬Rivertown=Merchant_District"/>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="¬Rivertown=Downtown"/>
<org.eventb.core.prPred name="p86" org.eventb.core.predicate="∀x⦂ℤ·x∈monsters⇒(∃y⦂locations,z⦂locations·⊤∧⊤∧x∈monster_locations(y)∧x∈monster_locations'(z)∧y ↦ z∈connected)"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="states ∖ playing=over"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="district_to_district={Rivertown ↦ Easttown,Easttown ↦ Downtown,Downtown ↦ Merchant_District,Merchant_District ↦ Rivertown}"/>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="∀x⦂ℙ(ℤ)·x∈ℙ(monster_pool)⇒new_monster(x)∉x"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL2"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r6" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="monsters_move/monsters/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="monster_locations0',x" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19" org.eventb.core.prSets="locations,states" org.eventb.core.psManual="true">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(locations,{Rivertown},{Easttown},{Downtown},{Merchant_District},{Shop},{Library},{Bank},{Station}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p34,p35,p36,p37,p38,p39,p40,p41,p42,p43,p44,p45,p46,p47,p48"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p34,p35,p36,p37,p38,p39,p40,p41,p42,p43,p44,p45,p46,p47,p48"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(states,{player_turn},{monster_turn},{won},{lost}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p5" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p49,p50,p51,p52,p53,p54,p55"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p49,p50,p51,p52,p53,p54,p55"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p56"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p57,p58"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p56" org.eventb.core.prHyps="p18" org.eventb.core.prInfHyps="p59"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p59" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p60"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p61"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p62"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p63"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p60" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p64"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p64" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p65"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees monster_locations0')" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p66">
<org.eventb.core.prIdent name="monster_locations0'" org.eventb.core.type="ℙ(ℤ×locations)"/>
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p66" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p68" org.eventb.core.prHyps="p67">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees x)" org.eventb.core.prGoal="p68" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p69">
<org.eventb.core.prIdent name="x" org.eventb.core.type="ℤ"/>
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p69" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p71" org.eventb.core.prHyps="p70">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p71" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p72">
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="total function dom substitution in goal" org.eventb.core.prGoal="p72" org.eventb.core.prHyps="p15">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p70">
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="hyp" org.eventb.core.prGoal="p70" org.eventb.core.prHyps="p70"/>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="1"/>
<org.eventb.core.prExprRef name=".subst" org.eventb.core.prRef="e0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p73">
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p73" org.eventb.core.prHyps="p15"/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name=")" org.eventb.core.prGoal="p74">
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="total function dom substitution in goal" org.eventb.core.prGoal="p74" org.eventb.core.prHyps="p67">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p70">
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="hyp" org.eventb.core.prGoal="p70" org.eventb.core.prHyps="p70"/>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="1"/>
<org.eventb.core.prExprRef name=".subst" org.eventb.core.prRef="e0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="*" org.eventb.core.prGoal="p75">
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p75" org.eventb.core.prHyps="p67"/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="+" org.eventb.core.prGoal="p76">
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p76" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p77">
<org.eventb.core.prRule name="r10" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="sl/ds" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="SELECT0" org.eventb.core.prHyps="p1,p3,p78,p57,p6,p9,p10,p11,p12,p65,p13,p14,p58,p15,p16,p18,p17"/>
<org.eventb.core.prRule name="r11" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="PP" org.eventb.core.prGoal="p77" org.eventb.core.prHyps="p4,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p34,p35,p36,p37,p38,p39,p40,p41,p42,p43,p44,p45,p46,p47,p48,p49,p50,p51,p52,p53,p54,p55,p67,p70,p1,p3,p57,p6,p9,p10,p11,p12,p65,p13,p14,p58,p15,p16,p18,p17">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="R30000"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="building_to_district" org.eventb.core.type="ℙ(locations×locations)"/>
<org.eventb.core.prIdent name="buildings" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="connected" org.eventb.core.type="ℙ(locations×locations)"/>
<org.eventb.core.prIdent name="district_to_district" org.eventb.core.type="ℙ(locations×locations)"/>
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster_locations" org.eventb.core.type="ℙ(ℤ×locations)"/>
<org.eventb.core.prIdent name="monster_pool" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monsters" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="over" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="playing" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="state" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="turn_end" org.eventb.core.type="BOOL"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="¬Downtown=Shop"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="¬Easttown=Merchant_District"/>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="states={player_turn,monster_turn,won,lost}"/>
<org.eventb.core.prPred name="p78" org.eventb.core.predicate="next_state={player_turn ↦ monster_turn,monster_turn ↦ player_turn}">
<org.eventb.core.prIdent name="next_state" org.eventb.core.type="ℙ(states×states)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="monsters⊆monster_pool"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="partition(states,{player_turn},{monster_turn},{won},{lost})"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="connected=building_to_district∪building_to_district∼∪district_to_district∪district_to_district∼"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="¬Rivertown=Shop"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="locations={Rivertown,Easttown,Downtown,Merchant_District,Shop,Library,Bank,Station}"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="locations=districts∪buildings"/>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="¬player_turn=won"/>
<org.eventb.core.prPred name="p61" org.eventb.core.predicate="location∈locations">
<org.eventb.core.prIdent name="location" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="districts={Rivertown,Easttown,Downtown,Merchant_District}"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="¬Easttown=Bank"/>
<org.eventb.core.prPred name="p65" org.eventb.core.predicate="districts=(∅ ⦂ ℙ(locations))∨finite(districts)"/>
<org.eventb.core.prPred name="p75" org.eventb.core.predicate="monster_locations0'∈ℤ ⇸ locations">
<org.eventb.core.prIdent name="monster_locations0'" org.eventb.core.type="ℙ(ℤ×locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="¬Easttown=Downtown"/>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨finite(districts)"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀monster_locations'⦂ℙ(ℤ×locations)·monster_locations'∈monsters → locations⇒(∀x⦂ℤ·x∈monsters⇒x∈dom(monster_locations)∧monster_locations∈ℤ ⇸ locations∧x∈dom(monster_locations')∧monster_locations'∈ℤ ⇸ locations∧((monster_locations(x) ↦ monster_locations'(x)∈connected∧monster_locations'(x)∉buildings)∨(x∈dom(monster_locations)∧monster_locations∈ℤ ⇸ locations∧x∈dom(monster_locations')∧monster_locations'∈ℤ ⇸ locations)))"/>
<org.eventb.core.prPred name="p74" org.eventb.core.predicate="x∈dom(monster_locations0')">
<org.eventb.core.prIdent name="monster_locations0'" org.eventb.core.type="ℙ(ℤ×locations)"/>
<org.eventb.core.prIdent name="x" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p72" org.eventb.core.predicate="x∈dom(monster_locations)">
<org.eventb.core.prIdent name="x" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="¬Merchant_District=Station"/>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="¬Merchant_District=Bank"/>
<org.eventb.core.prPred name="p70" org.eventb.core.predicate="x∈monsters">
<org.eventb.core.prIdent name="x" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="¬Downtown=Bank"/>
<org.eventb.core.prPred name="p67" org.eventb.core.predicate="monster_locations0'∈monsters → locations">
<org.eventb.core.prIdent name="monster_locations0'" org.eventb.core.type="ℙ(ℤ×locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="state=monster_turn"/>
<org.eventb.core.prPred name="p62" org.eventb.core.predicate="state∈states"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="partition(locations,{Rivertown},{Easttown},{Downtown},{Merchant_District},{Shop},{Library},{Bank},{Station})"/>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="¬Rivertown=Easttown"/>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="¬Library=Bank"/>
<org.eventb.core.prPred name="p63" org.eventb.core.predicate="turn_end∈BOOL"/>
<org.eventb.core.prPred name="p71" org.eventb.core.predicate="x∈dom(monster_locations)∧monster_locations∈ℤ ⇸ locations∧x∈dom(monster_locations0')∧monster_locations0'∈ℤ ⇸ locations∧((monster_locations(x) ↦ monster_locations0'(x)∈connected∧monster_locations0'(x)∉buildings)∨(x∈dom(monster_locations)∧monster_locations∈ℤ ⇸ locations∧x∈dom(monster_locations0')∧monster_locations0'∈ℤ ⇸ locations))">
<org.eventb.core.prIdent name="monster_locations0'" org.eventb.core.type="ℙ(ℤ×locations)"/>
<org.eventb.core.prIdent name="x" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="¬Downtown=Station"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="building_to_district={Shop ↦ Merchant_District,Bank ↦ Downtown,Station ↦ Easttown,Library ↦ Rivertown}"/>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="¬Easttown=Station"/>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="¬won=lost"/>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="¬Rivertown=Station"/>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="¬Rivertown=Bank"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="¬Bank=Station"/>
<org.eventb.core.prPred name="p77" org.eventb.core.predicate="(monster_locations(x) ↦ monster_locations0'(x)∈connected∧¬monster_locations0'(x)∈buildings)∨(x∈dom(monster_locations)∧monster_locations∈ℤ ⇸ locations∧x∈dom(monster_locations0')∧monster_locations0'∈ℤ ⇸ locations)">
<org.eventb.core.prIdent name="monster_locations0'" org.eventb.core.type="ℙ(ℤ×locations)"/>
<org.eventb.core.prIdent name="x" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p73" org.eventb.core.predicate="monster_locations∈ℤ ⇸ locations"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="states ∖ over=playing"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="¬Downtown=Library"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="¬Shop=Library"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="playing={player_turn,monster_turn}"/>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="¬player_turn=monster_turn"/>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="¬monster_turn=won"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="buildings={Shop,Library,Bank,Station}"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="¬Merchant_District=Shop"/>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="finite(monsters)"/>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="¬player_turn=lost"/>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨(finite(locations)∧finite(districts))"/>
<org.eventb.core.prPred name="p76" org.eventb.core.predicate="(monster_locations(x) ↦ monster_locations0'(x)∈connected∧monster_locations0'(x)∉buildings)∨(x∈dom(monster_locations)∧monster_locations∈ℤ ⇸ locations∧x∈dom(monster_locations0')∧monster_locations0'∈ℤ ⇸ locations)">
<org.eventb.core.prIdent name="monster_locations0'" org.eventb.core.type="ℙ(ℤ×locations)"/>
<org.eventb.core.prIdent name="x" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="monster_locations∈monsters → locations"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="finite(locations)"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="¬Shop=Station"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="turn_end=FALSE"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="finite(buildings)"/>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="¬Easttown=Library"/>
<org.eventb.core.prPred name="p68" org.eventb.core.predicate="∀x⦂ℤ·x∈monsters⇒x∈dom(monster_locations)∧monster_locations∈ℤ ⇸ locations∧x∈dom(monster_locations0')∧monster_locations0'∈ℤ ⇸ locations∧((monster_locations(x) ↦ monster_locations0'(x)∈connected∧monster_locations0'(x)∉buildings)∨(x∈dom(monster_locations)∧monster_locations∈ℤ ⇸ locations∧x∈dom(monster_locations0')∧monster_locations0'∈ℤ ⇸ locations))">
<org.eventb.core.prIdent name="monster_locations0'" org.eventb.core.type="ℙ(ℤ×locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="¬Downtown=Merchant_District"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="monsters⊆monster_pool∧finite(monsters)"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="¬Rivertown=Library"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="¬Shop=Bank"/>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨(⊤∧finite(districts))"/>
<org.eventb.core.prPred name="p69" org.eventb.core.predicate="x∈monsters⇒x∈dom(monster_locations)∧monster_locations∈ℤ ⇸ locations∧x∈dom(monster_locations0')∧monster_locations0'∈ℤ ⇸ locations∧((monster_locations(x) ↦ monster_locations0'(x)∈connected∧monster_locations0'(x)∉buildings)∨(x∈dom(monster_locations)∧monster_locations∈ℤ ⇸ locations∧x∈dom(monster_locations0')∧monster_locations0'∈ℤ ⇸ locations))">
<org.eventb.core.prIdent name="monster_locations0'" org.eventb.core.type="ℙ(ℤ×locations)"/>
<org.eventb.core.prIdent name="x" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="finite(locations × districts)"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="¬Library=Station"/>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="¬Easttown=Shop"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="over={won,lost}"/>
<org.eventb.core.prPred name="p66" org.eventb.core.predicate="monster_locations0'∈monsters → locations⇒(∀x⦂ℤ·x∈monsters⇒x∈dom(monster_locations)∧monster_locations∈ℤ ⇸ locations∧x∈dom(monster_locations0')∧monster_locations0'∈ℤ ⇸ locations∧((monster_locations(x) ↦ monster_locations0'(x)∈connected∧monster_locations0'(x)∉buildings)∨(x∈dom(monster_locations)∧monster_locations∈ℤ ⇸ locations∧x∈dom(monster_locations0')∧monster_locations0'∈ℤ ⇸ locations)))">
<org.eventb.core.prIdent name="monster_locations0'" org.eventb.core.type="ℙ(ℤ×locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p64" org.eventb.core.predicate="⊥∨districts=(∅ ⦂ ℙ(locations))∨finite(districts)"/>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="¬monster_turn=lost"/>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="¬Merchant_District=Library"/>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="¬Rivertown=Merchant_District"/>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="¬Rivertown=Downtown"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="states ∖ playing=over"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="district_to_district={Rivertown ↦ Easttown,Easttown ↦ Downtown,Downtown ↦ Merchant_District,Merchant_District ↦ Rivertown}"/>
<org.eventb.core.prExpr name="e0" org.eventb.core.expression="monsters"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r7" org.eventb.core.prRID="org.eventb.core.seqprover.totalDom:2"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL2"/>
<org.eventb.core.prReas name="r8" org.eventb.core.prRID="org.eventb.core.seqprover.hyp"/>
<org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r11" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalPP:1"/>
<org.eventb.core.prReas name="r9" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
<org.eventb.core.prReas name="r10" org.eventb.core.prRID="org.eventb.core.seqprover.mngHyp"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="monsters_move/monsters/FIS" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1" org.eventb.core.prSets="locations" org.eventb.core.psManual="true">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(locations,{Rivertown},{Easttown},{Downtown},{Merchant_District},{Shop},{Library},{Bank},{Station}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(states,{player_turn},{monster_turn},{won},{lost}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p32" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p33,p34,p35,p36,p37,p38,p39"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p33,p34,p35,p36,p37,p38,p39"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p40" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p41"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p42" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p43"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p44" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p45"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p46" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p47"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p48" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p49"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p50" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p51"/>
<org.eventb.core.prHypAction name="REWRITE6" org.eventb.core.prHidden="p52" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p53"/>
<org.eventb.core.prHypAction name="REWRITE7" org.eventb.core.prHidden="p54" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p55"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p41" org.eventb.core.prHyps="p57" org.eventb.core.prInfHyps="p56"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p56" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p58"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p59"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p60"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p61"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p62" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p63,p64"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p58" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p65"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p65" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p66"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∃ goal (inst monster_locations)" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p67">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p67" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p68">
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p68" org.eventb.core.prHyps="p1">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p69">
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p69" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p67">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p67" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prExprRef name=".exprs" org.eventb.core.prRef="e0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="buildings" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="connected" org.eventb.core.type="ℙ(locations×locations)"/>
<org.eventb.core.prIdent name="monster_locations" org.eventb.core.type="ℙ(ℤ×locations)"/>
<org.eventb.core.prIdent name="monsters" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="¬Easttown=Merchant_District">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Downtown=Shop">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="states={player_turn,monster_turn,won,lost}">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p64" org.eventb.core.predicate="monsters⊆monster_pool">
<org.eventb.core.prIdent name="monster_pool" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="∀x⦂ℙ(ℤ)·x⊆monster_pool∧¬x=(∅ ⦂ ℙ(ℤ))⇒(∃b⦂ℤ·∀x0⦂ℤ·x0∈x⇒b≥x0)">
<org.eventb.core.prIdent name="monster_pool" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="∀x⦂ℙ(ℤ)·x⊆monster_pool∧x≠(∅ ⦂ ℙ(ℤ))⇒(∃b⦂ℤ·∀x0⦂ℤ·x0∈x⇒b≥x0)">
<org.eventb.core.prIdent name="monster_pool" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="partition(states,{player_turn},{monster_turn},{won},{lost})">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬Rivertown=Shop">
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="locations={Rivertown,Easttown,Downtown,Merchant_District,Shop,Library,Bank,Station}">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p69" org.eventb.core.predicate="⊤∧(∀x⦂ℤ·x∈monsters⇒(monster_locations(x) ↦ monster_locations(x)∈connected∧monster_locations(x)∉buildings)∨monster_locations(x)=monster_locations(x))"/>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="∀l1⦂locations,l2⦂locations·l1∈locations∧l2∈locations∧¬l1=l2⇒monster_locations(l1)∩monster_locations(l2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="monster_locations" org.eventb.core.type="ℙ(locations×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="¬player_turn=won">
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="location∈locations">
<org.eventb.core.prIdent name="location" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="∀x⦂ℙ(ℤ)·x∈ℙ(monster_pool)⇒(∀x0⦂ℤ·x0∈x∧max(x)+1&gt;x0)">
<org.eventb.core.prIdent name="monster_pool" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="¬Easttown=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p66" org.eventb.core.predicate="districts=(∅ ⦂ ℙ(locations))∨finite(districts)">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="¬Easttown=Downtown">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨finite(districts)">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="¬Merchant_District=Station">
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="¬Merchant_District=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="¬Downtown=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="state∈states">
<org.eventb.core.prIdent name="state" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="partition(locations,{Rivertown},{Easttown},{Downtown},{Merchant_District},{Shop},{Library},{Bank},{Station})">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="¬Rivertown=Easttown">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="∀x⦂ℙ(ℤ)·x∈ℙ(monster_pool)∧x≠(∅ ⦂ ℙ(ℤ))⇒max(x)∈x">
<org.eventb.core.prIdent name="monster_pool" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="¬Library=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p61" org.eventb.core.predicate="turn_end∈BOOL">
<org.eventb.core.prIdent name="turn_end" org.eventb.core.type="BOOL"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="∀x⦂ℙ(ℤ)·x∈ℙ(monster_pool)⇒¬new_monster(x)∈x">
<org.eventb.core.prIdent name="monster_pool" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="new_monster" org.eventb.core.type="ℙ(ℙ(ℤ)×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="¬Downtown=Station">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="new_monster={(∅ ⦂ ℙ(ℤ)) ↦ 0}∪{x⦂ℙ(ℤ)·x⊆monster_pool∧x≠(∅ ⦂ ℙ(ℤ)) ∣ x ↦ max(x)+1}">
<org.eventb.core.prIdent name="monster_pool" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="new_monster" org.eventb.core.type="ℙ(ℙ(ℤ)×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∃monster_locations'⦂ℙ(ℤ×locations)·monster_locations'∈monsters → locations∧(∀x⦂ℤ·x∈monsters⇒(monster_locations(x) ↦ monster_locations'(x)∈connected∧monster_locations'(x)∉buildings)∨monster_locations(x)=monster_locations'(x))"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="¬Easttown=Station">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="¬Rivertown=Station">
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="¬won=lost">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="¬Rivertown=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="new_monster={(∅ ⦂ ℙ(ℤ)) ↦ 0}∪{x⦂ℙ(ℤ)·x⊆monster_pool∧¬x=(∅ ⦂ ℙ(ℤ)) ∣ x ↦ max(x)+1}">
<org.eventb.core.prIdent name="monster_pool" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="new_monster" org.eventb.core.type="ℙ(ℙ(ℤ)×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p67" org.eventb.core.predicate="⊤"/>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="∀x⦂ℙ(ℤ)·x∈ℙ(monster_pool)∧x≠(∅ ⦂ ℙ(ℤ))⇒max(x)+1∈monster_pool">
<org.eventb.core.prIdent name="monster_pool" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="∀x⦂ℙ(ℤ)·x∈ℙ(monster_pool)∧¬x=(∅ ⦂ ℙ(ℤ))⇒max(x)∈x">
<org.eventb.core.prIdent name="monster_pool" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Bank=Station">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬Downtown=Library">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="∀x⦂ℙ(ℤ)·x∈ℙ(monster_pool)∧¬x=(∅ ⦂ ℙ(ℤ))⇒max(x)+1∈monster_pool">
<org.eventb.core.prIdent name="monster_pool" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬Shop=Library">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="¬player_turn=monster_turn">
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="¬Merchant_District=Shop">
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="¬monster_turn=won">
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p63" org.eventb.core.predicate="finite(monsters)"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="¬player_turn=lost">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨(finite(locations)∧finite(districts))">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="monster_locations∈monsters → locations"/>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="finite(locations)"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="¬Shop=Station">
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="∀l1⦂locations,l2⦂locations·l1∈locations∧l2∈locations∧l1≠l2⇒monster_locations(l1)∩monster_locations(l2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="monster_locations" org.eventb.core.type="ℙ(locations×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="¬Easttown=Library">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="¬Downtown=Merchant_District">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p62" org.eventb.core.predicate="monsters⊆monster_pool∧finite(monsters)">
<org.eventb.core.prIdent name="monster_pool" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="¬Rivertown=Library">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="¬Shop=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨(⊤∧finite(districts))">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p68" org.eventb.core.predicate="monster_locations∈monsters → locations∧(∀x⦂ℤ·x∈monsters⇒(monster_locations(x) ↦ monster_locations(x)∈connected∧monster_locations(x)∉buildings)∨monster_locations(x)=monster_locations(x))"/>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="finite(locations × districts)">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="¬Library=Station">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="∀x⦂ℙ(ℤ)·x∈ℙ(monster_pool)⇒(∀x0⦂ℤ·x0∈x)∧(∀x0⦂ℤ·max(x)+1&gt;x0)">
<org.eventb.core.prIdent name="monster_pool" org.eventb.core.type="ℙ(ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="¬Easttown=Shop">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p65" org.eventb.core.predicate="⊥∨districts=(∅ ⦂ ℙ(locations))∨finite(districts)">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="¬monster_turn=lost">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="¬Merchant_District=Library">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="¬Rivertown=Merchant_District">
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="¬Rivertown=Downtown">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="∀x⦂ℙ(ℤ)·x∈ℙ(monster_pool)⇒new_monster(x)∉x">
<org.eventb.core.prIdent name="monster_pool" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="new_monster" org.eventb.core.type="ℙ(ℙ(ℤ)×ℤ)"/>
</org.eventb.core.prPred>
<org.eventb.core.prExpr name="e0" org.eventb.core.expression="monster_locations"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL2"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.exI"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="add_monster/monsters_type/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(states,{player_turn},{monster_turn},{won},{lost}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p4,p5,p6,p7,p8,p9,p10"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p4,p5,p6,p7,p8,p9,p10"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(locations,{Rivertown},{Easttown},{Downtown},{Merchant_District},{Shop},{Library},{Bank},{Station}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p34,p35,p36,p37,p38,p39,p40"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p34,p35,p36,p37,p38,p39,p40"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p45">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p41" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p42"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p43" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p44"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p45" org.eventb.core.prHyps="p1,p2">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p48">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p42" org.eventb.core.prHyps="p47" org.eventb.core.prInfHyps="p46"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p48" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p50">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p46" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p49"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p50" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="monster" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="monster_pool" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="monsters" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="¬Easttown=Merchant_District">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="¬Downtown=Shop">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="states={player_turn,monster_turn,won,lost}">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="monsters∪{monster}⊆monster_pool"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="monsters⊆monster_pool"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="partition(states,{player_turn},{monster_turn},{won},{lost})">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="¬Rivertown=Shop">
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="locations={Rivertown,Easttown,Downtown,Merchant_District,Shop,Library,Bank,Station}">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬player_turn=won">
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="¬Easttown=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="¬Easttown=Downtown">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨finite(districts)">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="¬Merchant_District=Station">
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="¬Merchant_District=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="¬Downtown=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="partition(locations,{Rivertown},{Easttown},{Downtown},{Merchant_District},{Shop},{Library},{Bank},{Station})">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="⊤∧⊤"/>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="monsters⊆monster_pool∧monster∈monster_pool"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="¬Rivertown=Easttown">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="¬Library=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="¬Downtown=Station">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="¬Easttown=Station">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="¬Rivertown=Station">
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="¬won=lost">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="¬Rivertown=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="monster∈monster_pool"/>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="⊤"/>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="¬Bank=Station">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="monster∉monsters"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="¬Downtown=Library">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="¬Shop=Library">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬player_turn=monster_turn">
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬monster_turn=won">
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="¬Merchant_District=Shop">
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬player_turn=lost">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨(finite(locations)∧finite(districts))">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="¬Shop=Station">
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="finite(locations)">
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="¬Easttown=Library">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="¬Downtown=Merchant_District">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="¬Rivertown=Library">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="¬Shop=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨(⊤∧finite(districts))">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="finite(locations × districts)">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="¬Library=Station">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="¬Easttown=Shop">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="¬monster_turn=lost">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="¬Merchant_District=Library">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="¬monster∈monsters"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="¬Rivertown=Merchant_District">
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="¬Rivertown=Downtown">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL2"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="add_monster/monster_locations_type/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p34,p35,p36" org.eventb.core.prSets="locations,states">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(states,{player_turn},{monster_turn},{won},{lost}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p37,p38,p39,p40,p41,p42,p43"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p37,p38,p39,p40,p41,p42,p43"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(locations,{Rivertown},{Easttown},{Downtown},{Merchant_District},{Shop},{Library},{Bank},{Station}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p27" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p44,p45,p46,p47,p48,p49,p50,p51,p52,p53,p54,p55,p56,p57,p58,p59,p60,p61,p62,p63,p64,p65,p66,p67,p68,p69,p70,p71,p72"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p44,p45,p46,p47,p48,p49,p50,p51,p52,p53,p54,p55,p56,p57,p58,p59,p60,p61,p62,p63,p64,p65,p66,p67,p68,p69,p70,p71,p72"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p26" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p73"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p74"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p73" org.eventb.core.prHyps="p19" org.eventb.core.prInfHyps="p75"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p75" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p76"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(∃x·x∈monsters∧x ↦ monster_location∈monster_locations)" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p29" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p77"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p77"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[0]]∈monsters∧[[0]] ↦ monster_location∈monster_locations)" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p77" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p78"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p78"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p79"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p80"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p81"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p82"/>
<org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p83"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p76" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p84"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p84" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p85"/>
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p30,p36,p10,p28,p4,p20,p18,p1,p5,p33,p15,p16,p31,p35,p9,p22,p11,p19,p6,p32,p25,p12,p23,p13,p7,p17,p14,p24,p21,p2,p34,p37,p38,p39,p40,p41,p42,p43,p44,p45,p46,p47,p48,p49,p50,p51,p52,p53,p54,p55,p56,p57,p58,p59,p60,p61,p62,p63,p64,p65,p66,p67,p68,p69,p70,p71,p72,p74,p78,p85">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="building_to_district" org.eventb.core.type="ℙ(locations×locations)"/>
<org.eventb.core.prIdent name="buildings" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="closed_gates" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="closed_to_win" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="connected" org.eventb.core.type="ℙ(locations×locations)"/>
<org.eventb.core.prIdent name="district_to_district" org.eventb.core.type="ℙ(locations×locations)"/>
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="game_over" org.eventb.core.type="BOOL"/>
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="monster_location" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="monster_locations" org.eventb.core.type="ℙ(ℤ×locations)"/>
<org.eventb.core.prIdent name="monster_pool" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monsters" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="next_state" org.eventb.core.type="ℙ(states×states)"/>
<org.eventb.core.prIdent name="open_gates" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="open_to_lose" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="over" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="playing" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="state" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="turn_end" org.eventb.core.type="BOOL"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="¬Downtown=Shop"/>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="¬Easttown=Merchant_District"/>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="states={player_turn,monster_turn,won,lost}"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="next_state={player_turn ↦ monster_turn,monster_turn ↦ player_turn,lost ↦ lost,won ↦ won}"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="monster_pool={1}"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="monsters⊆monster_pool"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="partition(states,{player_turn},{monster_turn},{won},{lost})"/>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="¬Rivertown=Shop"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="connected=building_to_district∪building_to_district∼∪district_to_district∪district_to_district∼"/>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="locations={Rivertown,Easttown,Downtown,Merchant_District,Shop,Library,Bank,Station}"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="locations=districts∪buildings"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="game_over=TRUE⇔state∈over"/>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="¬player_turn=won"/>
<org.eventb.core.prPred name="p80" org.eventb.core.predicate="location∈locations">
<org.eventb.core.prIdent name="location" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="monsters=dom(monster_locations)"/>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="¬Easttown=Bank"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="districts={Rivertown,Easttown,Downtown,Merchant_District}"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="monster_locations∪{monster ↦ monster_location}∈monsters∪{monster} → locations"/>
<org.eventb.core.prPred name="p85" org.eventb.core.predicate="districts=(∅ ⦂ ℙ(locations))∨finite(districts)"/>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="¬Easttown=Downtown"/>
<org.eventb.core.prPred name="p76" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨finite(districts)"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="∀x⦂states·x∈playing⇒next_state(x)∈playing"/>
<org.eventb.core.prPred name="p66" org.eventb.core.predicate="¬Merchant_District=Station"/>
<org.eventb.core.prPred name="p65" org.eventb.core.predicate="¬Merchant_District=Bank"/>
<org.eventb.core.prPred name="p61" org.eventb.core.predicate="¬Downtown=Bank"/>
<org.eventb.core.prPred name="p79" org.eventb.core.predicate="game_over∈BOOL"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="state=monster_turn"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="finite(open_gates)"/>
<org.eventb.core.prPred name="p81" org.eventb.core.predicate="state∈states"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="partition(locations,{Rivertown},{Easttown},{Downtown},{Merchant_District},{Shop},{Library},{Bank},{Station})"/>
<org.eventb.core.prPred name="p77" org.eventb.core.predicate="∀x⦂ℤ·¬(x∈monsters∧x ↦ monster_location∈monster_locations)"/>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="¬Rivertown=Easttown"/>
<org.eventb.core.prPred name="p70" org.eventb.core.predicate="¬Library=Bank"/>
<org.eventb.core.prPred name="p82" org.eventb.core.predicate="turn_end∈BOOL"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="¬(∃x⦂ℤ·x∈monsters∧x ↦ monster_location∈monster_locations)"/>
<org.eventb.core.prPred name="p62" org.eventb.core.predicate="¬Downtown=Station"/>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="¬Easttown=Station"/>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="building_to_district={Shop ↦ Merchant_District,Bank ↦ Downtown,Station ↦ Easttown,Library ↦ Rivertown}"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="open_gates⊆buildings"/>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="¬Rivertown=Station"/>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="¬won=lost"/>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="¬Rivertown=Bank"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="monster∈monster_pool"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="closed_to_win=2"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="next_state∈states → states"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="monster_location∈open_gates"/>
<org.eventb.core.prPred name="p78" org.eventb.core.predicate="∀x⦂ℤ·¬x∈monsters∨¬x ↦ monster_location∈monster_locations"/>
<org.eventb.core.prPred name="p72" org.eventb.core.predicate="¬Bank=Station"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="monster∉monsters"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="states ∖ over=playing"/>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="¬Downtown=Library"/>
<org.eventb.core.prPred name="p67" org.eventb.core.predicate="¬Shop=Library"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="playing={player_turn,monster_turn}"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="closed_gates⊆buildings"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="¬player_turn=monster_turn"/>
<org.eventb.core.prPred name="p63" org.eventb.core.predicate="¬Merchant_District=Shop"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="buildings={Shop,Library,Bank,Station}"/>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="¬monster_turn=won"/>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="¬player_turn=lost"/>
<org.eventb.core.prPred name="p73" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨(finite(locations)∧finite(districts))"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="monster_locations∈monsters → locations"/>
<org.eventb.core.prPred name="p69" org.eventb.core.predicate="¬Shop=Station"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="∀x⦂states·x∈over⇒next_state(x)∈over"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="finite(locations)"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="turn_end=FALSE"/>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="¬Easttown=Library"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="finite(buildings)"/>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="¬Downtown=Merchant_District"/>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="¬Rivertown=Library"/>
<org.eventb.core.prPred name="p68" org.eventb.core.predicate="¬Shop=Bank"/>
<org.eventb.core.prPred name="p75" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨(⊤∧finite(districts))"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="finite(closed_gates)"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="finite(locations × districts)"/>
<org.eventb.core.prPred name="p71" org.eventb.core.predicate="¬Library=Station"/>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="¬Easttown=Shop"/>
<org.eventb.core.prPred name="p83" org.eventb.core.predicate="acted∈BOOL">
<org.eventb.core.prIdent name="acted" org.eventb.core.type="BOOL"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="over={won,lost}"/>
<org.eventb.core.prPred name="p84" org.eventb.core.predicate="⊥∨districts=(∅ ⦂ ℙ(locations))∨finite(districts)"/>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="¬monster_turn=lost"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="open_to_lose=3"/>
<org.eventb.core.prPred name="p74" org.eventb.core.predicate="¬monster∈monsters"/>
<org.eventb.core.prPred name="p64" org.eventb.core.predicate="¬Merchant_District=Library"/>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="¬Rivertown=Merchant_District"/>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="¬Rivertown=Downtown"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="states ∖ playing=over"/>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="district_to_district={Rivertown ↦ Easttown,Easttown ↦ Downtown,Downtown ↦ Merchant_District,Merchant_District ↦ Rivertown}"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.rn"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL2"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="add_monster/monsters_finite/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(locations,{Rivertown},{Easttown},{Downtown},{Merchant_District},{Shop},{Library},{Bank},{Station}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(states,{player_turn},{monster_turn},{won},{lost}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p32" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p33,p34,p35,p36,p37,p38,p39"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p33,p34,p35,p36,p37,p38,p39"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p1">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p40" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p41"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p42" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p43"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="hyp" org.eventb.core.prGoal="p1" org.eventb.core.prHyps="p1"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="monsters" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="¬Easttown=Merchant_District">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="¬Downtown=Shop">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="¬Bank=Station">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="¬monsters=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="states={player_turn,monster_turn,won,lost}">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="¬Downtown=Library">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="¬Shop=Library">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="partition(states,{player_turn},{monster_turn},{won},{lost})">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬Rivertown=Shop">
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="locations={Rivertown,Easttown,Downtown,Merchant_District,Shop,Library,Bank,Station}">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="¬player_turn=won">
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="¬Easttown=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="¬player_turn=monster_turn">
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="¬monster_turn=won">
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="¬Merchant_District=Shop">
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="¬player_turn=lost">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="¬Easttown=Downtown">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="finite(monsters)"/>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨(finite(locations)∧finite(districts))">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="¬Shop=Station">
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="¬Easttown=Library">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="¬Downtown=Merchant_District">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="monsters≠(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="¬Merchant_District=Station">
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="¬Merchant_District=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬Rivertown=Library">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="¬Shop=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="¬Downtown=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="finite(locations × districts)">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="¬Library=Station">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="partition(locations,{Rivertown},{Easttown},{Downtown},{Merchant_District},{Shop},{Library},{Bank},{Station})">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="¬Easttown=Shop">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Rivertown=Easttown">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="¬monster_turn=lost">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="¬Library=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="¬Downtown=Station">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="¬Easttown=Station">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="finite(monsters∪{max(monsters)+1})"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="¬Merchant_District=Library">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="¬won=lost">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="¬Rivertown=Station">
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬Rivertown=Merchant_District">
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Rivertown=Downtown">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="¬Rivertown=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.hyp"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="add_monster/monsters/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(states,{player_turn},{monster_turn},{won},{lost}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p4,p5,p6,p7,p8,p9,p10"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p4,p5,p6,p7,p8,p9,p10"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(locations,{Rivertown},{Easttown},{Downtown},{Merchant_District},{Shop},{Library},{Bank},{Station}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p34,p35,p36,p37,p38,p39,p40"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p34,p35,p36,p37,p38,p39,p40"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p41">
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p41" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p59">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p42" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p43"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p44" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p45"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p46" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p47"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p48" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p49"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p50" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p51"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p52" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p53"/>
<org.eventb.core.prHypAction name="REWRITE6" org.eventb.core.prHidden="p54" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p55"/>
<org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p56"/>
<org.eventb.core.prHypAction name="REWRITE8" org.eventb.core.prHidden="p57" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p58"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p59" org.eventb.core.prHyps="p2"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="monster_pool" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="monster_sets" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="monsters" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="new_monster" org.eventb.core.type="ℙ(ℙ(ℤ)×ℤ)"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="¬Easttown=Merchant_District">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="¬Downtown=Shop">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="states={player_turn,monster_turn,won,lost}">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="partition(states,{player_turn},{monster_turn},{won},{lost})">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="monster_pool≠(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="¬Rivertown=Shop">
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="locations={Rivertown,Easttown,Downtown,Merchant_District,Shop,Library,Bank,Station}">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="⊤∧new_monster∈ℙ(ℤ) ⇸ ℤ"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬player_turn=won">
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="(∅ ⦂ ℙ(ℙ(ℤ)))∪(monster_sets ∖ (∅ ⦂ ℙ(ℙ(ℤ))))=monster_sets"/>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="monster_sets=ℙ(monster_pool ∖ {max(monster_pool)})"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="¬Easttown=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="¬Easttown=Downtown">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="∀x⦂ℙ(ℤ)·x∈monster_sets⇒(∃b⦂ℤ·∀x0⦂ℤ·x0∈x⇒b≥x0)"/>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="¬monster_pool=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="∀x⦂ℙ(ℤ)·x∈monster_sets⇒x⊆monster_pool∧new_monster(x)∈monster_pool"/>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="∀x⦂ℙ(ℤ)·x∈monster_sets⇒¬x=(∅ ⦂ ℙ(ℤ))∧(∃b⦂ℤ·∀x0⦂ℤ·x0∈x⇒b≥x0)"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="¬Merchant_District=Station">
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="¬Merchant_District=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="¬Downtown=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="new_monster={(∅ ⦂ ℙ(ℤ)) ↦ 0}∪{x⦂ℙ(ℤ)·x∈monster_sets ∖ (∅ ⦂ ℙ(ℙ(ℤ))) ∣ x ↦ max(x)+1}"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="monsters∈dom(new_monster)∧new_monster∈ℙ(ℤ) ⇸ ℤ"/>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="∀x⦂ℙ(ℤ)·x∈monster_sets ∖ (∅ ⦂ ℙ(ℙ(ℤ)))⇒(∃b⦂ℤ·∀x0⦂ℤ·x0∈x⇒b≥x0)"/>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="new_monster∈ℙ(ℤ) ⇸ ℤ"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="partition(locations,{Rivertown},{Easttown},{Downtown},{Merchant_District},{Shop},{Library},{Bank},{Station})">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="∀x⦂ℙ(ℤ)·x∈monster_sets⇒x∪{new_monster(x)}⊆monster_pool"/>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="∀x⦂ℙ(ℤ)·x∈monster_sets ∖ (∅ ⦂ ℙ(ℙ(ℤ)))⇒x≠(∅ ⦂ ℙ(ℤ))∧(∃b⦂ℤ·∀x0⦂ℤ·x0∈x⇒b≥x0)"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="¬Rivertown=Easttown">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="¬Library=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="monster_sets={x⦂ℙ(ℤ)·x⊆monster_pool ∖ {max(monster_pool)} ∣ x}"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="¬Downtown=Station">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="¬Easttown=Station">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="¬Rivertown=Station">
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="¬won=lost">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="¬Rivertown=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="¬Bank=Station">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="¬Downtown=Library">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="¬Shop=Library">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬player_turn=monster_turn">
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬monster_turn=won">
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="¬Merchant_District=Shop">
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬player_turn=lost">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨(finite(locations)∧finite(districts))">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="¬Shop=Station">
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="¬Easttown=Library">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="¬Downtown=Merchant_District">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="monsters∈dom(new_monster)"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="¬Rivertown=Library">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="¬Shop=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="new_monster={(∅ ⦂ ℙ(ℤ)) ↦ 0}∪{x⦂ℙ(ℤ)·x∈monster_sets ∣ x ↦ max(x)+1}"/>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="∀x⦂ℙ(ℤ)·x∈monster_sets⇒¬x=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="∀x⦂ℙ(ℤ)·x∈monster_sets ∖ (∅ ⦂ ℙ(ℙ(ℤ)))⇒x≠(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="finite(locations × districts)">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="¬Library=Station">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="¬Easttown=Shop">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="¬monster_turn=lost">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="¬Merchant_District=Library">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="¬Rivertown=Merchant_District">
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="¬Rivertown=Downtown">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="new_monster∈monster_sets → monster_pool"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL2"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="add_monster/one_location/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="l2,l1" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26" org.eventb.core.prSets="locations,states">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(locations,{Rivertown},{Easttown},{Downtown},{Merchant_District},{Shop},{Library},{Bank},{Station}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p19" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p27,p28,p29,p30,p31,p32,p33,p34,p35,p36,p37,p38,p39,p40,p41,p42,p43,p44,p45,p46,p47,p48,p49,p50,p51,p52,p53,p54,p55"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p27,p28,p29,p30,p31,p32,p33,p34,p35,p36,p37,p38,p39,p40,p41,p42,p43,p44,p45,p46,p47,p48,p49,p50,p51,p52,p53,p54,p55"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(states,{player_turn},{monster_turn},{won},{lost}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p5" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p56,p57,p58,p59,p60,p61,p62"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p56,p57,p58,p59,p60,p61,p62"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p68">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p18" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p63"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p16" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p64,p65"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p13" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p66"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p67"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p63" org.eventb.core.prHyps="p11" org.eventb.core.prInfHyps="p69"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p69" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p70"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prGoal="p68" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p77">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p71"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p72"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p73"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p74"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p66" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p75"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p70" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p76"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p77" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p80">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p75" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p78"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p76" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p79"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees l1,l2)" org.eventb.core.prGoal="p80" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p81">
<org.eventb.core.prIdent name="l1" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="l2" org.eventb.core.type="locations"/>
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p81" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p83" org.eventb.core.prHyps="p82">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ovr in goal" org.eventb.core.prGoal="p83" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p85" org.eventb.core.prHyps="p84">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ovr in goal" org.eventb.core.prGoal="p85" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p87" org.eventb.core.prHyps="p86">
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p87" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p88">
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with l1=monster_location" org.eventb.core.prHyps="p84">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p82" org.eventb.core.prInfHyps="p89"/>
<org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p82"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p89" org.eventb.core.prHyps="p86" org.eventb.core.prInfHyps="p90"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p90" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p88"/>
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊥ hyp" org.eventb.core.prHyps="p88"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p92" org.eventb.core.prHyps="p91">
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Functional image simplification in goal" org.eventb.core.prGoal="p92" org.eventb.core.prHyps="p21">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p93">
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with l1=monster_location" org.eventb.core.prHyps="p84">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p82" org.eventb.core.prInfHyps="p89"/>
<org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p82"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p89" org.eventb.core.prHyps="p91" org.eventb.core.prInfHyps="p94"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p94"/>
<org.eventb.core.prRule name="r10" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p93" org.eventb.core.prHyps="p9,p10,p22,p24,p6,p26,p14,p15,p8,p11,p7,p20,p4,p3,p23,p1,p21,p17,p25,p12,p27,p28,p29,p30,p31,p32,p33,p34,p35,p36,p37,p38,p39,p40,p41,p42,p43,p44,p45,p46,p47,p48,p49,p50,p51,p52,p53,p54,p55,p56,p57,p58,p59,p60,p61,p62,p64,p65,p67,p78,p79,p82,p84,p91">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p96" org.eventb.core.prHyps="p95">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ovr in goal" org.eventb.core.prGoal="p96" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p97" org.eventb.core.prHyps="p86">
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Functional image simplification in goal" org.eventb.core.prGoal="p97" org.eventb.core.prHyps="p21">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p98">
<org.eventb.core.prRule name="r10" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p98" org.eventb.core.prHyps="p9,p10,p22,p24,p6,p26,p14,p15,p8,p11,p7,p20,p4,p3,p23,p1,p21,p17,p25,p12,p27,p28,p29,p30,p31,p32,p33,p34,p35,p36,p37,p38,p39,p40,p41,p42,p43,p44,p45,p46,p47,p48,p49,p50,p51,p52,p53,p54,p55,p56,p57,p58,p59,p60,p61,p62,p64,p65,p67,p78,p79,p82,p95,p86">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0.0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p99" org.eventb.core.prHyps="p91">
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Functional image simplification in goal" org.eventb.core.prGoal="p99" org.eventb.core.prHyps="p21">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p100">
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Functional image simplification in goal" org.eventb.core.prGoal="p100" org.eventb.core.prHyps="p21">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p101">
<org.eventb.core.prRule name="r10" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p101" org.eventb.core.prHyps="p9,p10,p22,p24,p6,p26,p14,p15,p8,p11,p7,p20,p4,p3,p23,p1,p21,p17,p25,p12,p27,p28,p29,p30,p31,p32,p33,p34,p35,p36,p37,p38,p39,p40,p41,p42,p43,p44,p45,p46,p47,p48,p49,p50,p51,p52,p53,p54,p55,p56,p57,p58,p59,p60,p61,p62,p64,p65,p67,p78,p79,p82,p95,p91">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0.0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="0.0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="building_to_district" org.eventb.core.type="ℙ(locations×locations)"/>
<org.eventb.core.prIdent name="buildings" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="closed_to_win" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="connected" org.eventb.core.type="ℙ(locations×locations)"/>
<org.eventb.core.prIdent name="district_to_district" org.eventb.core.type="ℙ(locations×locations)"/>
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="monster_location" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="monster_locations" org.eventb.core.type="ℙ(locations×ℙ(ℤ))"/>
<org.eventb.core.prIdent name="monster_pool" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monsters" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="next_state" org.eventb.core.type="ℙ(states×states)"/>
<org.eventb.core.prIdent name="open_to_lose" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="over" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="playing" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="state" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="turn_end" org.eventb.core.type="BOOL"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
<org.eventb.core.prPred name="p75" org.eventb.core.predicate="∀l1⦂locations,l2⦂locations·⊤∧⊤∧¬l1=l2⇒monster_locations(l1)∩monster_locations(l2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="states={player_turn,monster_turn,won,lost}"/>
<org.eventb.core.prPred name="p92" org.eventb.core.predicate="(monster_locations(monster_location)∪{monster})∩({monster_location} ⩤ monster_locations)(l2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="l2" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="next_state={player_turn ↦ monster_turn,monster_turn ↦ player_turn}"/>
<org.eventb.core.prPred name="p83" org.eventb.core.predicate="(monster_locations{monster_location ↦ monster_locations(monster_location)∪{monster}})(l1)∩(monster_locations{monster_location ↦ monster_locations(monster_location)∪{monster}})(l2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="l1" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="l2" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="¬Rivertown=Shop"/>
<org.eventb.core.prPred name="p89" org.eventb.core.predicate="¬monster_location=l2">
<org.eventb.core.prIdent name="l2" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p84" org.eventb.core.predicate="l1=monster_location">
<org.eventb.core.prIdent name="l1" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="districts={Rivertown,Easttown,Downtown,Merchant_District}"/>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="¬Easttown=Downtown"/>
<org.eventb.core.prPred name="p70" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨finite(districts)"/>
<org.eventb.core.prPred name="p100" org.eventb.core.predicate="monster_locations(l1)∩({monster_location} ⩤ monster_locations)(l2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="l1" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="l2" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="¬Merchant_District=Station"/>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="¬Downtown=Bank"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="state=monster_turn"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="partition(locations,{Rivertown},{Easttown},{Downtown},{Merchant_District},{Shop},{Library},{Bank},{Station})"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="¬Rivertown=Easttown"/>
<org.eventb.core.prPred name="p98" org.eventb.core.predicate="monster_locations(l1)∩(monster_locations(monster_location)∪{monster})=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="l1" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="¬Library=Bank"/>
<org.eventb.core.prPred name="p85" org.eventb.core.predicate="(monster_locations(monster_location)∪{monster})∩(monster_locations{monster_location ↦ monster_locations(monster_location)∪{monster}})(l2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="l2" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="¬Rivertown=Station"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="¬Rivertown=Bank"/>
<org.eventb.core.prPred name="p77" org.eventb.core.predicate="∀l1⦂locations,l2⦂locations·⊤∧⊤∧¬l1=l2⇒(monster_locations{monster_location ↦ monster_locations(monster_location)∪{monster}})(l1)∩(monster_locations{monster_location ↦ monster_locations(monster_location)∪{monster}})(l2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="closed_to_win=2"/>
<org.eventb.core.prPred name="p88" org.eventb.core.predicate="⊥"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="monster∉monsters"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="states ∖ over=playing"/>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="¬Downtown=Library"/>
<org.eventb.core.prPred name="p101" org.eventb.core.predicate="monster_locations(l1)∩monster_locations(l2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="l1" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="l2" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p99" org.eventb.core.predicate="({monster_location} ⩤ monster_locations)(l1)∩({monster_location} ⩤ monster_locations)(l2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="l1" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="l2" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p65" org.eventb.core.predicate="finite(monsters)"/>
<org.eventb.core.prPred name="p81" org.eventb.core.predicate="¬l1=l2⇒(monster_locations{monster_location ↦ monster_locations(monster_location)∪{monster}})(l1)∩(monster_locations{monster_location ↦ monster_locations(monster_location)∪{monster}})(l2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="l1" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="l2" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p87" org.eventb.core.predicate="(monster_locations(monster_location)∪{monster})∩(monster_locations(monster_location)∪{monster})=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="finite(locations)"/>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="¬Shop=Station"/>
<org.eventb.core.prPred name="p80" org.eventb.core.predicate="∀l1⦂locations,l2⦂locations·¬l1=l2⇒(monster_locations{monster_location ↦ monster_locations(monster_location)∪{monster}})(l1)∩(monster_locations{monster_location ↦ monster_locations(monster_location)∪{monster}})(l2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="∀l1⦂locations,l2⦂locations·l1∈locations∧l2∈locations∧l1≠l2⇒monster_locations(l1)∩monster_locations(l2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="¬Downtown=Merchant_District"/>
<org.eventb.core.prPred name="p78" org.eventb.core.predicate="∀l1⦂locations,l2⦂locations·¬l1=l2⇒monster_locations(l1)∩monster_locations(l2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="monsters⊂monster_pool∧finite(monsters)"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="finite(locations × districts)"/>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="¬Easttown=Shop"/>
<org.eventb.core.prPred name="p61" org.eventb.core.predicate="¬monster_turn=lost"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="¬Rivertown=Merchant_District"/>
<org.eventb.core.prPred name="p93" org.eventb.core.predicate="(monster_locations(monster_location)∪{monster})∩monster_locations(l2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="l2" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="states ∖ playing=over"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀l1⦂locations,l2⦂locations·l1∈locations∧l2∈locations∧l1≠l2⇒(monster_locations{monster_location ↦ monster_locations(monster_location)∪{monster}})(l1)∩(monster_locations{monster_location ↦ monster_locations(monster_location)∪{monster}})(l2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="¬Downtown=Shop"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="¬Easttown=Merchant_District"/>
<org.eventb.core.prPred name="p64" org.eventb.core.predicate="monsters⊂monster_pool"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="partition(states,{player_turn},{monster_turn},{won},{lost})"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="connected=building_to_district∪building_to_district∼∪district_to_district∪district_to_district∼"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="locations={Rivertown,Easttown,Downtown,Merchant_District,Shop,Library,Bank,Station}"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="locations=districts∪buildings"/>
<org.eventb.core.prPred name="p66" org.eventb.core.predicate="∀l1⦂locations,l2⦂locations·l1∈locations∧l2∈locations∧¬l1=l2⇒monster_locations(l1)∩monster_locations(l2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="¬player_turn=won"/>
<org.eventb.core.prPred name="p71" org.eventb.core.predicate="location∈locations">
<org.eventb.core.prIdent name="location" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="¬Easttown=Bank"/>
<org.eventb.core.prPred name="p96" org.eventb.core.predicate="({monster_location} ⩤ monster_locations)(l1)∩(monster_locations{monster_location ↦ monster_locations(monster_location)∪{monster}})(l2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="l1" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="l2" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p79" org.eventb.core.predicate="districts=(∅ ⦂ ℙ(locations))∨finite(districts)"/>
<org.eventb.core.prPred name="p95" org.eventb.core.predicate="¬l1=monster_location">
<org.eventb.core.prIdent name="l1" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="¬Merchant_District=Bank"/>
<org.eventb.core.prPred name="p72" org.eventb.core.predicate="state∈states"/>
<org.eventb.core.prPred name="p82" org.eventb.core.predicate="¬l1=l2">
<org.eventb.core.prIdent name="l1" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="l2" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p94" org.eventb.core.predicate="¬⊥"/>
<org.eventb.core.prPred name="p73" org.eventb.core.predicate="turn_end∈BOOL"/>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="¬Downtown=Station"/>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="¬Easttown=Station"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="building_to_district={Shop ↦ Merchant_District,Bank ↦ Downtown,Station ↦ Easttown,Library ↦ Rivertown}"/>
<org.eventb.core.prPred name="p86" org.eventb.core.predicate="l2=monster_location">
<org.eventb.core.prIdent name="l2" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p62" org.eventb.core.predicate="¬won=lost"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="monster∈monster_pool"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="monster_pool=ℕ"/>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="¬Bank=Station"/>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="¬Shop=Library"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="playing={player_turn,monster_turn}"/>
<org.eventb.core.prPred name="p74" org.eventb.core.predicate="monster_location∈locations"/>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="¬player_turn=monster_turn"/>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="¬Merchant_District=Shop"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="buildings={Shop,Library,Bank,Station}"/>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="¬monster_turn=won"/>
<org.eventb.core.prPred name="p90" org.eventb.core.predicate="¬⊤"/>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="¬player_turn=lost"/>
<org.eventb.core.prPred name="p63" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨(finite(locations)∧finite(districts))"/>
<org.eventb.core.prPred name="p97" org.eventb.core.predicate="({monster_location} ⩤ monster_locations)(l1)∩(monster_locations(monster_location)∪{monster})=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="l1" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="turn_end=FALSE"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="¬Easttown=Library"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="open_to_lose=4"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="finite(buildings)"/>
<org.eventb.core.prPred name="p68" org.eventb.core.predicate="∀l1⦂locations,l2⦂locations·l1∈locations∧l2∈locations∧¬l1=l2⇒(monster_locations{monster_location ↦ monster_locations(monster_location)∪{monster}})(l1)∩(monster_locations{monster_location ↦ monster_locations(monster_location)∪{monster}})(l2)=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="¬Rivertown=Library"/>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="¬Shop=Bank"/>
<org.eventb.core.prPred name="p69" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨(⊤∧finite(districts))"/>
<org.eventb.core.prPred name="p91" org.eventb.core.predicate="¬l2=monster_location">
<org.eventb.core.prIdent name="l2" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="¬Library=Station"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="over={won,lost}"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="monster_locations∈locations → ℙ(monsters)"/>
<org.eventb.core.prPred name="p76" org.eventb.core.predicate="⊥∨districts=(∅ ⦂ ℙ(locations))∨finite(districts)"/>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="¬Merchant_District=Library"/>
<org.eventb.core.prPred name="p67" org.eventb.core.predicate="¬monster∈monsters"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="¬Rivertown=Downtown"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="district_to_district={Rivertown ↦ Easttown,Easttown ↦ Downtown,Downtown ↦ Merchant_District,Merchant_District ↦ Rivertown}"/>
<org.eventb.core.prReas name="r7" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r8" org.eventb.core.prRID="org.eventb.core.seqprover.falseHyp"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.funOvr:1"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL2"/>
<org.eventb.core.prReas name="r9" org.eventb.core.prRID="org.eventb.core.seqprover.funImgSimplifies:0"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r10" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="add_monster/monster_loc/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(states,{player_turn},{monster_turn},{won},{lost}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p4,p5,p6,p7,p8,p9,p10"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p4,p5,p6,p7,p8,p9,p10"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(locations,{Rivertown},{Easttown},{Downtown},{Merchant_District},{Shop},{Library},{Bank},{Station}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p34,p35,p36,p37,p38,p39,p40"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p34,p35,p36,p37,p38,p39,p40"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p41">
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p41" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p59">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p42" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p43"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p44" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p45"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p46" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p47"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p48" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p49"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p50" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p51"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p52" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p53"/>
<org.eventb.core.prHypAction name="REWRITE6" org.eventb.core.prHidden="p54" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p55"/>
<org.eventb.core.prHypAction name="HIDE7" org.eventb.core.prHyps="p56"/>
<org.eventb.core.prHypAction name="REWRITE8" org.eventb.core.prHidden="p57" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p58"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p59" org.eventb.core.prHyps="p2"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="monster_pool" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="monster_sets" org.eventb.core.type="ℙ(ℙ(ℤ))"/>
<org.eventb.core.prIdent name="monsters" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="new_monster" org.eventb.core.type="ℙ(ℙ(ℤ)×ℤ)"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="¬Easttown=Merchant_District">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="¬Downtown=Shop">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="states={player_turn,monster_turn,won,lost}">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="partition(states,{player_turn},{monster_turn},{won},{lost})">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="monster_pool≠(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="¬Rivertown=Shop">
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="locations={Rivertown,Easttown,Downtown,Merchant_District,Shop,Library,Bank,Station}">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="⊤∧new_monster∈ℙ(ℤ) ⇸ ℤ"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬player_turn=won">
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="(∅ ⦂ ℙ(ℙ(ℤ)))∪(monster_sets ∖ (∅ ⦂ ℙ(ℙ(ℤ))))=monster_sets"/>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="monster_sets=ℙ(monster_pool ∖ {max(monster_pool)})"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="¬Easttown=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="¬Easttown=Downtown">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="∀x⦂ℙ(ℤ)·x∈monster_sets⇒(∃b⦂ℤ·∀x0⦂ℤ·x0∈x⇒b≥x0)"/>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="¬monster_pool=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="∀x⦂ℙ(ℤ)·x∈monster_sets⇒x⊆monster_pool∧new_monster(x)∈monster_pool"/>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="∀x⦂ℙ(ℤ)·x∈monster_sets⇒¬x=(∅ ⦂ ℙ(ℤ))∧(∃b⦂ℤ·∀x0⦂ℤ·x0∈x⇒b≥x0)"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="¬Merchant_District=Station">
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="¬Merchant_District=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="¬Downtown=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="new_monster={(∅ ⦂ ℙ(ℤ)) ↦ 0}∪{x⦂ℙ(ℤ)·x∈monster_sets ∖ (∅ ⦂ ℙ(ℙ(ℤ))) ∣ x ↦ max(x)+1}"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="monsters∈dom(new_monster)∧new_monster∈ℙ(ℤ) ⇸ ℤ"/>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="∀x⦂ℙ(ℤ)·x∈monster_sets ∖ (∅ ⦂ ℙ(ℙ(ℤ)))⇒(∃b⦂ℤ·∀x0⦂ℤ·x0∈x⇒b≥x0)"/>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="new_monster∈ℙ(ℤ) ⇸ ℤ"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="partition(locations,{Rivertown},{Easttown},{Downtown},{Merchant_District},{Shop},{Library},{Bank},{Station})">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="∀x⦂ℙ(ℤ)·x∈monster_sets⇒x∪{new_monster(x)}⊆monster_pool"/>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="∀x⦂ℙ(ℤ)·x∈monster_sets ∖ (∅ ⦂ ℙ(ℙ(ℤ)))⇒x≠(∅ ⦂ ℙ(ℤ))∧(∃b⦂ℤ·∀x0⦂ℤ·x0∈x⇒b≥x0)"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="¬Rivertown=Easttown">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="¬Library=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="monster_sets={x⦂ℙ(ℤ)·x⊆monster_pool ∖ {max(monster_pool)} ∣ x}"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="¬Downtown=Station">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="¬Easttown=Station">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="¬Rivertown=Station">
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="¬won=lost">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="¬Rivertown=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="¬Bank=Station">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="¬Downtown=Library">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="¬Shop=Library">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬player_turn=monster_turn">
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬monster_turn=won">
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="¬Merchant_District=Shop">
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬player_turn=lost">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨(finite(locations)∧finite(districts))">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="¬Shop=Station">
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="¬Easttown=Library">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="¬Downtown=Merchant_District">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="monsters∈dom(new_monster)"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="¬Rivertown=Library">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="¬Shop=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="new_monster={(∅ ⦂ ℙ(ℤ)) ↦ 0}∪{x⦂ℙ(ℤ)·x∈monster_sets ∣ x ↦ max(x)+1}"/>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="∀x⦂ℙ(ℤ)·x∈monster_sets⇒¬x=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="∀x⦂ℙ(ℤ)·x∈monster_sets ∖ (∅ ⦂ ℙ(ℙ(ℤ)))⇒x≠(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="finite(locations × districts)">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="¬Library=Station">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="¬Easttown=Shop">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="¬monster_turn=lost">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="¬Merchant_District=Library">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="¬Rivertown=Merchant_District">
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="¬Rivertown=Downtown">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="new_monster∈monster_sets → monster_pool"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL2"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="add_monster/max_monster/WD" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(locations,{Rivertown},{Easttown},{Downtown},{Merchant_District},{Shop},{Library},{Bank},{Station}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(states,{player_turn},{monster_turn},{won},{lost}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p32" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p33,p34,p35,p36,p37,p38,p39"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p33,p34,p35,p36,p37,p38,p39"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p48">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p40" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p41"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p42,p43"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p44" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p45"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p46" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p47"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p41" org.eventb.core.prHyps="p50" org.eventb.core.prInfHyps="p49"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p49" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p51"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p52"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p53"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p54"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p45" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p55"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p51" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p56"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p55" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p57"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p56" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p58"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p48" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p59"/>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p60">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Existence of minimum or maximum in goal with finite hypothesis" org.eventb.core.prGoal="p60" org.eventb.core.prHyps="p43"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="monster_pool" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="monsters" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="¬Downtown=Shop">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="¬Easttown=Merchant_District">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="∀l1⦂locations,l2⦂locations·⊤∧⊤∧¬l1=l2⇒monster_locations(l1)∩monster_locations(l2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="monster_locations" org.eventb.core.type="ℙ(locations×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="¬monsters=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="states={player_turn,monster_turn,won,lost}">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="monsters⊂monster_pool"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="partition(states,{player_turn},{monster_turn},{won},{lost})">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬Rivertown=Shop">
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="locations={Rivertown,Easttown,Downtown,Merchant_District,Shop,Library,Bank,Station}">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="∀l1⦂locations,l2⦂locations·l1∈locations∧l2∈locations∧¬l1=l2⇒monster_locations(l1)∩monster_locations(l2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="monster_locations" org.eventb.core.type="ℙ(locations×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="¬player_turn=won">
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="location∈locations">
<org.eventb.core.prIdent name="location" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="¬Easttown=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="districts=(∅ ⦂ ℙ(locations))∨finite(districts)">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="¬monsters=(∅ ⦂ ℙ(ℤ))∧(∃b⦂ℤ·∀x⦂ℤ·x∈monsters⇒b≥x)"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="¬Easttown=Downtown">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨finite(districts)">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="¬Merchant_District=Station">
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="¬Merchant_District=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="¬Downtown=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="state∈states">
<org.eventb.core.prIdent name="state" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="partition(locations,{Rivertown},{Easttown},{Downtown},{Merchant_District},{Shop},{Library},{Bank},{Station})">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Rivertown=Easttown">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="¬Library=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="turn_end∈BOOL">
<org.eventb.core.prIdent name="turn_end" org.eventb.core.type="BOOL"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="¬Downtown=Station">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="¬Easttown=Station">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="¬Rivertown=Station">
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="¬won=lost">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="¬Rivertown=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="monsters≠(∅ ⦂ ℙ(ℤ))∧(∃b⦂ℤ·∀x⦂ℤ·x∈monsters⇒b≥x)"/>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="¬Bank=Station">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="monster∉monsters">
<org.eventb.core.prIdent name="monster" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="¬Downtown=Library">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="¬Shop=Library">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="¬player_turn=monster_turn">
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="¬Merchant_District=Shop">
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="¬monster_turn=won">
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="¬player_turn=lost">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="finite(monsters)"/>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨(finite(locations)∧finite(districts))">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="finite(locations)">
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="¬Shop=Station">
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="¬Easttown=Library">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="∀l1⦂locations,l2⦂locations·l1∈locations∧l2∈locations∧l1≠l2⇒monster_locations(l1)∩monster_locations(l2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="monster_locations" org.eventb.core.type="ℙ(locations×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="¬Downtown=Merchant_District">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="∀l1⦂locations,l2⦂locations·¬l1=l2⇒monster_locations(l1)∩monster_locations(l2)=(∅ ⦂ ℙ(ℤ))">
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="monster_locations" org.eventb.core.type="ℙ(locations×ℙ(ℤ))"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬Rivertown=Library">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="monsters⊂monster_pool∧finite(monsters)"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="¬Shop=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨(⊤∧finite(districts))">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="∃b⦂ℤ·∀x⦂ℤ·x∈monsters⇒b≥x"/>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="finite(locations × districts)">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="¬Library=Station">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="¬Easttown=Shop">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="⊥∨districts=(∅ ⦂ ℙ(locations))∨finite(districts)">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="¬monster_turn=lost">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="¬Merchant_District=Library">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="¬monster∈monsters">
<org.eventb.core.prIdent name="monster" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬Rivertown=Merchant_District">
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Rivertown=Downtown">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL2"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.finiteHypBoundedGoal"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="INITIALISATION/monsters/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="" org.eventb.core.prSets="locations">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(locations,{Rivertown},{Easttown},{Downtown},{Merchant_District},{Shop},{Library},{Bank},{Station}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(states,{player_turn},{monster_turn},{won},{lost}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p31" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p32,p33,p34,p35,p36,p37,p38"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p32,p33,p34,p35,p36,p37,p38"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p41">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p39" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p40"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p41" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="⊤"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="¬Easttown=Merchant_District">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="¬Downtown=Shop">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="¬Bank=Station">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="states={player_turn,monster_turn,won,lost}">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="¬Downtown=Library">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="¬Shop=Library">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="partition(states,{player_turn},{monster_turn},{won},{lost})">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬Rivertown=Shop">
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="locations={Rivertown,Easttown,Downtown,Merchant_District,Shop,Library,Bank,Station}">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="¬player_turn=won">
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="¬Easttown=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="¬player_turn=monster_turn">
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="¬monster_turn=won">
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="¬Merchant_District=Shop">
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="¬player_turn=lost">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="¬Easttown=Downtown">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨(finite(locations)∧finite(districts))">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="¬Shop=Station">
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="¬Easttown=Library">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="¬Downtown=Merchant_District">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="¬Merchant_District=Station">
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬Rivertown=Library">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="¬Merchant_District=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="¬Shop=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="¬Downtown=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="finite(locations × districts)">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="¬Library=Station">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="partition(locations,{Rivertown},{Easttown},{Downtown},{Merchant_District},{Shop},{Library},{Bank},{Station})">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="¬Easttown=Shop">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="¬Rivertown=Easttown">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="¬monster_turn=lost">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="(∅ ⦂ ℙ(ℤ))=dom(∅ ⦂ ℙ(ℤ×locations))"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="¬Library=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="¬Downtown=Station">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="¬Easttown=Station">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="¬Merchant_District=Library">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="¬won=lost">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="¬Rivertown=Station">
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Rivertown=Merchant_District">
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Rivertown=Downtown">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬Rivertown=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="monsters_move/monsters/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25" org.eventb.core.prSets="locations,states">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(locations,{Rivertown},{Easttown},{Downtown},{Merchant_District},{Shop},{Library},{Bank},{Station}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p26,p27,p28,p29,p30,p31,p32,p33,p34,p35,p36,p37,p38,p39,p40,p41,p42,p43,p44,p45,p46,p47,p48,p49,p50,p51,p52,p53,p54"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p26,p27,p28,p29,p30,p31,p32,p33,p34,p35,p36,p37,p38,p39,p40,p41,p42,p43,p44,p45,p46,p47,p48,p49,p50,p51,p52,p53,p54"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(states,{player_turn},{monster_turn},{won},{lost}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p55,p56,p57,p58,p59,p60,p61"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p55,p56,p57,p58,p59,p60,p61"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p19" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p62"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p17" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p63,p64"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p62" org.eventb.core.prHyps="p13" org.eventb.core.prInfHyps="p65"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p65" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p66"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p67"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p68"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p69"/>
<org.eventb.core.prHypAction name="REWRITE3" org.eventb.core.prHidden="p66" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p70"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p70" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p71"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with monsters=dom(monster_locations)" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p8">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p73">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p12" org.eventb.core.prInfHyps="p72"/>
<org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p12"/>
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p73" org.eventb.core.prHyps="p9,p10,p22,p24,p5,p25,p15,p16,p7,p13,p6,p21,p3,p2,p23,p1,p11,p8,p18,p14,p12,p26,p27,p28,p29,p30,p31,p32,p33,p34,p35,p36,p37,p38,p39,p40,p41,p42,p43,p44,p45,p46,p47,p48,p49,p50,p51,p52,p53,p54,p55,p56,p57,p58,p59,p60,p61,p63,p64,p71,p72">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="building_to_district" org.eventb.core.type="ℙ(locations×locations)"/>
<org.eventb.core.prIdent name="buildings" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="closed_to_win" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="connected" org.eventb.core.type="ℙ(locations×locations)"/>
<org.eventb.core.prIdent name="district_to_district" org.eventb.core.type="ℙ(locations×locations)"/>
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster_locations" org.eventb.core.type="ℙ(ℤ×locations)"/>
<org.eventb.core.prIdent name="monster_locations'" org.eventb.core.type="ℙ(ℤ×locations)"/>
<org.eventb.core.prIdent name="monster_pool" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monsters" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="next_state" org.eventb.core.type="ℙ(states×states)"/>
<org.eventb.core.prIdent name="open_to_lose" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="over" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="playing" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="state" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="turn_end" org.eventb.core.type="BOOL"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="¬Easttown=Merchant_District"/>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="¬Downtown=Shop"/>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="states={player_turn,monster_turn,won,lost}"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="next_state={player_turn ↦ monster_turn,monster_turn ↦ player_turn}"/>
<org.eventb.core.prPred name="p63" org.eventb.core.predicate="monsters⊂monster_pool"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="partition(states,{player_turn},{monster_turn},{won},{lost})"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="connected=building_to_district∪building_to_district∼∪district_to_district∪district_to_district∼"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="¬Rivertown=Shop"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="locations={Rivertown,Easttown,Downtown,Merchant_District,Shop,Library,Bank,Station}"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="locations=districts∪buildings"/>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="¬player_turn=won"/>
<org.eventb.core.prPred name="p67" org.eventb.core.predicate="location∈locations">
<org.eventb.core.prIdent name="location" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="monsters=dom(monster_locations)"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="districts={Rivertown,Easttown,Downtown,Merchant_District}"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="¬Easttown=Bank"/>
<org.eventb.core.prPred name="p71" org.eventb.core.predicate="districts=(∅ ⦂ ℙ(locations))∨finite(districts)"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="¬Easttown=Downtown"/>
<org.eventb.core.prPred name="p66" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨finite(districts)"/>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="¬Merchant_District=Station"/>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="¬Merchant_District=Bank"/>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="¬Downtown=Bank"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="state=monster_turn"/>
<org.eventb.core.prPred name="p73" org.eventb.core.predicate="dom(monster_locations)=dom(monster_locations')"/>
<org.eventb.core.prPred name="p68" org.eventb.core.predicate="state∈states"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="partition(locations,{Rivertown},{Easttown},{Downtown},{Merchant_District},{Shop},{Library},{Bank},{Station})"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="¬Rivertown=Easttown"/>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="¬Library=Bank"/>
<org.eventb.core.prPred name="p69" org.eventb.core.predicate="turn_end∈BOOL"/>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="¬Downtown=Station"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="building_to_district={Shop ↦ Merchant_District,Bank ↦ Downtown,Station ↦ Easttown,Library ↦ Rivertown}"/>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="¬Easttown=Station"/>
<org.eventb.core.prPred name="p61" org.eventb.core.predicate="¬won=lost"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="¬Rivertown=Station"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="¬Rivertown=Bank"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="closed_to_win=2"/>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="¬Bank=Station"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="monster_pool=ℕ"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="states ∖ over=playing"/>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="¬Downtown=Library"/>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="¬Shop=Library"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="playing={player_turn,monster_turn}"/>
<org.eventb.core.prPred name="p72" org.eventb.core.predicate="monster_locations'∈dom(monster_locations) → locations"/>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="¬player_turn=monster_turn"/>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="¬monster_turn=won"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="buildings={Shop,Library,Bank,Station}"/>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="¬Merchant_District=Shop"/>
<org.eventb.core.prPred name="p64" org.eventb.core.predicate="finite(monsters)"/>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="¬player_turn=lost"/>
<org.eventb.core.prPred name="p62" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨(finite(locations)∧finite(districts))"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="monster_locations∈monsters → locations"/>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="¬Shop=Station"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="finite(locations)"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="monster_locations'∈monsters → locations"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="turn_end=FALSE"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="finite(buildings)"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="open_to_lose=4"/>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="¬Easttown=Library"/>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="¬Downtown=Merchant_District"/>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="¬Rivertown=Library"/>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="¬Shop=Bank"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="monsters⊂monster_pool∧finite(monsters)"/>
<org.eventb.core.prPred name="p65" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨(⊤∧finite(districts))"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="finite(locations × districts)"/>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="¬Library=Station"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="monsters=dom(monster_locations')"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="¬Easttown=Shop"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="over={won,lost}"/>
<org.eventb.core.prPred name="p70" org.eventb.core.predicate="⊥∨districts=(∅ ⦂ ℙ(locations))∨finite(districts)"/>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="¬monster_turn=lost"/>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="¬Merchant_District=Library"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="¬Rivertown=Merchant_District"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="¬Rivertown=Downtown"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="states ∖ playing=over"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="district_to_district={Rivertown ↦ Easttown,Easttown ↦ Downtown,Downtown ↦ Merchant_District,Merchant_District ↦ Rivertown}"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL2"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="add_monster/monsters/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27" org.eventb.core.prSets="locations,states">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(locations,{Rivertown},{Easttown},{Downtown},{Merchant_District},{Shop},{Library},{Bank},{Station}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p20" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p28,p29,p30,p31,p32,p33,p34,p35,p36,p37,p38,p39,p40,p41,p42,p43,p44,p45,p46,p47,p48,p49,p50,p51,p52,p53,p54,p55,p56"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p28,p29,p30,p31,p32,p33,p34,p35,p36,p37,p38,p39,p40,p41,p42,p43,p44,p45,p46,p47,p48,p49,p50,p51,p52,p53,p54,p55,p56"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(states,{player_turn},{monster_turn},{won},{lost}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p5" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p57,p58,p59,p60,p61,p62,p63"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p57,p58,p59,p60,p61,p62,p63"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p19" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p64"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p17" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p65,p66"/>
<org.eventb.core.prHypAction name="REWRITE2" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p67"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p64" org.eventb.core.prHyps="p13" org.eventb.core.prInfHyps="p68"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p68" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p69"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(∃x·x∈monsters∧x ↦ monster_location∈monster_locations)" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p22" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p70"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p70"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[0]]∈monsters∧[[0]] ↦ monster_location∈monster_locations)" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p70" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p71"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p71"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p72"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p73"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p74"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p75"/>
<org.eventb.core.prHypAction name="REWRITE4" org.eventb.core.prHidden="p69" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p76"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p76" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p77"/>
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with monsters=dom(monster_locations)" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p9">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p80">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p67" org.eventb.core.prInfHyps="p78"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p71" org.eventb.core.prInfHyps="p79"/>
<org.eventb.core.prHypAction name="DESELECT2" org.eventb.core.prHyps="p67,p71"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p80" org.eventb.core.prHyps="p10,p11,p23,p25,p6,p27,p16,p15,p8,p13,p7,p21,p4,p3,p24,p1,p12,p9,p18,p26,p14,p28,p29,p30,p31,p32,p33,p34,p35,p36,p37,p38,p39,p40,p41,p42,p43,p44,p45,p46,p47,p48,p49,p50,p51,p52,p53,p54,p55,p56,p57,p58,p59,p60,p61,p62,p63,p65,p66,p67,p71,p77,p78,p79">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="building_to_district" org.eventb.core.type="ℙ(locations×locations)"/>
<org.eventb.core.prIdent name="buildings" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="closed_to_win" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="connected" org.eventb.core.type="ℙ(locations×locations)"/>
<org.eventb.core.prIdent name="district_to_district" org.eventb.core.type="ℙ(locations×locations)"/>
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="monster_location" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="monster_locations" org.eventb.core.type="ℙ(ℤ×locations)"/>
<org.eventb.core.prIdent name="monster_pool" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monsters" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="next_state" org.eventb.core.type="ℙ(states×states)"/>
<org.eventb.core.prIdent name="open_to_lose" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="over" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="playing" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="state" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="turn_end" org.eventb.core.type="BOOL"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="¬Easttown=Merchant_District"/>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="¬Downtown=Shop"/>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="states={player_turn,monster_turn,won,lost}"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="next_state={player_turn ↦ monster_turn,monster_turn ↦ player_turn}"/>
<org.eventb.core.prPred name="p65" org.eventb.core.predicate="monsters⊂monster_pool"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="partition(states,{player_turn},{monster_turn},{won},{lost})"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="connected=building_to_district∪building_to_district∼∪district_to_district∪district_to_district∼"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="¬Rivertown=Shop"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="locations={Rivertown,Easttown,Downtown,Merchant_District,Shop,Library,Bank,Station}"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="locations=districts∪buildings"/>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="¬player_turn=won"/>
<org.eventb.core.prPred name="p72" org.eventb.core.predicate="location∈locations">
<org.eventb.core.prIdent name="location" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="monsters=dom(monster_locations)"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="districts={Rivertown,Easttown,Downtown,Merchant_District}"/>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="¬Easttown=Bank"/>
<org.eventb.core.prPred name="p77" org.eventb.core.predicate="districts=(∅ ⦂ ℙ(locations))∨finite(districts)"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="¬Easttown=Downtown"/>
<org.eventb.core.prPred name="p69" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨finite(districts)"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="monsters∪{monster}=dom(monster_locations∪{monster ↦ monster_location})"/>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="¬Merchant_District=Station"/>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="¬Merchant_District=Bank"/>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="¬Downtown=Bank"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="state=monster_turn"/>
<org.eventb.core.prPred name="p73" org.eventb.core.predicate="state∈states"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="partition(locations,{Rivertown},{Easttown},{Downtown},{Merchant_District},{Shop},{Library},{Bank},{Station})"/>
<org.eventb.core.prPred name="p70" org.eventb.core.predicate="∀x⦂ℤ·¬(x∈monsters∧x ↦ monster_location∈monster_locations)"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="¬Rivertown=Easttown"/>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="¬Library=Bank"/>
<org.eventb.core.prPred name="p74" org.eventb.core.predicate="turn_end∈BOOL"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="¬(∃x⦂ℤ·x∈monsters∧x ↦ monster_location∈monster_locations)"/>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="¬Downtown=Station"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="building_to_district={Shop ↦ Merchant_District,Bank ↦ Downtown,Station ↦ Easttown,Library ↦ Rivertown}"/>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="¬Easttown=Station"/>
<org.eventb.core.prPred name="p63" org.eventb.core.predicate="¬won=lost"/>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="¬Rivertown=Station"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="¬Rivertown=Bank"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="monster∈monster_pool"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="closed_to_win=2"/>
<org.eventb.core.prPred name="p71" org.eventb.core.predicate="∀x⦂ℤ·¬x∈monsters∨¬x ↦ monster_location∈monster_locations"/>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="¬Bank=Station"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="monster_pool=ℕ"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="monster∉monsters"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="states ∖ over=playing"/>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="¬Downtown=Library"/>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="¬Shop=Library"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="playing={player_turn,monster_turn}"/>
<org.eventb.core.prPred name="p75" org.eventb.core.predicate="monster_location∈locations"/>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="¬player_turn=monster_turn"/>
<org.eventb.core.prPred name="p61" org.eventb.core.predicate="¬monster_turn=won"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="buildings={Shop,Library,Bank,Station}"/>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="¬Merchant_District=Shop"/>
<org.eventb.core.prPred name="p80" org.eventb.core.predicate="dom(monster_locations)∪{monster}=dom(monster_locations∪{monster ↦ monster_location})"/>
<org.eventb.core.prPred name="p66" org.eventb.core.predicate="finite(monsters)"/>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="¬player_turn=lost"/>
<org.eventb.core.prPred name="p64" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨(finite(locations)∧finite(districts))"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="monster_locations∈monsters → locations"/>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="¬Shop=Station"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="finite(locations)"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="turn_end=FALSE"/>
<org.eventb.core.prPred name="p79" org.eventb.core.predicate="∀x⦂ℤ·¬x∈dom(monster_locations)∨¬x ↦ monster_location∈monster_locations"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="open_to_lose=4"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="finite(buildings)"/>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="¬Easttown=Library"/>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="¬Downtown=Merchant_District"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="¬Rivertown=Library"/>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="¬Shop=Bank"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="monsters⊂monster_pool∧finite(monsters)"/>
<org.eventb.core.prPred name="p68" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨(⊤∧finite(districts))"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="finite(locations × districts)"/>
<org.eventb.core.prPred name="p78" org.eventb.core.predicate="¬monster∈dom(monster_locations)"/>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="¬Library=Station"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="¬Easttown=Shop"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="over={won,lost}"/>
<org.eventb.core.prPred name="p76" org.eventb.core.predicate="⊥∨districts=(∅ ⦂ ℙ(locations))∨finite(districts)"/>
<org.eventb.core.prPred name="p62" org.eventb.core.predicate="¬monster_turn=lost"/>
<org.eventb.core.prPred name="p67" org.eventb.core.predicate="¬monster∈monsters"/>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="¬Merchant_District=Library"/>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="¬Rivertown=Merchant_District"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="¬Rivertown=Downtown"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="states ∖ playing=over"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="district_to_district={Rivertown ↦ Easttown,Easttown ↦ Downtown,Downtown ↦ Merchant_District,Merchant_District ↦ Rivertown}"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r6" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL2"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.rn"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="game_over/over/GRD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2" org.eventb.core.prSets="states">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(states,{player_turn},{monster_turn},{won},{lost}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p4,p5,p6,p7,p8,p9,p10"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p4,p5,p6,p7,p8,p9,p10"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(locations,{Rivertown},{Easttown},{Downtown},{Merchant_District},{Shop},{Library},{Bank},{Station}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p11" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p34,p35,p36,p37,p38,p39,p40"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p34,p35,p36,p37,p38,p39,p40"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p0">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="p2" org.eventb.core.prInfHyps="p41"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p42" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p43"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p41" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p44"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊥ hyp" org.eventb.core.prHyps="p44"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="game_over" org.eventb.core.type="BOOL"/>
<org.eventb.core.prIdent name="over" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="state" org.eventb.core.type="states"/>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="⊥"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="¬Downtown=Shop">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="¬Easttown=Merchant_District">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="¬Bank=Station">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="states={player_turn,monster_turn,won,lost}">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="¬Downtown=Library">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="¬Shop=Library">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="partition(states,{player_turn},{monster_turn},{won},{lost})">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="¬Rivertown=Shop">
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="locations={Rivertown,Easttown,Downtown,Merchant_District,Shop,Library,Bank,Station}">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="game_over=TRUE⇔state∈over"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬player_turn=won">
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="¬Easttown=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬player_turn=monster_turn">
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="¬Merchant_District=Shop">
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬monster_turn=won">
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬player_turn=lost">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="¬Easttown=Downtown">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨(finite(locations)∧finite(districts))">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="¬Shop=Station">
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="¬Easttown=Library">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="¬Downtown=Merchant_District">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="¬Merchant_District=Station">
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="¬Merchant_District=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="¬Rivertown=Library">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="¬Shop=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="¬Downtown=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="game_over=TRUE"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="state∈over"/>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="⊥⇔⊤"/>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="finite(locations × districts)">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="¬Library=Station">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="partition(locations,{Rivertown},{Easttown},{Downtown},{Merchant_District},{Shop},{Library},{Bank},{Station})">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="¬Easttown=Shop">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="¬Rivertown=Easttown">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="¬monster_turn=lost">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="¬Library=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="¬Downtown=Station">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="¬Easttown=Station">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="¬Merchant_District=Library">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="¬won=lost">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="¬Rivertown=Merchant_District">
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="¬Rivertown=Station">
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="¬Rivertown=Downtown">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="¬Rivertown=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.falseHyp"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL2"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="INITIALISATION/game_over_linking/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22" org.eventb.core.prSets="locations,states">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(states,{player_turn},{monster_turn},{won},{lost}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p23,p24,p25,p26,p27,p28,p29"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p23,p24,p25,p26,p27,p28,p29"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(locations,{Rivertown},{Easttown},{Downtown},{Merchant_District},{Shop},{Library},{Bank},{Station}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p30,p31,p32,p33,p34,p35,p36,p37,p38,p39,p40,p41,p42,p43,p44,p45,p46,p47,p48,p49,p50,p51,p52,p53,p54,p55,p56,p57,p58"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p30,p31,p32,p33,p34,p35,p36,p37,p38,p39,p40,p41,p42,p43,p44,p45,p46,p47,p48,p49,p50,p51,p52,p53,p54,p55,p56,p57,p58"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p60">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p59"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p59" org.eventb.core.prHyps="p21" org.eventb.core.prInfHyps="p61"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p61" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p62"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p62" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p63"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p63" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p64"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p60" org.eventb.core.prHyps="p13,p22,p10,p12,p3,p20,p17,p1,p5,p18,p14,p16,p15,p19,p7,p2,p11,p21,p4,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p34,p35,p36,p37,p38,p39,p40,p41,p42,p43,p44,p45,p46,p47,p48,p49,p50,p51,p52,p53,p54,p55,p56,p57,p58,p64">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="building_to_district" org.eventb.core.type="ℙ(locations×locations)"/>
<org.eventb.core.prIdent name="buildings" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="closed_to_win" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="connected" org.eventb.core.type="ℙ(locations×locations)"/>
<org.eventb.core.prIdent name="district_to_district" org.eventb.core.type="ℙ(locations×locations)"/>
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster_pool" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="next_state" org.eventb.core.type="ℙ(states×states)"/>
<org.eventb.core.prIdent name="open_to_lose" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="over" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="playing" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="¬Easttown=Merchant_District"/>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="¬Downtown=Shop"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="states={player_turn,monster_turn,won,lost}"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="next_state={player_turn ↦ monster_turn,monster_turn ↦ player_turn,lost ↦ lost,won ↦ won}"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="monster_pool={1}"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="partition(states,{player_turn},{monster_turn},{won},{lost})"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="connected=building_to_district∪building_to_district∼∪district_to_district∪district_to_district∼"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="¬Rivertown=Shop"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="FALSE=TRUE⇔player_turn∈over"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="locations={Rivertown,Easttown,Downtown,Merchant_District,Shop,Library,Bank,Station}"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="locations=districts∪buildings"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="¬player_turn=won"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="districts={Rivertown,Easttown,Downtown,Merchant_District}"/>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="¬Easttown=Bank"/>
<org.eventb.core.prPred name="p64" org.eventb.core.predicate="districts=(∅ ⦂ ℙ(locations))∨finite(districts)"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="¬Easttown=Downtown"/>
<org.eventb.core.prPred name="p62" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨finite(districts)"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="∀x⦂states·x∈playing⇒next_state(x)∈playing"/>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="¬Merchant_District=Station"/>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="¬Merchant_District=Bank"/>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="¬Downtown=Bank"/>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="¬player_turn∈over"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="partition(locations,{Rivertown},{Easttown},{Downtown},{Merchant_District},{Shop},{Library},{Bank},{Station})"/>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="¬Rivertown=Easttown"/>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="¬Library=Bank"/>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="¬Downtown=Station"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="building_to_district={Shop ↦ Merchant_District,Bank ↦ Downtown,Station ↦ Easttown,Library ↦ Rivertown}"/>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="¬Easttown=Station"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="¬won=lost"/>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="¬Rivertown=Station"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="¬Rivertown=Bank"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="closed_to_win=2"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="next_state∈states → states"/>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="¬Bank=Station"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="states ∖ over=playing"/>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="¬Downtown=Library"/>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="¬Shop=Library"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="playing={player_turn,monster_turn}"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="¬player_turn=monster_turn"/>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="¬Merchant_District=Shop"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="buildings={Shop,Library,Bank,Station}"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="¬monster_turn=won"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="¬player_turn=lost"/>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨(finite(locations)∧finite(districts))"/>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="¬Shop=Station"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="finite(locations)"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="∀x⦂states·x∈over⇒next_state(x)∈over"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="finite(buildings)"/>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="¬Easttown=Library"/>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="¬Downtown=Merchant_District"/>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="¬Rivertown=Library"/>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="¬Shop=Bank"/>
<org.eventb.core.prPred name="p61" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨(⊤∧finite(districts))"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="finite(locations × districts)"/>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="¬Library=Station"/>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="¬Easttown=Shop"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="over={won,lost}"/>
<org.eventb.core.prPred name="p63" org.eventb.core.predicate="⊥∨districts=(∅ ⦂ ℙ(locations))∨finite(districts)"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="¬monster_turn=lost"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="open_to_lose=3"/>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="¬Merchant_District=Library"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="¬Rivertown=Merchant_District"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="¬Rivertown=Downtown"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="states ∖ playing=over"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="district_to_district={Rivertown ↦ Easttown,Easttown ↦ Downtown,Downtown ↦ Merchant_District,Merchant_District ↦ Rivertown}"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL2"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="next_turn/game_over_linking/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p34,p35,p36" org.eventb.core.prSets="locations,states">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(states,{player_turn},{monster_turn},{won},{lost}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p37,p38,p39,p40,p41,p42,p43"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p37,p38,p39,p40,p41,p42,p43"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(locations,{Rivertown},{Easttown},{Downtown},{Merchant_District},{Shop},{Library},{Bank},{Station}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p28" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p44,p45,p46,p47,p48,p49,p50,p51,p52,p53,p54,p55,p56,p57,p58,p59,p60,p61,p62,p63,p64,p65,p66,p67,p68,p69,p70,p71,p72"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p44,p45,p46,p47,p48,p49,p50,p51,p52,p53,p54,p55,p56,p57,p58,p59,p60,p61,p62,p63,p64,p65,p66,p67,p68,p69,p70,p71,p72"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p27" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p73"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p73" org.eventb.core.prHyps="p19" org.eventb.core.prInfHyps="p74"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p74" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p75"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p76"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p77"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p78"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p79"/>
<org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p80"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p75" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p81"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p81" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p82"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p30,p36,p8,p29,p2,p20,p18,p1,p3,p34,p15,p16,p31,p35,p7,p22,p10,p19,p4,p32,p26,p11,p24,p13,p5,p17,p14,p25,p21,p33,p9,p23,p12,p37,p38,p39,p40,p41,p42,p43,p44,p45,p46,p47,p48,p49,p50,p51,p52,p53,p54,p55,p56,p57,p58,p59,p60,p61,p62,p63,p64,p65,p66,p67,p68,p69,p70,p71,p72,p82">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="building_to_district" org.eventb.core.type="ℙ(locations×locations)"/>
<org.eventb.core.prIdent name="buildings" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="closed_gates" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="closed_to_win" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="connected" org.eventb.core.type="ℙ(locations×locations)"/>
<org.eventb.core.prIdent name="district_to_district" org.eventb.core.type="ℙ(locations×locations)"/>
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="game_over" org.eventb.core.type="BOOL"/>
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster_locations" org.eventb.core.type="ℙ(ℤ×locations)"/>
<org.eventb.core.prIdent name="monster_pool" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monsters" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="next_state" org.eventb.core.type="ℙ(states×states)"/>
<org.eventb.core.prIdent name="open_gates" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="open_to_lose" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="over" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="playing" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="state" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="turn_end" org.eventb.core.type="BOOL"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="¬Downtown=Shop"/>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="¬Easttown=Merchant_District"/>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="states={player_turn,monster_turn,won,lost}"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="next_state={player_turn ↦ monster_turn,monster_turn ↦ player_turn,lost ↦ lost,won ↦ won}"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="monster_pool={1}"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="monsters⊆monster_pool"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="partition(states,{player_turn},{monster_turn},{won},{lost})"/>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="¬Rivertown=Shop"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="connected=building_to_district∪building_to_district∼∪district_to_district∪district_to_district∼"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="card(closed_gates)&lt;2"/>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="locations={Rivertown,Easttown,Downtown,Merchant_District,Shop,Library,Bank,Station}"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="locations=districts∪buildings"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="game_over=TRUE⇔state∈over"/>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="¬player_turn=won"/>
<org.eventb.core.prPred name="p77" org.eventb.core.predicate="location∈locations">
<org.eventb.core.prIdent name="location" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="monsters=dom(monster_locations)"/>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="¬Easttown=Bank"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="districts={Rivertown,Easttown,Downtown,Merchant_District}"/>
<org.eventb.core.prPred name="p82" org.eventb.core.predicate="districts=(∅ ⦂ ℙ(locations))∨finite(districts)"/>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="¬Easttown=Downtown"/>
<org.eventb.core.prPred name="p75" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨finite(districts)"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="∀x⦂states·x∈playing⇒next_state(x)∈playing"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="state∈playing"/>
<org.eventb.core.prPred name="p66" org.eventb.core.predicate="¬Merchant_District=Station"/>
<org.eventb.core.prPred name="p65" org.eventb.core.predicate="¬Merchant_District=Bank"/>
<org.eventb.core.prPred name="p61" org.eventb.core.predicate="¬Downtown=Bank"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="turn_end=TRUE"/>
<org.eventb.core.prPred name="p76" org.eventb.core.predicate="game_over∈BOOL"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="finite(open_gates)"/>
<org.eventb.core.prPred name="p78" org.eventb.core.predicate="state∈states"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="partition(locations,{Rivertown},{Easttown},{Downtown},{Merchant_District},{Shop},{Library},{Bank},{Station})"/>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="¬Rivertown=Easttown"/>
<org.eventb.core.prPred name="p70" org.eventb.core.predicate="¬Library=Bank"/>
<org.eventb.core.prPred name="p79" org.eventb.core.predicate="turn_end∈BOOL"/>
<org.eventb.core.prPred name="p62" org.eventb.core.predicate="¬Downtown=Station"/>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="¬Easttown=Station"/>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="building_to_district={Shop ↦ Merchant_District,Bank ↦ Downtown,Station ↦ Easttown,Library ↦ Rivertown}"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="open_gates⊆buildings"/>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="¬Rivertown=Station"/>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="¬won=lost"/>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="¬Rivertown=Bank"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="closed_to_win=2"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="next_state∈states → states"/>
<org.eventb.core.prPred name="p72" org.eventb.core.predicate="¬Bank=Station"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="states ∖ over=playing"/>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="¬Downtown=Library"/>
<org.eventb.core.prPred name="p67" org.eventb.core.predicate="¬Shop=Library"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="playing={player_turn,monster_turn}"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="next_state∈states ⇸ states"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="closed_gates⊆buildings"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="¬player_turn=monster_turn"/>
<org.eventb.core.prPred name="p63" org.eventb.core.predicate="¬Merchant_District=Shop"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="buildings={Shop,Library,Bank,Station}"/>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="¬monster_turn=won"/>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="¬player_turn=lost"/>
<org.eventb.core.prPred name="p73" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨(finite(locations)∧finite(districts))"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="monster_locations∈monsters → locations"/>
<org.eventb.core.prPred name="p69" org.eventb.core.predicate="¬Shop=Station"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="∀x⦂states·x∈over⇒next_state(x)∈over"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="finite(locations)"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="game_over=TRUE⇔next_state(state)∈over"/>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="¬Easttown=Library"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="finite(buildings)"/>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="¬Downtown=Merchant_District"/>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="¬Rivertown=Library"/>
<org.eventb.core.prPred name="p68" org.eventb.core.predicate="¬Shop=Bank"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="state∈dom(next_state)"/>
<org.eventb.core.prPred name="p74" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨(⊤∧finite(districts))"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="finite(closed_gates)"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="finite(locations × districts)"/>
<org.eventb.core.prPred name="p71" org.eventb.core.predicate="¬Library=Station"/>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="¬Easttown=Shop"/>
<org.eventb.core.prPred name="p80" org.eventb.core.predicate="acted∈BOOL">
<org.eventb.core.prIdent name="acted" org.eventb.core.type="BOOL"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="over={won,lost}"/>
<org.eventb.core.prPred name="p81" org.eventb.core.predicate="⊥∨districts=(∅ ⦂ ℙ(locations))∨finite(districts)"/>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="¬monster_turn=lost"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="open_to_lose=3"/>
<org.eventb.core.prPred name="p64" org.eventb.core.predicate="¬Merchant_District=Library"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="card(open_gates)&lt;3"/>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="¬Rivertown=Merchant_District"/>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="¬Rivertown=Downtown"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="states ∖ playing=over"/>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="district_to_district={Rivertown ↦ Easttown,Easttown ↦ Downtown,Downtown ↦ Merchant_District,Merchant_District ↦ Rivertown}"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL2"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="lose_game/game_over_linking/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p34" org.eventb.core.prSets="locations,states">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(states,{player_turn},{monster_turn},{won},{lost}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p35,p36,p37,p38,p39,p40,p41"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p35,p36,p37,p38,p39,p40,p41"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(locations,{Rivertown},{Easttown},{Downtown},{Merchant_District},{Shop},{Library},{Bank},{Station}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p26" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p42,p43,p44,p45,p46,p47,p48,p49,p50,p51,p52,p53,p54,p55,p56,p57,p58,p59,p60,p61,p62,p63,p64,p65,p66,p67,p68,p69,p70"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p42,p43,p44,p45,p46,p47,p48,p49,p50,p51,p52,p53,p54,p55,p56,p57,p58,p59,p60,p61,p62,p63,p64,p65,p66,p67,p68,p69,p70"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p72">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p25" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p71"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p71" org.eventb.core.prHyps="p18" org.eventb.core.prInfHyps="p73"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p73" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p74"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p75"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p76"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p77"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p78"/>
<org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p79"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p74" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p80"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p80" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p81"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p72" org.eventb.core.prHyps="p28,p33,p8,p27,p2,p19,p17,p1,p3,p31,p13,p14,p29,p32,p7,p21,p9,p18,p4,p30,p24,p10,p22,p16,p11,p5,p15,p12,p34,p23,p20,p35,p36,p37,p38,p39,p40,p41,p42,p43,p44,p45,p46,p47,p48,p49,p50,p51,p52,p53,p54,p55,p56,p57,p58,p59,p60,p61,p62,p63,p64,p65,p66,p67,p68,p69,p70,p81">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="building_to_district" org.eventb.core.type="ℙ(locations×locations)"/>
<org.eventb.core.prIdent name="buildings" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="closed_gates" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="closed_to_win" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="connected" org.eventb.core.type="ℙ(locations×locations)"/>
<org.eventb.core.prIdent name="district_to_district" org.eventb.core.type="ℙ(locations×locations)"/>
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="game_over" org.eventb.core.type="BOOL"/>
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster_locations" org.eventb.core.type="ℙ(ℤ×locations)"/>
<org.eventb.core.prIdent name="monster_pool" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monsters" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="next_state" org.eventb.core.type="ℙ(states×states)"/>
<org.eventb.core.prIdent name="open_gates" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="open_to_lose" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="over" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="playing" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="state" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="turn_end" org.eventb.core.type="BOOL"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="¬Downtown=Shop"/>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="¬Easttown=Merchant_District"/>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="states={player_turn,monster_turn,won,lost}"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="next_state={player_turn ↦ monster_turn,monster_turn ↦ player_turn,lost ↦ lost,won ↦ won}"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="monster_pool={1}"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="monsters⊆monster_pool"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="partition(states,{player_turn},{monster_turn},{won},{lost})"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="connected=building_to_district∪building_to_district∼∪district_to_district∪district_to_district∼"/>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="¬Rivertown=Shop"/>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="locations={Rivertown,Easttown,Downtown,Merchant_District,Shop,Library,Bank,Station}"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="locations=districts∪buildings"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="game_over=TRUE⇔state∈over"/>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="¬player_turn=won"/>
<org.eventb.core.prPred name="p76" org.eventb.core.predicate="location∈locations">
<org.eventb.core.prIdent name="location" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="monsters=dom(monster_locations)"/>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="¬Easttown=Bank"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="districts={Rivertown,Easttown,Downtown,Merchant_District}"/>
<org.eventb.core.prPred name="p81" org.eventb.core.predicate="districts=(∅ ⦂ ℙ(locations))∨finite(districts)"/>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="¬Easttown=Downtown"/>
<org.eventb.core.prPred name="p72" org.eventb.core.predicate="lost∈over"/>
<org.eventb.core.prPred name="p74" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨finite(districts)"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="∀x⦂states·x∈playing⇒next_state(x)∈playing"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="state∈playing"/>
<org.eventb.core.prPred name="p64" org.eventb.core.predicate="¬Merchant_District=Station"/>
<org.eventb.core.prPred name="p63" org.eventb.core.predicate="¬Merchant_District=Bank"/>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="¬Downtown=Bank"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="turn_end=TRUE"/>
<org.eventb.core.prPred name="p75" org.eventb.core.predicate="game_over∈BOOL"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="finite(open_gates)"/>
<org.eventb.core.prPred name="p77" org.eventb.core.predicate="state∈states"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="partition(locations,{Rivertown},{Easttown},{Downtown},{Merchant_District},{Shop},{Library},{Bank},{Station})"/>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="¬Rivertown=Easttown"/>
<org.eventb.core.prPred name="p68" org.eventb.core.predicate="¬Library=Bank"/>
<org.eventb.core.prPred name="p78" org.eventb.core.predicate="turn_end∈BOOL"/>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="¬Downtown=Station"/>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="¬Easttown=Station"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="building_to_district={Shop ↦ Merchant_District,Bank ↦ Downtown,Station ↦ Easttown,Library ↦ Rivertown}"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="open_gates⊆buildings"/>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="¬Rivertown=Station"/>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="¬won=lost"/>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="¬Rivertown=Bank"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="closed_to_win=2"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="next_state∈states → states"/>
<org.eventb.core.prPred name="p70" org.eventb.core.predicate="¬Bank=Station"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="states ∖ over=playing"/>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="¬Downtown=Library"/>
<org.eventb.core.prPred name="p65" org.eventb.core.predicate="¬Shop=Library"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="playing={player_turn,monster_turn}"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="closed_gates⊆buildings"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="TRUE=TRUE⇔lost∈over"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="¬player_turn=monster_turn"/>
<org.eventb.core.prPred name="p61" org.eventb.core.predicate="¬Merchant_District=Shop"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="buildings={Shop,Library,Bank,Station}"/>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="¬monster_turn=won"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="¬player_turn=lost"/>
<org.eventb.core.prPred name="p71" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨(finite(locations)∧finite(districts))"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="open_gates∩closed_gates=(∅ ⦂ ℙ(locations))"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="monster_locations∈monsters → locations"/>
<org.eventb.core.prPred name="p67" org.eventb.core.predicate="¬Shop=Station"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="∀x⦂states·x∈over⇒next_state(x)∈over"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="finite(locations)"/>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="¬Easttown=Library"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="finite(buildings)"/>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="¬Downtown=Merchant_District"/>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="¬Rivertown=Library"/>
<org.eventb.core.prPred name="p66" org.eventb.core.predicate="¬Shop=Bank"/>
<org.eventb.core.prPred name="p73" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨(⊤∧finite(districts))"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="finite(closed_gates)"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="finite(locations × districts)"/>
<org.eventb.core.prPred name="p69" org.eventb.core.predicate="¬Library=Station"/>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="¬Easttown=Shop"/>
<org.eventb.core.prPred name="p79" org.eventb.core.predicate="acted∈BOOL">
<org.eventb.core.prIdent name="acted" org.eventb.core.type="BOOL"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="over={won,lost}"/>
<org.eventb.core.prPred name="p80" org.eventb.core.predicate="⊥∨districts=(∅ ⦂ ℙ(locations))∨finite(districts)"/>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="¬monster_turn=lost"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="open_to_lose=3"/>
<org.eventb.core.prPred name="p62" org.eventb.core.predicate="¬Merchant_District=Library"/>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="¬Rivertown=Merchant_District"/>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="¬Rivertown=Downtown"/>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="states ∖ playing=over"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="district_to_district={Rivertown ↦ Easttown,Easttown ↦ Downtown,Downtown ↦ Merchant_District,Merchant_District ↦ Rivertown}"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="card(open_gates)≥3"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL2"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="win_game/game_over_linking/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p34" org.eventb.core.prSets="locations,states">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(states,{player_turn},{monster_turn},{won},{lost}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p35,p36,p37,p38,p39,p40,p41"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p35,p36,p37,p38,p39,p40,p41"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(locations,{Rivertown},{Easttown},{Downtown},{Merchant_District},{Shop},{Library},{Bank},{Station}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p27" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p42,p43,p44,p45,p46,p47,p48,p49,p50,p51,p52,p53,p54,p55,p56,p57,p58,p59,p60,p61,p62,p63,p64,p65,p66,p67,p68,p69,p70"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p42,p43,p44,p45,p46,p47,p48,p49,p50,p51,p52,p53,p54,p55,p56,p57,p58,p59,p60,p61,p62,p63,p64,p65,p66,p67,p68,p69,p70"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p72">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p26" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p71"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p71" org.eventb.core.prHyps="p19" org.eventb.core.prInfHyps="p73"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p73" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p74"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p75"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p76"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p77"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p78"/>
<org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p79"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p74" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p80"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p80" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p81"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p72" org.eventb.core.prHyps="p29,p34,p8,p28,p2,p20,p18,p1,p3,p32,p13,p15,p30,p33,p7,p22,p9,p19,p4,p31,p25,p10,p23,p17,p11,p5,p16,p12,p14,p24,p21,p35,p36,p37,p38,p39,p40,p41,p42,p43,p44,p45,p46,p47,p48,p49,p50,p51,p52,p53,p54,p55,p56,p57,p58,p59,p60,p61,p62,p63,p64,p65,p66,p67,p68,p69,p70,p81">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="building_to_district" org.eventb.core.type="ℙ(locations×locations)"/>
<org.eventb.core.prIdent name="buildings" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="closed_gates" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="closed_to_win" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="connected" org.eventb.core.type="ℙ(locations×locations)"/>
<org.eventb.core.prIdent name="district_to_district" org.eventb.core.type="ℙ(locations×locations)"/>
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="game_over" org.eventb.core.type="BOOL"/>
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster_locations" org.eventb.core.type="ℙ(ℤ×locations)"/>
<org.eventb.core.prIdent name="monster_pool" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monsters" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="next_state" org.eventb.core.type="ℙ(states×states)"/>
<org.eventb.core.prIdent name="open_gates" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="open_to_lose" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="over" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="playing" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="state" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="turn_end" org.eventb.core.type="BOOL"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="¬Downtown=Shop"/>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="¬Easttown=Merchant_District"/>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="states={player_turn,monster_turn,won,lost}"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="next_state={player_turn ↦ monster_turn,monster_turn ↦ player_turn,lost ↦ lost,won ↦ won}"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="monster_pool={1}"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="monsters⊆monster_pool"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="partition(states,{player_turn},{monster_turn},{won},{lost})"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="connected=building_to_district∪building_to_district∼∪district_to_district∪district_to_district∼"/>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="¬Rivertown=Shop"/>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="locations={Rivertown,Easttown,Downtown,Merchant_District,Shop,Library,Bank,Station}"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="locations=districts∪buildings"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="game_over=TRUE⇔state∈over"/>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="¬player_turn=won"/>
<org.eventb.core.prPred name="p76" org.eventb.core.predicate="location∈locations">
<org.eventb.core.prIdent name="location" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="monsters=dom(monster_locations)"/>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="¬Easttown=Bank"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="districts={Rivertown,Easttown,Downtown,Merchant_District}"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="card(closed_gates)≥2"/>
<org.eventb.core.prPred name="p81" org.eventb.core.predicate="districts=(∅ ⦂ ℙ(locations))∨finite(districts)"/>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="¬Easttown=Downtown"/>
<org.eventb.core.prPred name="p74" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨finite(districts)"/>
<org.eventb.core.prPred name="p72" org.eventb.core.predicate="won∈over"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="∀x⦂states·x∈playing⇒next_state(x)∈playing"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="state∈playing"/>
<org.eventb.core.prPred name="p64" org.eventb.core.predicate="¬Merchant_District=Station"/>
<org.eventb.core.prPred name="p63" org.eventb.core.predicate="¬Merchant_District=Bank"/>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="¬Downtown=Bank"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="turn_end=TRUE"/>
<org.eventb.core.prPred name="p75" org.eventb.core.predicate="game_over∈BOOL"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="finite(open_gates)"/>
<org.eventb.core.prPred name="p77" org.eventb.core.predicate="state∈states"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="partition(locations,{Rivertown},{Easttown},{Downtown},{Merchant_District},{Shop},{Library},{Bank},{Station})"/>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="¬Rivertown=Easttown"/>
<org.eventb.core.prPred name="p68" org.eventb.core.predicate="¬Library=Bank"/>
<org.eventb.core.prPred name="p78" org.eventb.core.predicate="turn_end∈BOOL"/>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="¬Downtown=Station"/>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="¬Easttown=Station"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="building_to_district={Shop ↦ Merchant_District,Bank ↦ Downtown,Station ↦ Easttown,Library ↦ Rivertown}"/>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="open_gates⊆buildings"/>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="¬Rivertown=Station"/>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="¬won=lost"/>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="¬Rivertown=Bank"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="closed_to_win=2"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="next_state∈states → states"/>
<org.eventb.core.prPred name="p70" org.eventb.core.predicate="¬Bank=Station"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="states ∖ over=playing"/>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="¬Downtown=Library"/>
<org.eventb.core.prPred name="p65" org.eventb.core.predicate="¬Shop=Library"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="playing={player_turn,monster_turn}"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="closed_gates⊆buildings"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="¬player_turn=monster_turn"/>
<org.eventb.core.prPred name="p61" org.eventb.core.predicate="¬Merchant_District=Shop"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="buildings={Shop,Library,Bank,Station}"/>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="¬monster_turn=won"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="¬player_turn=lost"/>
<org.eventb.core.prPred name="p71" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨(finite(locations)∧finite(districts))"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="open_gates∩closed_gates=(∅ ⦂ ℙ(locations))"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="monster_locations∈monsters → locations"/>
<org.eventb.core.prPred name="p67" org.eventb.core.predicate="¬Shop=Station"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="∀x⦂states·x∈over⇒next_state(x)∈over"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="finite(locations)"/>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="¬Easttown=Library"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="finite(buildings)"/>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="¬Downtown=Merchant_District"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="TRUE=TRUE⇔won∈over"/>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="¬Rivertown=Library"/>
<org.eventb.core.prPred name="p66" org.eventb.core.predicate="¬Shop=Bank"/>
<org.eventb.core.prPred name="p73" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨(⊤∧finite(districts))"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="finite(closed_gates)"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="finite(locations × districts)"/>
<org.eventb.core.prPred name="p69" org.eventb.core.predicate="¬Library=Station"/>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="¬Easttown=Shop"/>
<org.eventb.core.prPred name="p79" org.eventb.core.predicate="acted∈BOOL">
<org.eventb.core.prIdent name="acted" org.eventb.core.type="BOOL"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="over={won,lost}"/>
<org.eventb.core.prPred name="p80" org.eventb.core.predicate="⊥∨districts=(∅ ⦂ ℙ(locations))∨finite(districts)"/>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="¬monster_turn=lost"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="open_to_lose=3"/>
<org.eventb.core.prPred name="p62" org.eventb.core.predicate="¬Merchant_District=Library"/>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="¬Rivertown=Merchant_District"/>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="¬Rivertown=Downtown"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="states ∖ playing=over"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="district_to_district={Rivertown ↦ Easttown,Easttown ↦ Downtown,Downtown ↦ Merchant_District,Merchant_District ↦ Rivertown}"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL2"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="lose_game/end_condition/GRD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1" org.eventb.core.prSets="locations">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(states,{player_turn},{monster_turn},{won},{lost}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p3,p4,p5,p6,p7,p8,p9"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p3,p4,p5,p6,p7,p8,p9"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(locations,{Rivertown},{Easttown},{Downtown},{Merchant_District},{Shop},{Library},{Bank},{Station}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p34,p35,p36,p37,p38,p39"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p34,p35,p36,p37,p38,p39"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p43">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p40" org.eventb.core.prHyps="p1,p42" org.eventb.core.prInfHyps="p41"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p43" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p46">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p44" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p45"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p41"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p46" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="closed_gates" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="open_gates" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="⊤"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="¬Downtown=Shop">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="¬Easttown=Merchant_District">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="¬Bank=Station">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="states={player_turn,monster_turn,won,lost}">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="¬Downtown=Library">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="card(open_gates)≥3∨card(closed_gates)≥2"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="¬Shop=Library">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="partition(states,{player_turn},{monster_turn},{won},{lost})">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="¬Rivertown=Shop">
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="locations={Rivertown,Easttown,Downtown,Merchant_District,Shop,Library,Bank,Station}">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬player_turn=won">
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="¬Easttown=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬player_turn=monster_turn">
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="¬Merchant_District=Shop">
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬monster_turn=won">
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬player_turn=lost">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="¬Easttown=Downtown">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨(finite(locations)∧finite(districts))">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="¬Shop=Station">
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="⊤∨card(closed_gates)≥2"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="¬Easttown=Library">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="¬Downtown=Merchant_District">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="card(open_gates)≥3∨finite(closed_gates)"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="¬Merchant_District=Station">
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="¬Merchant_District=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="¬Rivertown=Library">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="¬Shop=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="¬Downtown=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="finite(closed_gates)"/>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="finite(locations × districts)">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="¬Library=Station">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="partition(locations,{Rivertown},{Easttown},{Downtown},{Merchant_District},{Shop},{Library},{Bank},{Station})">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="¬Easttown=Shop">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="¬Rivertown=Easttown">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬monster_turn=lost">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="¬Library=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="⊤∨⊤"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="¬Downtown=Station">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="¬Easttown=Station">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="¬Merchant_District=Library">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="¬won=lost">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="¬Rivertown=Merchant_District">
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="¬Rivertown=Station">
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="¬Rivertown=Downtown">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="¬Rivertown=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="card(open_gates)≥3"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL2"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="win_game/end_condition/GRD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1" org.eventb.core.prSets="locations">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(states,{player_turn},{monster_turn},{won},{lost}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p3,p4,p5,p6,p7,p8,p9"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p3,p4,p5,p6,p7,p8,p9"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(locations,{Rivertown},{Easttown},{Downtown},{Merchant_District},{Shop},{Library},{Bank},{Station}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p34,p35,p36,p37,p38,p39"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p34,p35,p36,p37,p38,p39"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p43">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p40" org.eventb.core.prHyps="p42" org.eventb.core.prInfHyps="p41"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p43" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p46">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p44" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p45"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p41"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p46" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="closed_gates" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="open_gates" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="⊤"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="¬Downtown=Shop">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="¬Easttown=Merchant_District">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="¬Bank=Station">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="states={player_turn,monster_turn,won,lost}">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="⊥∨⊤"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="¬Downtown=Library">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="card(open_gates)≥3∨card(closed_gates)≥2"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="¬Shop=Library">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="partition(states,{player_turn},{monster_turn},{won},{lost})">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="¬Rivertown=Shop">
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="locations={Rivertown,Easttown,Downtown,Merchant_District,Shop,Library,Bank,Station}">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬player_turn=won">
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="¬Easttown=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬player_turn=monster_turn">
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="card(closed_gates)≥2"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="¬Merchant_District=Shop">
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬monster_turn=won">
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬player_turn=lost">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="¬Easttown=Downtown">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨(finite(locations)∧finite(districts))">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="card(open_gates)≥3∨⊤"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="¬Shop=Station">
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="¬Easttown=Library">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="¬Downtown=Merchant_District">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="card(open_gates)≥3∨finite(closed_gates)"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="¬Merchant_District=Station">
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="¬Merchant_District=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="¬Rivertown=Library">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="¬Shop=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="¬Downtown=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="finite(closed_gates)"/>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="finite(locations × districts)">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="¬Library=Station">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="partition(locations,{Rivertown},{Easttown},{Downtown},{Merchant_District},{Shop},{Library},{Bank},{Station})">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="¬Easttown=Shop">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="¬Rivertown=Easttown">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬monster_turn=lost">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="¬Library=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="¬Downtown=Station">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="¬Easttown=Station">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="¬Merchant_District=Library">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="¬won=lost">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="¬Rivertown=Merchant_District">
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="¬Rivertown=Station">
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="¬Rivertown=Downtown">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="¬Rivertown=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL2"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="INITIALISATION/open_gates/SIM" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="" org.eventb.core.prSets="locations">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(states,{player_turn},{monster_turn},{won},{lost}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p2,p3,p4,p5,p6,p7,p8"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p2,p3,p4,p5,p6,p7,p8"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(locations,{Rivertown},{Easttown},{Downtown},{Merchant_District},{Shop},{Library},{Bank},{Station}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p34,p35,p36,p37,p38"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p34,p35,p36,p37,p38"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p41">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p39" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p40"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p41" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="⊤"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="¬Downtown=Shop">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="¬Easttown=Merchant_District">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="¬Bank=Station">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="states={player_turn,monster_turn,won,lost}">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="¬Downtown=Library">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="¬Shop=Library">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="partition(states,{player_turn},{monster_turn},{won},{lost})">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="¬Rivertown=Shop">
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="locations={Rivertown,Easttown,Downtown,Merchant_District,Shop,Library,Bank,Station}">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬player_turn=won">
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="¬Easttown=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="¬player_turn=monster_turn">
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="¬Merchant_District=Shop">
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬monster_turn=won">
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬player_turn=lost">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="¬Easttown=Downtown">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨(finite(locations)∧finite(districts))">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="¬Shop=Station">
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="(∅ ⦂ ℙ(locations))=(∅ ⦂ ℙ(locations))"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="¬Easttown=Library">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="¬Downtown=Merchant_District">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="¬Merchant_District=Station">
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="¬Merchant_District=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="¬Rivertown=Library">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="¬Shop=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="¬Downtown=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="finite(locations × districts)">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="¬Library=Station">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="partition(locations,{Rivertown},{Easttown},{Downtown},{Merchant_District},{Shop},{Library},{Bank},{Station})">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="¬Easttown=Shop">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="¬Rivertown=Easttown">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬monster_turn=lost">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="¬Library=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="¬Downtown=Station">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="¬Easttown=Station">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="¬Merchant_District=Library">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬won=lost">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="¬Rivertown=Merchant_District">
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="¬Rivertown=Station">
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="¬Rivertown=Downtown">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="¬Rivertown=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="INITIALISATION/closed_gates/SIM" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prHyps="">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(locations,{Rivertown},{Easttown},{Downtown},{Merchant_District},{Shop},{Library},{Bank},{Station}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p0" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(states,{player_turn},{monster_turn},{won},{lost}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p30" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p31,p32,p33,p34,p35,p36,p37"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p31,p32,p33,p34,p35,p36,p37"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p38" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p39"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p39" org.eventb.core.prHyps="p41" org.eventb.core.prInfHyps="p40"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p40" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p42"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p42" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p43"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p43" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p44"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="¬Easttown=Merchant_District">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="¬Downtown=Shop">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="¬Bank=Station">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="states={player_turn,monster_turn,won,lost}">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="¬Downtown=Library">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="¬Shop=Library">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="partition(states,{player_turn},{monster_turn},{won},{lost})">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬Rivertown=Shop">
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="locations={Rivertown,Easttown,Downtown,Merchant_District,Shop,Library,Bank,Station}">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="¬player_turn=won">
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="¬Easttown=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="¬player_turn=monster_turn">
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="districts=(∅ ⦂ ℙ(locations))∨finite(districts)">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="¬monster_turn=won">
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="¬Merchant_District=Shop">
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="¬player_turn=lost">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="¬Easttown=Downtown">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨(finite(locations)∧finite(districts))">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨finite(districts)">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="finite(locations)">
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="¬Shop=Station">
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="¬Easttown=Library">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="¬Downtown=Merchant_District">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="¬Merchant_District=Station">
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬Rivertown=Library">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="¬Merchant_District=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="¬Shop=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="¬Downtown=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨(⊤∧finite(districts))">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="finite(locations × districts)">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="¬Library=Station">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="partition(locations,{Rivertown},{Easttown},{Downtown},{Merchant_District},{Shop},{Library},{Bank},{Station})">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="¬Easttown=Shop">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="¬Rivertown=Easttown">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="⊥∨districts=(∅ ⦂ ℙ(locations))∨finite(districts)">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="¬monster_turn=lost">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="¬Library=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="¬Downtown=Station">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="¬Easttown=Station">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="¬Merchant_District=Library">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="¬won=lost">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬Rivertown=Station">
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬Rivertown=Merchant_District">
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="¬Rivertown=Downtown">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬Rivertown=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL2"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="lose_game/lose_conditions/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p0" org.eventb.core.prSets="locations">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="hyp" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p0"/>
<org.eventb.core.prIdent name="open_gates" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="finite(open_gates)"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.hyp"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="win_game/win_condition/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p0" org.eventb.core.prSets="locations">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="hyp" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p0"/>
<org.eventb.core.prIdent name="closed_gates" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="finite(closed_gates)"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.hyp"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="open_gate/playing/GRD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p34,p35,p36" org.eventb.core.prSets="locations,states">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(states,{player_turn},{monster_turn},{won},{lost}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p37,p38,p39,p40,p41,p42,p43"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p37,p38,p39,p40,p41,p42,p43"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(locations,{Rivertown},{Easttown},{Downtown},{Merchant_District},{Shop},{Library},{Bank},{Station}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p28" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p44,p45,p46,p47,p48,p49,p50,p51,p52,p53,p54,p55,p56,p57,p58,p59,p60,p61,p62,p63,p64,p65,p66,p67,p68,p69,p70,p71,p72"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p44,p45,p46,p47,p48,p49,p50,p51,p52,p53,p54,p55,p56,p57,p58,p59,p60,p61,p62,p63,p64,p65,p66,p67,p68,p69,p70,p71,p72"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p27" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p73"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p22" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p74"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p73" org.eventb.core.prHyps="p18" org.eventb.core.prInfHyps="p75"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p75" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p76"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p77"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p78"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p79"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p80"/>
<org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p81"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p76" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p82"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p82" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p83"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p31,p36,p8,p30,p2,p19,p17,p1,p3,p34,p13,p14,p32,p35,p7,p21,p9,p18,p4,p33,p25,p10,p23,p16,p11,p5,p15,p12,p26,p24,p20,p29,p37,p38,p39,p40,p41,p42,p43,p44,p45,p46,p47,p48,p49,p50,p51,p52,p53,p54,p55,p56,p57,p58,p59,p60,p61,p62,p63,p64,p65,p66,p67,p68,p69,p70,p71,p72,p74,p83">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="acted" org.eventb.core.type="BOOL"/>
<org.eventb.core.prIdent name="building" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="building_to_district" org.eventb.core.type="ℙ(locations×locations)"/>
<org.eventb.core.prIdent name="buildings" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="closed_gates" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="closed_to_win" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="connected" org.eventb.core.type="ℙ(locations×locations)"/>
<org.eventb.core.prIdent name="district_to_district" org.eventb.core.type="ℙ(locations×locations)"/>
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="game_over" org.eventb.core.type="BOOL"/>
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster_locations" org.eventb.core.type="ℙ(ℤ×locations)"/>
<org.eventb.core.prIdent name="monster_pool" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monsters" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="next_state" org.eventb.core.type="ℙ(states×states)"/>
<org.eventb.core.prIdent name="open_gates" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="open_to_lose" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="over" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="playing" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="state" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="turn_end" org.eventb.core.type="BOOL"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="¬Downtown=Shop"/>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="¬Easttown=Merchant_District"/>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="states={player_turn,monster_turn,won,lost}"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="next_state={player_turn ↦ monster_turn,monster_turn ↦ player_turn,lost ↦ lost,won ↦ won}"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="monster_pool={1}"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="monsters⊆monster_pool"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="partition(states,{player_turn},{monster_turn},{won},{lost})"/>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="¬Rivertown=Shop"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="connected=building_to_district∪building_to_district∼∪district_to_district∪district_to_district∼"/>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="locations={Rivertown,Easttown,Downtown,Merchant_District,Shop,Library,Bank,Station}"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="locations=districts∪buildings"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="game_over=TRUE⇔state∈over"/>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="¬player_turn=won"/>
<org.eventb.core.prPred name="p78" org.eventb.core.predicate="location∈locations">
<org.eventb.core.prIdent name="location" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="monsters=dom(monster_locations)"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="game_over=FALSE"/>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="¬Easttown=Bank"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="districts={Rivertown,Easttown,Downtown,Merchant_District}"/>
<org.eventb.core.prPred name="p83" org.eventb.core.predicate="districts=(∅ ⦂ ℙ(locations))∨finite(districts)"/>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="¬Easttown=Downtown"/>
<org.eventb.core.prPred name="p76" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨finite(districts)"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="∀x⦂states·x∈playing⇒next_state(x)∈playing"/>
<org.eventb.core.prPred name="p66" org.eventb.core.predicate="¬Merchant_District=Station"/>
<org.eventb.core.prPred name="p65" org.eventb.core.predicate="¬Merchant_District=Bank"/>
<org.eventb.core.prPred name="p61" org.eventb.core.predicate="¬Downtown=Bank"/>
<org.eventb.core.prPred name="p77" org.eventb.core.predicate="game_over∈BOOL"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="state=monster_turn"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="finite(open_gates)"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="building∈buildings"/>
<org.eventb.core.prPred name="p79" org.eventb.core.predicate="state∈states"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="partition(locations,{Rivertown},{Easttown},{Downtown},{Merchant_District},{Shop},{Library},{Bank},{Station})"/>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="¬Rivertown=Easttown"/>
<org.eventb.core.prPred name="p70" org.eventb.core.predicate="¬Library=Bank"/>
<org.eventb.core.prPred name="p80" org.eventb.core.predicate="turn_end∈BOOL"/>
<org.eventb.core.prPred name="p62" org.eventb.core.predicate="¬Downtown=Station"/>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="¬Easttown=Station"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="building_to_district={Shop ↦ Merchant_District,Bank ↦ Downtown,Station ↦ Easttown,Library ↦ Rivertown}"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="open_gates⊆buildings"/>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="¬Rivertown=Station"/>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="¬won=lost"/>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="¬Rivertown=Bank"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="closed_to_win=2"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="next_state∈states → states"/>
<org.eventb.core.prPred name="p72" org.eventb.core.predicate="¬Bank=Station"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="states ∖ over=playing"/>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="¬Downtown=Library"/>
<org.eventb.core.prPred name="p67" org.eventb.core.predicate="¬Shop=Library"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="playing={player_turn,monster_turn}"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="closed_gates⊆buildings"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="¬player_turn=monster_turn"/>
<org.eventb.core.prPred name="p63" org.eventb.core.predicate="¬Merchant_District=Shop"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="buildings={Shop,Library,Bank,Station}"/>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="¬monster_turn=won"/>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="¬player_turn=lost"/>
<org.eventb.core.prPred name="p73" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨(finite(locations)∧finite(districts))"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="open_gates∩closed_gates=(∅ ⦂ ℙ(locations))"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="monster_locations∈monsters → locations"/>
<org.eventb.core.prPred name="p69" org.eventb.core.predicate="¬Shop=Station"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="∀x⦂states·x∈over⇒next_state(x)∈over"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="finite(locations)"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="turn_end=FALSE"/>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="¬Easttown=Library"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="finite(buildings)"/>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="¬Downtown=Merchant_District"/>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="¬Rivertown=Library"/>
<org.eventb.core.prPred name="p68" org.eventb.core.predicate="¬Shop=Bank"/>
<org.eventb.core.prPred name="p75" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨(⊤∧finite(districts))"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="finite(closed_gates)"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="building∉open_gates"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="finite(locations × districts)"/>
<org.eventb.core.prPred name="p74" org.eventb.core.predicate="¬building∈open_gates"/>
<org.eventb.core.prPred name="p71" org.eventb.core.predicate="¬Library=Station"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="acted=FALSE"/>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="¬Easttown=Shop"/>
<org.eventb.core.prPred name="p81" org.eventb.core.predicate="acted∈BOOL"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="over={won,lost}"/>
<org.eventb.core.prPred name="p82" org.eventb.core.predicate="⊥∨districts=(∅ ⦂ ℙ(locations))∨finite(districts)"/>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="¬monster_turn=lost"/>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="open_to_lose=3"/>
<org.eventb.core.prPred name="p64" org.eventb.core.predicate="¬Merchant_District=Library"/>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="¬Rivertown=Merchant_District"/>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="¬Rivertown=Downtown"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="states ∖ playing=over"/>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="district_to_district={Rivertown ↦ Easttown,Easttown ↦ Downtown,Downtown ↦ Merchant_District,Merchant_District ↦ Rivertown}"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL2"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="close_gate/playing/GRD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p34,p35,p36" org.eventb.core.prSets="locations,states">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(states,{player_turn},{monster_turn},{won},{lost}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p7" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p37,p38,p39,p40,p41,p42,p43"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p37,p38,p39,p40,p41,p42,p43"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(locations,{Rivertown},{Easttown},{Downtown},{Merchant_District},{Shop},{Library},{Bank},{Station}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p28" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p44,p45,p46,p47,p48,p49,p50,p51,p52,p53,p54,p55,p56,p57,p58,p59,p60,p61,p62,p63,p64,p65,p66,p67,p68,p69,p70,p71,p72"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p44,p45,p46,p47,p48,p49,p50,p51,p52,p53,p54,p55,p56,p57,p58,p59,p60,p61,p62,p63,p64,p65,p66,p67,p68,p69,p70,p71,p72"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p27" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p73"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p73" org.eventb.core.prHyps="p20" org.eventb.core.prInfHyps="p74"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p74" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p75"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p76"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p77"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p78"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p79"/>
<org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p80"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p75" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p81"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p81" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p82"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p31,p36,p9,p30,p3,p21,p19,p1,p4,p34,p14,p16,p32,p35,p8,p23,p10,p20,p5,p33,p26,p11,p25,p18,p12,p6,p17,p13,p24,p15,p29,p22,p2,p37,p38,p39,p40,p41,p42,p43,p44,p45,p46,p47,p48,p49,p50,p51,p52,p53,p54,p55,p56,p57,p58,p59,p60,p61,p62,p63,p64,p65,p66,p67,p68,p69,p70,p71,p72,p82">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="acted" org.eventb.core.type="BOOL"/>
<org.eventb.core.prIdent name="building" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="building_to_district" org.eventb.core.type="ℙ(locations×locations)"/>
<org.eventb.core.prIdent name="buildings" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="closed_gates" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="closed_to_win" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="connected" org.eventb.core.type="ℙ(locations×locations)"/>
<org.eventb.core.prIdent name="district_to_district" org.eventb.core.type="ℙ(locations×locations)"/>
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="game_over" org.eventb.core.type="BOOL"/>
<org.eventb.core.prIdent name="location" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster_locations" org.eventb.core.type="ℙ(ℤ×locations)"/>
<org.eventb.core.prIdent name="monster_pool" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monsters" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="next_state" org.eventb.core.type="ℙ(states×states)"/>
<org.eventb.core.prIdent name="open_gates" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="open_to_lose" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="over" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="playing" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="state" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="turn_end" org.eventb.core.type="BOOL"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="¬Downtown=Shop"/>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="¬Easttown=Merchant_District"/>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="states={player_turn,monster_turn,won,lost}"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="next_state={player_turn ↦ monster_turn,monster_turn ↦ player_turn,lost ↦ lost,won ↦ won}"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="monster_pool={1}"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="monsters⊆monster_pool"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="partition(states,{player_turn},{monster_turn},{won},{lost})"/>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="¬Rivertown=Shop"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="connected=building_to_district∪building_to_district∼∪district_to_district∪district_to_district∼"/>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="locations={Rivertown,Easttown,Downtown,Merchant_District,Shop,Library,Bank,Station}"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="locations=districts∪buildings"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="game_over=TRUE⇔state∈over"/>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="¬player_turn=won"/>
<org.eventb.core.prPred name="p77" org.eventb.core.predicate="location∈locations"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="monsters=dom(monster_locations)"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="game_over=FALSE"/>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="¬Easttown=Bank"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="districts={Rivertown,Easttown,Downtown,Merchant_District}"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="state=player_turn"/>
<org.eventb.core.prPred name="p82" org.eventb.core.predicate="districts=(∅ ⦂ ℙ(locations))∨finite(districts)"/>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="¬Easttown=Downtown"/>
<org.eventb.core.prPred name="p75" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨finite(districts)"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="∀x⦂states·x∈playing⇒next_state(x)∈playing"/>
<org.eventb.core.prPred name="p66" org.eventb.core.predicate="¬Merchant_District=Station"/>
<org.eventb.core.prPred name="p65" org.eventb.core.predicate="¬Merchant_District=Bank"/>
<org.eventb.core.prPred name="p61" org.eventb.core.predicate="¬Downtown=Bank"/>
<org.eventb.core.prPred name="p76" org.eventb.core.predicate="game_over∈BOOL"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="finite(open_gates)"/>
<org.eventb.core.prPred name="p78" org.eventb.core.predicate="state∈states"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="partition(locations,{Rivertown},{Easttown},{Downtown},{Merchant_District},{Shop},{Library},{Bank},{Station})"/>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="¬Rivertown=Easttown"/>
<org.eventb.core.prPred name="p70" org.eventb.core.predicate="¬Library=Bank"/>
<org.eventb.core.prPred name="p79" org.eventb.core.predicate="turn_end∈BOOL"/>
<org.eventb.core.prPred name="p62" org.eventb.core.predicate="¬Downtown=Station"/>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="¬Easttown=Station"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="building_to_district={Shop ↦ Merchant_District,Bank ↦ Downtown,Station ↦ Easttown,Library ↦ Rivertown}"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="open_gates⊆buildings"/>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="¬Rivertown=Station"/>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="¬won=lost"/>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="¬Rivertown=Bank"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="closed_to_win=2"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="next_state∈states → states"/>
<org.eventb.core.prPred name="p72" org.eventb.core.predicate="¬Bank=Station"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="location=building"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="states ∖ over=playing"/>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="¬Downtown=Library"/>
<org.eventb.core.prPred name="p67" org.eventb.core.predicate="¬Shop=Library"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="playing={player_turn,monster_turn}"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="closed_gates⊆buildings"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="¬player_turn=monster_turn"/>
<org.eventb.core.prPred name="p63" org.eventb.core.predicate="¬Merchant_District=Shop"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="buildings={Shop,Library,Bank,Station}"/>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="¬monster_turn=won"/>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="¬player_turn=lost"/>
<org.eventb.core.prPred name="p73" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨(finite(locations)∧finite(districts))"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="open_gates∩closed_gates=(∅ ⦂ ℙ(locations))"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="monster_locations∈monsters → locations"/>
<org.eventb.core.prPred name="p69" org.eventb.core.predicate="¬Shop=Station"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="∀x⦂states·x∈over⇒next_state(x)∈over"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="finite(locations)"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="turn_end=FALSE"/>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="¬Easttown=Library"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="finite(buildings)"/>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="¬Downtown=Merchant_District"/>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="¬Rivertown=Library"/>
<org.eventb.core.prPred name="p68" org.eventb.core.predicate="¬Shop=Bank"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="building∈open_gates"/>
<org.eventb.core.prPred name="p74" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨(⊤∧finite(districts))"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="finite(closed_gates)"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="finite(locations × districts)"/>
<org.eventb.core.prPred name="p71" org.eventb.core.predicate="¬Library=Station"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="acted=FALSE"/>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="¬Easttown=Shop"/>
<org.eventb.core.prPred name="p80" org.eventb.core.predicate="acted∈BOOL"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="over={won,lost}"/>
<org.eventb.core.prPred name="p81" org.eventb.core.predicate="⊥∨districts=(∅ ⦂ ℙ(locations))∨finite(districts)"/>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="¬monster_turn=lost"/>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="open_to_lose=3"/>
<org.eventb.core.prPred name="p64" org.eventb.core.predicate="¬Merchant_District=Library"/>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="¬Rivertown=Merchant_District"/>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="¬Rivertown=Downtown"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="states ∖ playing=over"/>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="district_to_district={Rivertown ↦ Easttown,Easttown ↦ Downtown,Downtown ↦ Merchant_District,Merchant_District ↦ Rivertown}"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL2"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="INITIALISATION/monster_domain/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="" org.eventb.core.prSets="locations">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(states,{player_turn},{monster_turn},{won},{lost}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p2,p3,p4,p5,p6,p7,p8"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p2,p3,p4,p5,p6,p7,p8"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(locations,{Rivertown},{Easttown},{Downtown},{Merchant_District},{Shop},{Library},{Bank},{Station}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p34,p35,p36,p37,p38"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p34,p35,p36,p37,p38"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p41">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p39" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p40"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p41" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="⊤"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="¬Downtown=Shop">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="¬Easttown=Merchant_District">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="¬Bank=Station">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="states={player_turn,monster_turn,won,lost}">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="¬Downtown=Library">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="¬Shop=Library">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="partition(states,{player_turn},{monster_turn},{won},{lost})">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="¬Rivertown=Shop">
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="locations={Rivertown,Easttown,Downtown,Merchant_District,Shop,Library,Bank,Station}">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬player_turn=won">
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="¬Easttown=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="¬player_turn=monster_turn">
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="¬Merchant_District=Shop">
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬monster_turn=won">
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬player_turn=lost">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="¬Easttown=Downtown">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨(finite(locations)∧finite(districts))">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="¬Shop=Station">
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="¬Easttown=Library">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="¬Downtown=Merchant_District">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="¬Merchant_District=Station">
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="¬Merchant_District=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="¬Rivertown=Library">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="¬Shop=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="¬Downtown=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="finite(locations × districts)">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="¬Library=Station">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="partition(locations,{Rivertown},{Easttown},{Downtown},{Merchant_District},{Shop},{Library},{Bank},{Station})">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="¬Easttown=Shop">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="¬Rivertown=Easttown">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬monster_turn=lost">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="(∅ ⦂ ℙ(ℤ))=dom(∅ ⦂ ℙ(ℤ×locations))"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="¬Library=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="¬Downtown=Station">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="¬Easttown=Station">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="¬Merchant_District=Library">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬won=lost">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="¬Rivertown=Merchant_District">
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="¬Rivertown=Station">
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="¬Rivertown=Downtown">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="¬Rivertown=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="monsters_move/monster_domain/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1" org.eventb.core.prSets="locations">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="hyp" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1"/>
<org.eventb.core.prIdent name="monsters" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="new_monster_locations" org.eventb.core.type="ℙ(ℤ×locations)"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="dom(new_monster_locations)=monsters"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="monsters=dom(new_monster_locations)"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.hyp"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="add_monster/monster_domain/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p34,p35,p36" org.eventb.core.prSets="locations,states">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(states,{player_turn},{monster_turn},{won},{lost}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p37,p38,p39,p40,p41,p42,p43"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p37,p38,p39,p40,p41,p42,p43"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(locations,{Rivertown},{Easttown},{Downtown},{Merchant_District},{Shop},{Library},{Bank},{Station}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p27" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p44,p45,p46,p47,p48,p49,p50,p51,p52,p53,p54,p55,p56,p57,p58,p59,p60,p61,p62,p63,p64,p65,p66,p67,p68,p69,p70,p71,p72"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p44,p45,p46,p47,p48,p49,p50,p51,p52,p53,p54,p55,p56,p57,p58,p59,p60,p61,p62,p63,p64,p65,p66,p67,p68,p69,p70,p71,p72"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p26" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p73"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p74"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p73" org.eventb.core.prHyps="p20" org.eventb.core.prInfHyps="p75"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p75" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p76"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬(∃x·x∈monsters∧x ↦ monster_location∈monster_locations)" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p29" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p77"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p77"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in ¬([[0]]∈monsters∧[[0]] ↦ monster_location∈monster_locations)" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p77" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p78"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p78"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p79"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p80"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p81"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p82"/>
<org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p83"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p76" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p84"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p84" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p85"/>
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with monsters=dom(monster_locations)" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p14">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p88">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p74" org.eventb.core.prInfHyps="p86"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p78" org.eventb.core.prInfHyps="p87"/>
<org.eventb.core.prHypAction name="DESELECT2" org.eventb.core.prHyps="p74,p78"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p88" org.eventb.core.prHyps="p30,p36,p10,p28,p4,p19,p18,p1,p5,p33,p15,p16,p31,p35,p9,p22,p11,p20,p6,p32,p25,p12,p23,p13,p7,p17,p14,p24,p21,p2,p34,p37,p38,p39,p40,p41,p42,p43,p44,p45,p46,p47,p48,p49,p50,p51,p52,p53,p54,p55,p56,p57,p58,p59,p60,p61,p62,p63,p64,p65,p66,p67,p68,p69,p70,p71,p72,p74,p78,p85,p86,p87">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="building_to_district" org.eventb.core.type="ℙ(locations×locations)"/>
<org.eventb.core.prIdent name="buildings" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="closed_gates" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="closed_to_win" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="connected" org.eventb.core.type="ℙ(locations×locations)"/>
<org.eventb.core.prIdent name="district_to_district" org.eventb.core.type="ℙ(locations×locations)"/>
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="game_over" org.eventb.core.type="BOOL"/>
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="monster_location" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="monster_locations" org.eventb.core.type="ℙ(ℤ×locations)"/>
<org.eventb.core.prIdent name="monster_pool" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monsters" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="next_state" org.eventb.core.type="ℙ(states×states)"/>
<org.eventb.core.prIdent name="open_gates" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="open_to_lose" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="over" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="playing" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="state" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="turn_end" org.eventb.core.type="BOOL"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="¬Downtown=Shop"/>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="¬Easttown=Merchant_District"/>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="states={player_turn,monster_turn,won,lost}"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="next_state={player_turn ↦ monster_turn,monster_turn ↦ player_turn,lost ↦ lost,won ↦ won}"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="monster_pool={1}"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="monsters⊆monster_pool"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="partition(states,{player_turn},{monster_turn},{won},{lost})"/>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="¬Rivertown=Shop"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="connected=building_to_district∪building_to_district∼∪district_to_district∪district_to_district∼"/>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="locations={Rivertown,Easttown,Downtown,Merchant_District,Shop,Library,Bank,Station}"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="locations=districts∪buildings"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="game_over=TRUE⇔state∈over"/>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="¬player_turn=won"/>
<org.eventb.core.prPred name="p80" org.eventb.core.predicate="location∈locations">
<org.eventb.core.prIdent name="location" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="monsters=dom(monster_locations)"/>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="¬Easttown=Bank"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="districts={Rivertown,Easttown,Downtown,Merchant_District}"/>
<org.eventb.core.prPred name="p85" org.eventb.core.predicate="districts=(∅ ⦂ ℙ(locations))∨finite(districts)"/>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="¬Easttown=Downtown"/>
<org.eventb.core.prPred name="p76" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨finite(districts)"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="∀x⦂states·x∈playing⇒next_state(x)∈playing"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="monsters∪{monster}=dom(monster_locations∪{monster ↦ monster_location})"/>
<org.eventb.core.prPred name="p66" org.eventb.core.predicate="¬Merchant_District=Station"/>
<org.eventb.core.prPred name="p65" org.eventb.core.predicate="¬Merchant_District=Bank"/>
<org.eventb.core.prPred name="p61" org.eventb.core.predicate="¬Downtown=Bank"/>
<org.eventb.core.prPred name="p79" org.eventb.core.predicate="game_over∈BOOL"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="state=monster_turn"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="finite(open_gates)"/>
<org.eventb.core.prPred name="p81" org.eventb.core.predicate="state∈states"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="partition(locations,{Rivertown},{Easttown},{Downtown},{Merchant_District},{Shop},{Library},{Bank},{Station})"/>
<org.eventb.core.prPred name="p77" org.eventb.core.predicate="∀x⦂ℤ·¬(x∈monsters∧x ↦ monster_location∈monster_locations)"/>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="¬Rivertown=Easttown"/>
<org.eventb.core.prPred name="p70" org.eventb.core.predicate="¬Library=Bank"/>
<org.eventb.core.prPred name="p82" org.eventb.core.predicate="turn_end∈BOOL"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="¬(∃x⦂ℤ·x∈monsters∧x ↦ monster_location∈monster_locations)"/>
<org.eventb.core.prPred name="p62" org.eventb.core.predicate="¬Downtown=Station"/>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="¬Easttown=Station"/>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="building_to_district={Shop ↦ Merchant_District,Bank ↦ Downtown,Station ↦ Easttown,Library ↦ Rivertown}"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="open_gates⊆buildings"/>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="¬Rivertown=Station"/>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="¬won=lost"/>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="¬Rivertown=Bank"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="monster∈monster_pool"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="closed_to_win=2"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="next_state∈states → states"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="monster_location∈open_gates"/>
<org.eventb.core.prPred name="p78" org.eventb.core.predicate="∀x⦂ℤ·¬x∈monsters∨¬x ↦ monster_location∈monster_locations"/>
<org.eventb.core.prPred name="p72" org.eventb.core.predicate="¬Bank=Station"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="monster∉monsters"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="states ∖ over=playing"/>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="¬Downtown=Library"/>
<org.eventb.core.prPred name="p67" org.eventb.core.predicate="¬Shop=Library"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="playing={player_turn,monster_turn}"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="closed_gates⊆buildings"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="¬player_turn=monster_turn"/>
<org.eventb.core.prPred name="p63" org.eventb.core.predicate="¬Merchant_District=Shop"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="buildings={Shop,Library,Bank,Station}"/>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="¬monster_turn=won"/>
<org.eventb.core.prPred name="p88" org.eventb.core.predicate="dom(monster_locations)∪{monster}=dom(monster_locations∪{monster ↦ monster_location})"/>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="¬player_turn=lost"/>
<org.eventb.core.prPred name="p73" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨(finite(locations)∧finite(districts))"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="monster_locations∈monsters → locations"/>
<org.eventb.core.prPred name="p69" org.eventb.core.predicate="¬Shop=Station"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="finite(locations)"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="∀x⦂states·x∈over⇒next_state(x)∈over"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="turn_end=FALSE"/>
<org.eventb.core.prPred name="p87" org.eventb.core.predicate="∀x⦂ℤ·¬x∈dom(monster_locations)∨¬x ↦ monster_location∈monster_locations"/>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="¬Easttown=Library"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="finite(buildings)"/>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="¬Downtown=Merchant_District"/>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="¬Rivertown=Library"/>
<org.eventb.core.prPred name="p68" org.eventb.core.predicate="¬Shop=Bank"/>
<org.eventb.core.prPred name="p75" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨(⊤∧finite(districts))"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="finite(closed_gates)"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="finite(locations × districts)"/>
<org.eventb.core.prPred name="p86" org.eventb.core.predicate="¬monster∈dom(monster_locations)"/>
<org.eventb.core.prPred name="p71" org.eventb.core.predicate="¬Library=Station"/>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="¬Easttown=Shop"/>
<org.eventb.core.prPred name="p83" org.eventb.core.predicate="acted∈BOOL">
<org.eventb.core.prIdent name="acted" org.eventb.core.type="BOOL"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="over={won,lost}"/>
<org.eventb.core.prPred name="p84" org.eventb.core.predicate="⊥∨districts=(∅ ⦂ ℙ(locations))∨finite(districts)"/>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="¬monster_turn=lost"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="open_to_lose=3"/>
<org.eventb.core.prPred name="p74" org.eventb.core.predicate="¬monster∈monsters"/>
<org.eventb.core.prPred name="p64" org.eventb.core.predicate="¬Merchant_District=Library"/>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="¬Rivertown=Merchant_District"/>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="¬Rivertown=Downtown"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="states ∖ playing=over"/>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="district_to_district={Rivertown ↦ Easttown,Easttown ↦ Downtown,Downtown ↦ Merchant_District,Merchant_District ↦ Rivertown}"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.rn"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL2"/>
<org.eventb.core.prReas name="r6" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="next_turn/not_lost/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p0" org.eventb.core.prSets="locations">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="hyp" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p0"/>
<org.eventb.core.prIdent name="open_gates" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="finite(open_gates)"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.hyp"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="next_turn/not_won/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p0" org.eventb.core.prSets="locations">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="hyp" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p0"/>
<org.eventb.core.prIdent name="closed_gates" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="finite(closed_gates)"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.hyp"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="add_monster/correct_number/WD" org.eventb.core.confidence="0" org.eventb.core.prFresh="m,x" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p34" org.eventb.core.prSets="locations,states">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(locations,{Rivertown},{Easttown},{Downtown},{Merchant_District},{Shop},{Library},{Bank},{Station}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p27" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p35,p36,p37,p38,p39,p40,p41,p42,p43,p44,p45,p46,p47,p48,p49,p50,p51,p52,p53,p54,p55,p56,p57,p58,p59,p60,p61,p62,p63"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p35,p36,p37,p38,p39,p40,p41,p42,p43,p44,p45,p46,p47,p48,p49,p50,p51,p52,p53,p54,p55,p56,p57,p58,p59,p60,p61,p62,p63"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(states,{player_turn},{monster_turn},{won},{lost}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p64,p65,p66,p67,p68,p69,p70"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p64,p65,p66,p67,p68,p69,p70"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p74">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p26" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p71"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p22" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p72,p73"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p71" org.eventb.core.prHyps="p17" org.eventb.core.prInfHyps="p75"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p75" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p76"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="remove ¬ in goal" org.eventb.core.prGoal="p74" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p77">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p78"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p79"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p80"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p81"/>
<org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p82"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p76" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p83"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p83" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p84"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p85">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p78"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p79"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p80"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p81"/>
<org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p82"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p76" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p83"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p83" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p84"/>
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees x)" org.eventb.core.prGoal="p85" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p86">
<org.eventb.core.prIdent name="x" org.eventb.core.type="locations"/>
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p86" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p88" org.eventb.core.prHyps="p87">
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p88" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p89">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees m)" org.eventb.core.prGoal="p89" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p90">
<org.eventb.core.prIdent name="m" org.eventb.core.type="ℤ"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p91">
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p91" org.eventb.core.prHyps="p15"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name=")" org.eventb.core.prGoal="p92">
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p78"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p79"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p80"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p81"/>
<org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p82"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p76" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p83"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p83" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p84"/>
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p92" org.eventb.core.prHyps="p11,p12,p29,p32,p5,p34,p21,p20,p7,p17,p6,p28,p2,p18,p14,p3,p31,p1,p30,p25,p8,p23,p16,p9,p15,p10,p24,p33,p13,p19,p35,p36,p37,p38,p39,p40,p41,p42,p43,p44,p45,p46,p47,p48,p49,p50,p51,p52,p53,p54,p55,p56,p57,p58,p59,p60,p61,p62,p63,p64,p65,p66,p67,p68,p69,p70,p72,p73,p84">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="2.0.1.1"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="building_to_district" org.eventb.core.type="ℙ(locations×locations)"/>
<org.eventb.core.prIdent name="buildings" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="closed_gates" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="closed_to_win" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="connected" org.eventb.core.type="ℙ(locations×locations)"/>
<org.eventb.core.prIdent name="district_to_district" org.eventb.core.type="ℙ(locations×locations)"/>
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="game_over" org.eventb.core.type="BOOL"/>
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster_locations" org.eventb.core.type="ℙ(ℤ×locations)"/>
<org.eventb.core.prIdent name="monster_pool" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monsters" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="new_monsters" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="next_state" org.eventb.core.type="ℙ(states×states)"/>
<org.eventb.core.prIdent name="open_gates" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="open_to_lose" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="over" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="playing" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="state" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="turn_end" org.eventb.core.type="BOOL"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="¬Downtown=Shop"/>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="¬Easttown=Merchant_District"/>
<org.eventb.core.prPred name="p64" org.eventb.core.predicate="states={player_turn,monster_turn,won,lost}"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="next_state={player_turn ↦ monster_turn,monster_turn ↦ player_turn,lost ↦ lost,won ↦ won}"/>
<org.eventb.core.prPred name="p72" org.eventb.core.predicate="monsters⊆monster_pool"/>
<org.eventb.core.prPred name="p86" org.eventb.core.predicate="x∈open_gates⇒(∀m⦂ℤ·m∈dom(monster_locations))∧monster_locations∈ℤ ⇸ locations">
<org.eventb.core.prIdent name="x" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="partition(states,{player_turn},{monster_turn},{won},{lost})"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="connected=building_to_district∪building_to_district∼∪district_to_district∪district_to_district∼"/>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="¬Rivertown=Shop"/>
<org.eventb.core.prPred name="p74" org.eventb.core.predicate="finite(new_monsters)∧(∀x⦂locations·x∈open_gates⇒(∀m⦂ℤ·m∈dom(monster_locations))∧monster_locations∈ℤ ⇸ locations)∧finite({x⦂locations·x∈open_gates∧¬(∃m⦂ℤ·monster_locations(m)=x) ∣ x})"/>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="locations={Rivertown,Easttown,Downtown,Merchant_District,Shop,Library,Bank,Station}"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="locations=districts∪buildings"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="game_over=TRUE⇔state∈over"/>
<org.eventb.core.prPred name="p66" org.eventb.core.predicate="¬player_turn=won"/>
<org.eventb.core.prPred name="p79" org.eventb.core.predicate="location∈locations">
<org.eventb.core.prIdent name="location" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="monsters=dom(monster_locations)"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="districts={Rivertown,Easttown,Downtown,Merchant_District}"/>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="¬Easttown=Bank"/>
<org.eventb.core.prPred name="p84" org.eventb.core.predicate="districts=(∅ ⦂ ℙ(locations))∨finite(districts)"/>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="¬Easttown=Downtown"/>
<org.eventb.core.prPred name="p76" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨finite(districts)"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="∀x⦂states·x∈playing⇒next_state(x)∈playing"/>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="¬Merchant_District=Station"/>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="¬Merchant_District=Bank"/>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="¬Downtown=Bank"/>
<org.eventb.core.prPred name="p78" org.eventb.core.predicate="game_over∈BOOL"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="state=monster_turn"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="finite(open_gates)"/>
<org.eventb.core.prPred name="p80" org.eventb.core.predicate="state∈states"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="partition(locations,{Rivertown},{Easttown},{Downtown},{Merchant_District},{Shop},{Library},{Bank},{Station})"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="¬Rivertown=Easttown"/>
<org.eventb.core.prPred name="p61" org.eventb.core.predicate="¬Library=Bank"/>
<org.eventb.core.prPred name="p81" org.eventb.core.predicate="turn_end∈BOOL"/>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="¬Downtown=Station"/>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="¬Easttown=Station"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="building_to_district={Shop ↦ Merchant_District,Bank ↦ Downtown,Station ↦ Easttown,Library ↦ Rivertown}"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="open_gates⊆buildings"/>
<org.eventb.core.prPred name="p70" org.eventb.core.predicate="¬won=lost"/>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="¬Rivertown=Station"/>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="¬Rivertown=Bank"/>
<org.eventb.core.prPred name="p90" org.eventb.core.predicate="m∈dom(monster_locations)">
<org.eventb.core.prIdent name="m" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="closed_to_win=2"/>
<org.eventb.core.prPred name="p63" org.eventb.core.predicate="¬Bank=Station"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="monster_pool=ℕ"/>
<org.eventb.core.prPred name="p88" org.eventb.core.predicate="(∀m⦂ℤ·m∈dom(monster_locations))∧monster_locations∈ℤ ⇸ locations"/>
<org.eventb.core.prPred name="p91" org.eventb.core.predicate="monster_locations∈ℤ ⇸ locations"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="states ∖ over=playing"/>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="¬Downtown=Library"/>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="¬Shop=Library"/>
<org.eventb.core.prPred name="p92" org.eventb.core.predicate="finite({x⦂locations·x∈open_gates∧(∀m⦂ℤ·¬monster_locations(m)=x) ∣ x})"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="playing={player_turn,monster_turn}"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="closed_gates⊆buildings"/>
<org.eventb.core.prPred name="p65" org.eventb.core.predicate="¬player_turn=monster_turn"/>
<org.eventb.core.prPred name="p68" org.eventb.core.predicate="¬monster_turn=won"/>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="¬Merchant_District=Shop"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="buildings={Shop,Library,Bank,Station}"/>
<org.eventb.core.prPred name="p73" org.eventb.core.predicate="finite(monsters)"/>
<org.eventb.core.prPred name="p67" org.eventb.core.predicate="¬player_turn=lost"/>
<org.eventb.core.prPred name="p71" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨(finite(locations)∧finite(districts))"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="new_monsters∩monsters=(∅ ⦂ ℙ(ℤ))"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="open_gates∩closed_gates=(∅ ⦂ ℙ(locations))"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="monster_locations∈monsters → locations"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="finite(new_monsters)∧(∀x⦂locations·x∈open_gates⇒(∀m⦂ℤ·m∈dom(monster_locations)∧monster_locations∈ℤ ⇸ locations))∧finite({x⦂locations·x∈open_gates∧¬(∃m⦂ℤ·monster_locations(m)=x) ∣ x})"/>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="¬Shop=Station"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="∀x⦂states·x∈over⇒next_state(x)∈over"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="finite(locations)"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="turn_end=FALSE"/>
<org.eventb.core.prPred name="p89" org.eventb.core.predicate="∀m⦂ℤ·m∈dom(monster_locations)"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="open_to_lose=4"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="finite(buildings)"/>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="¬Easttown=Library"/>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="¬Downtown=Merchant_District"/>
<org.eventb.core.prPred name="p85" org.eventb.core.predicate="∀x⦂locations·x∈open_gates⇒(∀m⦂ℤ·m∈dom(monster_locations))∧monster_locations∈ℤ ⇸ locations"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="monsters⊆monster_pool∧finite(monsters)"/>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="¬Rivertown=Library"/>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="¬Shop=Bank"/>
<org.eventb.core.prPred name="p75" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨(⊤∧finite(districts))"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="finite(closed_gates)"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="finite(locations × districts)"/>
<org.eventb.core.prPred name="p62" org.eventb.core.predicate="¬Library=Station"/>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="¬Easttown=Shop"/>
<org.eventb.core.prPred name="p82" org.eventb.core.predicate="acted∈BOOL">
<org.eventb.core.prIdent name="acted" org.eventb.core.type="BOOL"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="over={won,lost}"/>
<org.eventb.core.prPred name="p83" org.eventb.core.predicate="⊥∨districts=(∅ ⦂ ℙ(locations))∨finite(districts)"/>
<org.eventb.core.prPred name="p69" org.eventb.core.predicate="¬monster_turn=lost"/>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="¬Merchant_District=Library"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="¬Rivertown=Merchant_District"/>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="¬Rivertown=Downtown"/>
<org.eventb.core.prPred name="p87" org.eventb.core.predicate="x∈open_gates">
<org.eventb.core.prIdent name="x" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p77" org.eventb.core.predicate="finite(new_monsters)"/>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="states ∖ playing=over"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="district_to_district={Rivertown ↦ Easttown,Easttown ↦ Downtown,Downtown ↦ Merchant_District,Merchant_District ↦ Rivertown}"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="new_monsters⊆monster_pool"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r9" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL2"/>
<org.eventb.core.prReas name="r7" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.rn"/>
<org.eventb.core.prReas name="r8" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
<org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="attack/monsters/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="x" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1" org.eventb.core.prSets="locations">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(states,{player_turn},{monster_turn},{won},{lost}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p3,p4,p5,p6,p7,p8,p9"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p3,p4,p5,p6,p7,p8,p9"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(locations,{Rivertown},{Easttown},{Downtown},{Merchant_District},{Shop},{Library},{Bank},{Station}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p34,p35,p36,p37,p38,p39"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p34,p35,p36,p37,p38,p39"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p40" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p41"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p41" org.eventb.core.prHyps="p43" org.eventb.core.prInfHyps="p42"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p42" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p44"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p45"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p46"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p47"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p48"/>
<org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p49"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p44" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p50"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p50" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p51"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees x)" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p52">
<org.eventb.core.prIdent name="x" org.eventb.core.type="ℤ"/>
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p52" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p54" org.eventb.core.prHyps="p53">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p54" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p55">
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="total function dom substitution in goal" org.eventb.core.prGoal="p55" org.eventb.core.prHyps="p1">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p53">
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="hyp" org.eventb.core.prGoal="p53" org.eventb.core.prHyps="p53"/>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="1"/>
<org.eventb.core.prExprRef name=".subst" org.eventb.core.prRef="e0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p56">
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p56" org.eventb.core.prHyps="p1"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="monster_locations" org.eventb.core.type="ℙ(ℤ×locations)"/>
<org.eventb.core.prIdent name="monsters" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="¬Easttown=Merchant_District">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="¬Downtown=Shop">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="states={player_turn,monster_turn,won,lost}">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="partition(states,{player_turn},{monster_turn},{won},{lost})">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="¬Rivertown=Shop">
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="locations={Rivertown,Easttown,Downtown,Merchant_District,Shop,Library,Bank,Station}">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬player_turn=won">
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="x∈monsters⇒x∈dom(monster_locations)∧monster_locations∈ℤ ⇸ locations">
<org.eventb.core.prIdent name="x" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="location∈locations">
<org.eventb.core.prIdent name="location" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="¬Easttown=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="districts=(∅ ⦂ ℙ(locations))∨finite(districts)">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="¬Easttown=Downtown">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨finite(districts)">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="x∈dom(monster_locations)">
<org.eventb.core.prIdent name="x" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="¬Merchant_District=Station">
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="¬Merchant_District=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="x∈monsters">
<org.eventb.core.prIdent name="x" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="¬Downtown=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="game_over∈BOOL">
<org.eventb.core.prIdent name="game_over" org.eventb.core.type="BOOL"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="partition(locations,{Rivertown},{Easttown},{Downtown},{Merchant_District},{Shop},{Library},{Bank},{Station})">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="state∈states">
<org.eventb.core.prIdent name="state" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="¬Rivertown=Easttown">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="¬Library=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="turn_end∈BOOL">
<org.eventb.core.prIdent name="turn_end" org.eventb.core.type="BOOL"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="¬Downtown=Station">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="¬Easttown=Station">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="¬Rivertown=Station">
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="¬won=lost">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="¬Rivertown=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="¬Bank=Station">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="monster_locations∈ℤ ⇸ locations"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="¬Downtown=Library">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="x∈dom(monster_locations)∧monster_locations∈ℤ ⇸ locations">
<org.eventb.core.prIdent name="x" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="¬Shop=Library">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬player_turn=monster_turn">
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬monster_turn=won">
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="¬Merchant_District=Shop">
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬player_turn=lost">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨(finite(locations)∧finite(districts))">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="monster_locations∈monsters → locations"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="¬Shop=Station">
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="finite(locations)"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="¬Easttown=Library">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="¬Downtown=Merchant_District">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="¬Rivertown=Library">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="¬Shop=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨(⊤∧finite(districts))">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀x⦂ℤ·x∈monsters⇒x∈dom(monster_locations)∧monster_locations∈ℤ ⇸ locations"/>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="finite(locations × districts)">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="¬Library=Station">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="¬Easttown=Shop">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="acted∈BOOL">
<org.eventb.core.prIdent name="acted" org.eventb.core.type="BOOL"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="⊥∨districts=(∅ ⦂ ℙ(locations))∨finite(districts)">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬monster_turn=lost">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="¬Merchant_District=Library">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="¬Rivertown=Merchant_District">
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="¬Rivertown=Downtown">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prExpr name="e0" org.eventb.core.expression="monsters"/>
<org.eventb.core.prReas name="r9" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
<org.eventb.core.prReas name="r7" org.eventb.core.prRID="org.eventb.core.seqprover.totalDom:2"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r8" org.eventb.core.prRID="org.eventb.core.seqprover.hyp"/>
<org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL2"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="attack/monsters_type/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7" org.eventb.core.prSets="locations,states">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(states,{player_turn},{monster_turn},{won},{lost}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p3" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p8,p9,p10,p11,p12,p13,p14"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p8,p9,p10,p11,p12,p13,p14"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(locations,{Rivertown},{Easttown},{Downtown},{Merchant_District},{Shop},{Library},{Bank},{Station}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p34,p35,p36,p37,p38,p39,p40,p41,p42,p43"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p34,p35,p36,p37,p38,p39,p40,p41,p42,p43"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p44" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p45"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p45" org.eventb.core.prHyps="p47" org.eventb.core.prInfHyps="p46"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p46" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p48"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p49"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p50"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p51"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p52"/>
<org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p53"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p48" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p54"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p54" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p55"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="PP" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p2,p1,p7,p5,p4,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p34,p35,p36,p37,p38,p39,p40,p41,p42,p43">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="R500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="acted" org.eventb.core.type="BOOL"/>
<org.eventb.core.prIdent name="location" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster_locations" org.eventb.core.type="ℙ(ℤ×locations)"/>
<org.eventb.core.prIdent name="monster_pool" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monsters" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="state" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="turn_end" org.eventb.core.type="BOOL"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="¬Easttown=Merchant_District"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="¬Downtown=Shop"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="states={player_turn,monster_turn,won,lost}"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="monsters⊆monster_pool"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="partition(states,{player_turn},{monster_turn},{won},{lost})"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="¬Rivertown=Shop"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="locations={Rivertown,Easttown,Downtown,Merchant_District,Shop,Library,Bank,Station}"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="¬player_turn=won"/>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="location∈locations"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="¬Easttown=Bank"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="state=player_turn"/>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="districts=(∅ ⦂ ℙ(locations))∨finite(districts)">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="¬Easttown=Downtown"/>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨finite(districts)">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="¬Merchant_District=Station"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="¬Merchant_District=Bank"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="¬Downtown=Bank"/>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="game_over∈BOOL">
<org.eventb.core.prIdent name="game_over" org.eventb.core.type="BOOL"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="state∈states"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="partition(locations,{Rivertown},{Easttown},{Downtown},{Merchant_District},{Shop},{Library},{Bank},{Station})"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="¬Rivertown=Easttown"/>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="¬Library=Bank"/>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="turn_end∈BOOL"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="¬Downtown=Station"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="¬Easttown=Station"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="¬Rivertown=Station"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="¬won=lost"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="¬Rivertown=Bank"/>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="¬Bank=Station"/>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="¬Downtown=Library"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="¬Shop=Library"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="¬player_turn=monster_turn"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="¬monster_turn=won"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="¬Merchant_District=Shop"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="¬player_turn=lost"/>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨(finite(locations)∧finite(districts))">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="¬Shop=Station"/>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="finite(locations)"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="turn_end=FALSE"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="¬Easttown=Library"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="¬Downtown=Merchant_District"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="¬Rivertown=Library"/>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="¬Shop=Bank"/>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨(⊤∧finite(districts))">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="monsters ∖ {x⦂ℤ·x∈monsters∧monster_locations(x)=location ∣ x}⊆monster_pool"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="∃x⦂ℤ·x∈monsters∧monster_locations(x)=location"/>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="finite(locations × districts)">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="acted=FALSE"/>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="¬Library=Station"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="¬Easttown=Shop"/>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="acted∈BOOL"/>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="⊥∨districts=(∅ ⦂ ℙ(locations))∨finite(districts)">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="¬monster_turn=lost"/>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="¬Merchant_District=Library"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="¬Rivertown=Merchant_District"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="¬Rivertown=Downtown"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalPP:1"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL2"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="attack/monster_locations_type/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7,p8,p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p34,p35" org.eventb.core.prSets="locations,states">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(states,{player_turn},{monster_turn},{won},{lost}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p6" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p36,p37,p38,p39,p40,p41,p42"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p36,p37,p38,p39,p40,p41,p42"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(locations,{Rivertown},{Easttown},{Downtown},{Merchant_District},{Shop},{Library},{Bank},{Station}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p27" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p43,p44,p45,p46,p47,p48,p49,p50,p51,p52,p53,p54,p55,p56,p57,p58,p59,p60,p61,p62,p63,p64,p65,p66,p67,p68,p69,p70,p71"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p43,p44,p45,p46,p47,p48,p49,p50,p51,p52,p53,p54,p55,p56,p57,p58,p59,p60,p61,p62,p63,p64,p65,p66,p67,p68,p69,p70,p71"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p26" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p72"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p72" org.eventb.core.prHyps="p19" org.eventb.core.prInfHyps="p73"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p73" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p74"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p75"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p76"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p77"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p78"/>
<org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p79"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p74" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p80"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p80" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p81"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="ML" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p30,p35,p8,p29,p2,p18,p17,p1,p3,p33,p13,p15,p31,p34,p7,p21,p9,p19,p4,p32,p24,p10,p22,p11,p5,p16,p12,p14,p28,p20,p25,p23,p36,p37,p38,p39,p40,p41,p42,p43,p44,p45,p46,p47,p48,p49,p50,p51,p52,p53,p54,p55,p56,p57,p58,p59,p60,p61,p62,p63,p64,p65,p66,p67,p68,p69,p70,p71,p81">
<org.eventb.core.prString name=".arg" org.eventb.core.prSValue="0;1:500"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="acted" org.eventb.core.type="BOOL"/>
<org.eventb.core.prIdent name="building_to_district" org.eventb.core.type="ℙ(locations×locations)"/>
<org.eventb.core.prIdent name="buildings" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="closed_gates" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="closed_to_win" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="connected" org.eventb.core.type="ℙ(locations×locations)"/>
<org.eventb.core.prIdent name="district_to_district" org.eventb.core.type="ℙ(locations×locations)"/>
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="game_over" org.eventb.core.type="BOOL"/>
<org.eventb.core.prIdent name="location" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster_locations" org.eventb.core.type="ℙ(ℤ×locations)"/>
<org.eventb.core.prIdent name="monster_pool" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monsters" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="next_state" org.eventb.core.type="ℙ(states×states)"/>
<org.eventb.core.prIdent name="open_gates" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="open_to_lose" org.eventb.core.type="ℤ"/>
<org.eventb.core.prIdent name="over" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="playing" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="state" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="turn_end" org.eventb.core.type="BOOL"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="¬Downtown=Shop"/>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="¬Easttown=Merchant_District"/>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="states={player_turn,monster_turn,won,lost}"/>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="next_state={player_turn ↦ monster_turn,monster_turn ↦ player_turn,lost ↦ lost,won ↦ won}"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="monster_pool={1}"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="monsters⊆monster_pool"/>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="partition(states,{player_turn},{monster_turn},{won},{lost})"/>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="connected=building_to_district∪building_to_district∼∪district_to_district∪district_to_district∼"/>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="¬Rivertown=Shop"/>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="locations={Rivertown,Easttown,Downtown,Merchant_District,Shop,Library,Bank,Station}"/>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="locations=districts∪buildings"/>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="game_over=TRUE⇔state∈over"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="¬player_turn=won"/>
<org.eventb.core.prPred name="p76" org.eventb.core.predicate="location∈locations"/>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="monsters=dom(monster_locations)"/>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="¬Easttown=Bank"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="districts={Rivertown,Easttown,Downtown,Merchant_District}"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="state=player_turn"/>
<org.eventb.core.prPred name="p81" org.eventb.core.predicate="districts=(∅ ⦂ ℙ(locations))∨finite(districts)"/>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="¬Easttown=Downtown"/>
<org.eventb.core.prPred name="p74" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨finite(districts)"/>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="∀x⦂states·x∈playing⇒next_state(x)∈playing"/>
<org.eventb.core.prPred name="p65" org.eventb.core.predicate="¬Merchant_District=Station"/>
<org.eventb.core.prPred name="p64" org.eventb.core.predicate="¬Merchant_District=Bank"/>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="¬Downtown=Bank"/>
<org.eventb.core.prPred name="p75" org.eventb.core.predicate="game_over∈BOOL"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="finite(open_gates)"/>
<org.eventb.core.prPred name="p77" org.eventb.core.predicate="state∈states"/>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="partition(locations,{Rivertown},{Easttown},{Downtown},{Merchant_District},{Shop},{Library},{Bank},{Station})"/>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="¬Rivertown=Easttown"/>
<org.eventb.core.prPred name="p69" org.eventb.core.predicate="¬Library=Bank"/>
<org.eventb.core.prPred name="p78" org.eventb.core.predicate="turn_end∈BOOL"/>
<org.eventb.core.prPred name="p61" org.eventb.core.predicate="¬Downtown=Station"/>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="¬Easttown=Station"/>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="building_to_district={Shop ↦ Merchant_District,Bank ↦ Downtown,Station ↦ Easttown,Library ↦ Rivertown}"/>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="open_gates⊆buildings"/>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="¬Rivertown=Station"/>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="¬won=lost"/>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="¬Rivertown=Bank"/>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="closed_to_win=2"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="next_state∈states → states"/>
<org.eventb.core.prPred name="p71" org.eventb.core.predicate="¬Bank=Station"/>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="states ∖ over=playing"/>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="¬Downtown=Library"/>
<org.eventb.core.prPred name="p66" org.eventb.core.predicate="¬Shop=Library"/>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="playing={player_turn,monster_turn}"/>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="closed_gates⊆buildings"/>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="¬player_turn=monster_turn"/>
<org.eventb.core.prPred name="p62" org.eventb.core.predicate="¬Merchant_District=Shop"/>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="buildings={Shop,Library,Bank,Station}"/>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="¬monster_turn=won"/>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="¬player_turn=lost"/>
<org.eventb.core.prPred name="p72" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨(finite(locations)∧finite(districts))"/>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="monster_locations∈monsters → locations"/>
<org.eventb.core.prPred name="p68" org.eventb.core.predicate="¬Shop=Station"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="finite(locations)"/>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="∀x⦂states·x∈over⇒next_state(x)∈over"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="turn_end=FALSE"/>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="¬Easttown=Library"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="finite(buildings)"/>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="¬Downtown=Merchant_District"/>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="¬Rivertown=Library"/>
<org.eventb.core.prPred name="p67" org.eventb.core.predicate="¬Shop=Bank"/>
<org.eventb.core.prPred name="p73" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨(⊤∧finite(districts))"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="finite(closed_gates)"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="∀x⦂ℤ·x∈monsters⇒x∈dom(monster_locations)∧monster_locations∈ℤ ⇸ locations"/>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="∃x⦂ℤ·x∈monsters∧monster_locations(x)=location"/>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="finite(locations × districts)"/>
<org.eventb.core.prPred name="p70" org.eventb.core.predicate="¬Library=Station"/>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="acted=FALSE"/>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="¬Easttown=Shop"/>
<org.eventb.core.prPred name="p79" org.eventb.core.predicate="acted∈BOOL"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="over={won,lost}"/>
<org.eventb.core.prPred name="p80" org.eventb.core.predicate="⊥∨districts=(∅ ⦂ ℙ(locations))∨finite(districts)"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="{x⦂ℤ·x∈monsters∧monster_locations(x)=location ∣ x} ⩤ monster_locations∈monsters ∖ {x⦂ℤ·x∈monsters∧monster_locations(x)=location ∣ x} → locations"/>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="¬monster_turn=lost"/>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="open_to_lose=3"/>
<org.eventb.core.prPred name="p63" org.eventb.core.predicate="¬Merchant_District=Library"/>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="¬Rivertown=Merchant_District"/>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="¬Rivertown=Downtown"/>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="states ∖ playing=over"/>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="district_to_district={Rivertown ↦ Easttown,Easttown ↦ Downtown,Downtown ↦ Merchant_District,Merchant_District ↦ Rivertown}"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL2"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="com.clearsy.atelierb.provers.core.externalML:1"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="attack/monster_domain/INV" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1" org.eventb.core.prSets="locations">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(states,{player_turn},{monster_turn},{won},{lost}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p3,p4,p5,p6,p7,p8,p9"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p3,p4,p5,p6,p7,p8,p9"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(locations,{Rivertown},{Easttown},{Downtown},{Merchant_District},{Shop},{Library},{Bank},{Station}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p34,p35,p36,p37,p38,p39"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p34,p35,p36,p37,p38,p39"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p42">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p40" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p41"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p41" org.eventb.core.prHyps="p44" org.eventb.core.prInfHyps="p43"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p43" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p45"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p46"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p47"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p48"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p49"/>
<org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p50"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p45" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p51"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p51" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p52"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="eh with monsters=dom(monster_locations)" org.eventb.core.prGoal="p42" org.eventb.core.prHyps="p1">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p55">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p53" org.eventb.core.prInfHyps="p54"/>
<org.eventb.core.prHypAction name="DESELECT1" org.eventb.core.prHyps="p53"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p55" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p56">
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⊤ goal" org.eventb.core.prGoal="p56" org.eventb.core.prHyps=""/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="location" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="monster_locations" org.eventb.core.type="ℙ(ℤ×locations)"/>
<org.eventb.core.prIdent name="monsters" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="¬Easttown=Merchant_District">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="¬Downtown=Shop">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="states={player_turn,monster_turn,won,lost}">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="partition(states,{player_turn},{monster_turn},{won},{lost})">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="¬Rivertown=Shop">
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="locations={Rivertown,Easttown,Downtown,Merchant_District,Shop,Library,Bank,Station}">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="dom(monster_locations) ∖ {x⦂ℤ·x∈dom(monster_locations)∧monster_locations(x)=location ∣ x}=dom(monster_locations) ∖ {x⦂ℤ·x∈dom(monster_locations)∧monster_locations(x)=location ∣ x}"/>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬player_turn=won">
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="monsters=dom(monster_locations)"/>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="location∈locations"/>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="¬Easttown=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="districts=(∅ ⦂ ℙ(locations))∨finite(districts)">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="¬Easttown=Downtown">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨finite(districts)">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="¬Merchant_District=Station">
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="¬Merchant_District=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="¬Downtown=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="game_over∈BOOL">
<org.eventb.core.prIdent name="game_over" org.eventb.core.type="BOOL"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="state∈states">
<org.eventb.core.prIdent name="state" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="partition(locations,{Rivertown},{Easttown},{Downtown},{Merchant_District},{Shop},{Library},{Bank},{Station})">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="¬Rivertown=Easttown">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="¬Library=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="turn_end∈BOOL">
<org.eventb.core.prIdent name="turn_end" org.eventb.core.type="BOOL"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="¬Downtown=Station">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="¬Easttown=Station">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="¬Rivertown=Station">
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="¬won=lost">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="¬Rivertown=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="⊤"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="monsters ∖ {x⦂ℤ·x∈monsters∧monster_locations(x)=location ∣ x}=dom({x⦂ℤ·x∈monsters∧monster_locations(x)=location ∣ x} ⩤ monster_locations)"/>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="¬Bank=Station">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="¬Downtown=Library">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="¬Shop=Library">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="monsters ∖ {x⦂ℤ·x∈monsters∧monster_locations(x)=location ∣ x}=dom(monster_locations) ∖ {x⦂ℤ·x∈monsters∧monster_locations(x)=location ∣ x}"/>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬player_turn=monster_turn">
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬monster_turn=won">
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="¬Merchant_District=Shop">
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬player_turn=lost">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨(finite(locations)∧finite(districts))">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="¬Shop=Station">
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="finite(locations)"/>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="∃x⦂ℤ·x∈dom(monster_locations)∧monster_locations(x)=location"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="¬Easttown=Library">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="¬Downtown=Merchant_District">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="¬Rivertown=Library">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="¬Shop=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨(⊤∧finite(districts))">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="∃x⦂ℤ·x∈monsters∧monster_locations(x)=location"/>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="finite(locations × districts)">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="¬Library=Station">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="¬Easttown=Shop">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="acted∈BOOL">
<org.eventb.core.prIdent name="acted" org.eventb.core.type="BOOL"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="⊥∨districts=(∅ ⦂ ℙ(locations))∨finite(districts)">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬monster_turn=lost">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="¬Merchant_District=Library">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="¬Rivertown=Merchant_District">
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="¬Rivertown=Downtown">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.eq:1"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.trueGoal"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL2"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="attack/kill/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p0" org.eventb.core.prSets="locations">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="hyp" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p0"/>
<org.eventb.core.prIdent name="monster_locations" org.eventb.core.type="ℙ(ℤ×locations)"/>
<org.eventb.core.prIdent name="monsters" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀x⦂ℤ·x∈monsters⇒x∈dom(monster_locations)∧monster_locations∈ℤ ⇸ locations"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.hyp"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="attack/remove/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p0" org.eventb.core.prSets="locations">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="hyp" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p0"/>
<org.eventb.core.prIdent name="monster_locations" org.eventb.core.type="ℙ(ℤ×locations)"/>
<org.eventb.core.prIdent name="monsters" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀x⦂ℤ·x∈monsters⇒x∈dom(monster_locations)∧monster_locations∈ℤ ⇸ locations"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.hyp"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="monsters_move/connected_move/WD" org.eventb.core.confidence="1000" org.eventb.core.prFresh="x" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1,p2,p3" org.eventb.core.prSets="locations">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(states,{player_turn},{monster_turn},{won},{lost}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p4" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p5,p6,p7,p8,p9,p10,p11"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p5,p6,p7,p8,p9,p10,p11"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(locations,{Rivertown},{Easttown},{Downtown},{Merchant_District},{Shop},{Library},{Bank},{Station}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p12" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p34,p35,p36,p37,p38,p39,p40,p41"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p34,p35,p36,p37,p38,p39,p40,p41"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p42" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p43"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p43" org.eventb.core.prHyps="p45" org.eventb.core.prInfHyps="p44"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p44" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p46"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p47"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p48"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p49"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p50"/>
<org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p51"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p46" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p52"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p52" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p53"/>
<org.eventb.core.prRule name="r4" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∀ goal (frees x)" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p54">
<org.eventb.core.prIdent name="x" org.eventb.core.type="ℤ"/>
<org.eventb.core.prRule name="r5" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="⇒ goal" org.eventb.core.prGoal="p54" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p56" org.eventb.core.prHyps="p55">
<org.eventb.core.prRule name="r6" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="∧ goal" org.eventb.core.prGoal="p56" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p57">
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="he with dom(new_monster_locations)=monsters" org.eventb.core.prHyps="p1">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p2" org.eventb.core.prInfHyps="p58"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p55" org.eventb.core.prInfHyps="p59"/>
<org.eventb.core.prHypAction name="DESELECT2" org.eventb.core.prHyps="p2,p55"/>
<org.eventb.core.prRule name="r8" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="total function dom substitution in goal" org.eventb.core.prGoal="p57" org.eventb.core.prHyps="p3">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p55">
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="hyp" org.eventb.core.prGoal="p55" org.eventb.core.prHyps="p55"/>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue="1"/>
<org.eventb.core.prExprRef name=".subst" org.eventb.core.prRef="e0"/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="(" org.eventb.core.prGoal="p60">
<org.eventb.core.prRule name="r10" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p60" org.eventb.core.prHyps="p3"/>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name=")" org.eventb.core.prGoal="p59">
<org.eventb.core.prRule name="r7" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="he with dom(new_monster_locations)=monsters" org.eventb.core.prHyps="p1">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="FORWARD_INF0" org.eventb.core.prHyps="p2" org.eventb.core.prInfHyps="p58"/>
<org.eventb.core.prHypAction name="FORWARD_INF1" org.eventb.core.prHyps="p55" org.eventb.core.prInfHyps="p59"/>
<org.eventb.core.prHypAction name="DESELECT2" org.eventb.core.prHyps="p2,p55"/>
<org.eventb.core.prRule name="r9" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="hyp" org.eventb.core.prGoal="p59" org.eventb.core.prHyps="p59"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prAnte name="*" org.eventb.core.prGoal="p61">
<org.eventb.core.prRule name="r10" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="functional goal" org.eventb.core.prGoal="p61" org.eventb.core.prHyps="p2"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="monster_locations" org.eventb.core.type="ℙ(ℤ×locations)"/>
<org.eventb.core.prIdent name="monsters" org.eventb.core.type="ℙ(ℤ)"/>
<org.eventb.core.prIdent name="new_monster_locations" org.eventb.core.type="ℙ(ℤ×locations)"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="¬Easttown=Merchant_District">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="¬Downtown=Shop">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="states={player_turn,monster_turn,won,lost}">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="partition(states,{player_turn},{monster_turn},{won},{lost})">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="¬Rivertown=Shop">
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="locations={Rivertown,Easttown,Downtown,Merchant_District,Shop,Library,Bank,Station}">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬player_turn=won">
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p58" org.eventb.core.predicate="new_monster_locations∈dom(new_monster_locations) → locations"/>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="location∈locations">
<org.eventb.core.prIdent name="location" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="¬Easttown=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="∀x⦂ℤ·x∈monsters⇒x∈dom(monster_locations)∧monster_locations∈ℤ ⇸ locations∧x∈dom(new_monster_locations)∧new_monster_locations∈ℤ ⇸ locations"/>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="districts=(∅ ⦂ ℙ(locations))∨finite(districts)">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="¬Easttown=Downtown">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨finite(districts)">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p59" org.eventb.core.predicate="x∈dom(new_monster_locations)">
<org.eventb.core.prIdent name="x" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="dom(new_monster_locations)=monsters"/>
<org.eventb.core.prPred name="p57" org.eventb.core.predicate="x∈dom(monster_locations)">
<org.eventb.core.prIdent name="x" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="¬Merchant_District=Station">
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="¬Merchant_District=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p56" org.eventb.core.predicate="x∈dom(monster_locations)∧monster_locations∈ℤ ⇸ locations∧x∈dom(new_monster_locations)∧new_monster_locations∈ℤ ⇸ locations">
<org.eventb.core.prIdent name="x" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p55" org.eventb.core.predicate="x∈monsters">
<org.eventb.core.prIdent name="x" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="¬Downtown=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="game_over∈BOOL">
<org.eventb.core.prIdent name="game_over" org.eventb.core.type="BOOL"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="state∈states">
<org.eventb.core.prIdent name="state" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="partition(locations,{Rivertown},{Easttown},{Downtown},{Merchant_District},{Shop},{Library},{Bank},{Station})">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="¬Rivertown=Easttown">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="¬Library=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="turn_end∈BOOL">
<org.eventb.core.prIdent name="turn_end" org.eventb.core.type="BOOL"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="new_monster_locations∈monsters → locations"/>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="¬Downtown=Station">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="¬Easttown=Station">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="¬Rivertown=Station">
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="¬won=lost">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="¬Rivertown=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="¬Bank=Station">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p60" org.eventb.core.predicate="monster_locations∈ℤ ⇸ locations"/>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="¬Downtown=Library">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="¬Shop=Library">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p61" org.eventb.core.predicate="new_monster_locations∈ℤ ⇸ locations"/>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="x∈monsters⇒x∈dom(monster_locations)∧monster_locations∈ℤ ⇸ locations∧x∈dom(new_monster_locations)∧new_monster_locations∈ℤ ⇸ locations">
<org.eventb.core.prIdent name="x" org.eventb.core.type="ℤ"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬player_turn=monster_turn">
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="¬monster_turn=won">
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="¬Merchant_District=Shop">
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬player_turn=lost">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨(finite(locations)∧finite(districts))">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="monster_locations∈monsters → locations"/>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="¬Shop=Station">
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="finite(locations)"/>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="¬Easttown=Library">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="¬Downtown=Merchant_District">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="¬Rivertown=Library">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="¬Shop=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨(⊤∧finite(districts))">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="finite(locations × districts)">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="¬Library=Station">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="¬Easttown=Shop">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="acted∈BOOL">
<org.eventb.core.prIdent name="acted" org.eventb.core.type="BOOL"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="⊥∨districts=(∅ ⦂ ℙ(locations))∨finite(districts)">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="¬monster_turn=lost">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="¬Merchant_District=Library">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="¬Rivertown=Merchant_District">
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="¬Rivertown=Downtown">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prExpr name="e0" org.eventb.core.expression="monsters"/>
<org.eventb.core.prReas name="r10" org.eventb.core.prRID="org.eventb.core.seqprover.isFunGoal"/>
<org.eventb.core.prReas name="r8" org.eventb.core.prRID="org.eventb.core.seqprover.totalDom:2"/>
<org.eventb.core.prReas name="r5" org.eventb.core.prRID="org.eventb.core.seqprover.impI"/>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r7" org.eventb.core.prRID="org.eventb.core.seqprover.he:1"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r9" org.eventb.core.prRID="org.eventb.core.seqprover.hyp"/>
<org.eventb.core.prReas name="r6" org.eventb.core.prRID="org.eventb.core.seqprover.conj:0"/>
<org.eventb.core.prReas name="r4" org.eventb.core.prRID="org.eventb.core.seqprover.allI"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL2"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="open_gate/closed_gates/EQL" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prHyps="">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(states,{player_turn},{monster_turn},{won},{lost}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p0" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p1,p2,p3,p4,p5,p6,p7"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(locations,{Rivertown},{Easttown},{Downtown},{Merchant_District},{Shop},{Library},{Bank},{Station}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p34,p35,p36,p37"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p34,p35,p36,p37"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p38" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p39"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p40" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p41"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p39" org.eventb.core.prHyps="p43" org.eventb.core.prInfHyps="p42"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p42" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p44"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p45"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p46"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p47"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p48"/>
<org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p49"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p44" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p50"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p50" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p51"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="¬Easttown=Merchant_District">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="¬Downtown=Shop">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="states={player_turn,monster_turn,won,lost}">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="partition(states,{player_turn},{monster_turn},{won},{lost})">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="¬Rivertown=Shop">
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="locations={Rivertown,Easttown,Downtown,Merchant_District,Shop,Library,Bank,Station}">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="¬player_turn=won">
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="location∈locations">
<org.eventb.core.prIdent name="location" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="¬Easttown=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="districts=(∅ ⦂ ℙ(locations))∨finite(districts)">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="¬Easttown=Downtown">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨finite(districts)">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="¬Merchant_District=Station">
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="¬Merchant_District=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="¬Downtown=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="game_over∈BOOL">
<org.eventb.core.prIdent name="game_over" org.eventb.core.type="BOOL"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="partition(locations,{Rivertown},{Easttown},{Downtown},{Merchant_District},{Shop},{Library},{Bank},{Station})">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="state∈states">
<org.eventb.core.prIdent name="state" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="¬Rivertown=Easttown">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="¬Library=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="turn_end∈BOOL">
<org.eventb.core.prIdent name="turn_end" org.eventb.core.type="BOOL"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="¬Downtown=Station">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="¬Easttown=Station">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="¬Rivertown=Station">
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬won=lost">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="¬Rivertown=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="¬Bank=Station">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="¬Downtown=Library">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="¬Shop=Library">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="¬player_turn=monster_turn">
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬monster_turn=won">
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="¬Merchant_District=Shop">
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬player_turn=lost">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨(finite(locations)∧finite(districts))">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="¬Shop=Station">
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="finite(locations)">
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="¬Easttown=Library">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="¬Downtown=Merchant_District">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="¬Rivertown=Library">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="¬Shop=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="building∉open_gates">
<org.eventb.core.prIdent name="building" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="open_gates" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨(⊤∧finite(districts))">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="finite(locations × districts)">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="¬Library=Station">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="¬building∈open_gates">
<org.eventb.core.prIdent name="building" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="open_gates" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="¬Easttown=Shop">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="acted∈BOOL">
<org.eventb.core.prIdent name="acted" org.eventb.core.type="BOOL"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="⊥∨districts=(∅ ⦂ ℙ(locations))∨finite(districts)">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬monster_turn=lost">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="¬Merchant_District=Library">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="¬Rivertown=Merchant_District">
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="¬Rivertown=Downtown">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL2"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="open_gate/open_gates/EQL" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="p1" org.eventb.core.prSets="locations">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(states,{player_turn},{monster_turn},{won},{lost}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p2" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p3,p4,p5,p6,p7,p8,p9"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p3,p4,p5,p6,p7,p8,p9"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(locations,{Rivertown},{Easttown},{Downtown},{Merchant_District},{Shop},{Library},{Bank},{Station}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p10" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p34,p35,p36,p37,p38,p39"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p34,p35,p36,p37,p38,p39"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p43">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p40" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p41"/>
<org.eventb.core.prHypAction name="REWRITE1" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p42"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prGoal="p43" org.eventb.core.prHyps="p42">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p46">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p41" org.eventb.core.prHyps="p45" org.eventb.core.prInfHyps="p44"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p44" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p47"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p48"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p49"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p50"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p51"/>
<org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p52"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p47" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p53"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p53" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p54"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="building" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="open_gates" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="¬Easttown=Merchant_District">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="¬Downtown=Shop">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="states={player_turn,monster_turn,won,lost}">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="partition(states,{player_turn},{monster_turn},{won},{lost})">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="¬Rivertown=Shop">
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="locations={Rivertown,Easttown,Downtown,Merchant_District,Shop,Library,Bank,Station}">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬player_turn=won">
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="location∈locations">
<org.eventb.core.prIdent name="location" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="¬Easttown=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p54" org.eventb.core.predicate="districts=(∅ ⦂ ℙ(locations))∨finite(districts)">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="¬Easttown=Downtown">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨finite(districts)">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="¬Merchant_District=Station">
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="¬Merchant_District=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="¬Downtown=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="game_over∈BOOL">
<org.eventb.core.prIdent name="game_over" org.eventb.core.type="BOOL"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="state∈states">
<org.eventb.core.prIdent name="state" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="partition(locations,{Rivertown},{Easttown},{Downtown},{Merchant_District},{Shop},{Library},{Bank},{Station})">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="¬Rivertown=Easttown">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="¬Library=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="turn_end∈BOOL">
<org.eventb.core.prIdent name="turn_end" org.eventb.core.type="BOOL"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="¬Downtown=Station">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="¬Easttown=Station">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="¬Rivertown=Station">
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="¬won=lost">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="¬Rivertown=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="⊥"/>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="¬Bank=Station">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="¬Downtown=Library">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="¬Shop=Library">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬player_turn=monster_turn">
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬monster_turn=won">
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="¬Merchant_District=Shop">
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬player_turn=lost">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨(finite(locations)∧finite(districts))">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="¬Shop=Station">
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="finite(locations)"/>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="¬Easttown=Library">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="¬Downtown=Merchant_District">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="¬Rivertown=Library">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="¬Shop=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="building∈open_gates"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="building∉open_gates"/>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨(⊤∧finite(districts))">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="finite(locations × districts)">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="¬Library=Station">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="¬building∈open_gates"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="¬Easttown=Shop">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p52" org.eventb.core.predicate="acted∈BOOL">
<org.eventb.core.prIdent name="acted" org.eventb.core.type="BOOL"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p53" org.eventb.core.predicate="⊥∨districts=(∅ ⦂ ℙ(locations))∨finite(districts)">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬monster_turn=lost">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="¬Merchant_District=Library">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="¬Rivertown=Merchant_District">
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="open_gates∪{building}=open_gates"/>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="¬Rivertown=Downtown">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL2"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="close_gate/closed_gates/EQL" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="" org.eventb.core.prSets="locations">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(states,{player_turn},{monster_turn},{won},{lost}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p1" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p2,p3,p4,p5,p6,p7,p8"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p2,p3,p4,p5,p6,p7,p8"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(locations,{Rivertown},{Easttown},{Downtown},{Merchant_District},{Shop},{Library},{Bank},{Station}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p9" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p34,p35,p36,p37,p38"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p34,p35,p36,p37,p38"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prGoal="p0" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'" org.eventb.core.prGoal="p41">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p39" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p40"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p40" org.eventb.core.prHyps="p43" org.eventb.core.prInfHyps="p42"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p42" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p44"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p45"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p46"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p47"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p48"/>
<org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p49"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p44" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p50"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p50" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p51"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prIdent name="building" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="closed_gates" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="¬Easttown=Merchant_District">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="¬Downtown=Shop">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="states={player_turn,monster_turn,won,lost}">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="closed_gates∪{building}=closed_gates"/>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="partition(states,{player_turn},{monster_turn},{won},{lost})">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="building∈closed_gates"/>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="¬Rivertown=Shop">
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="locations={Rivertown,Easttown,Downtown,Merchant_District,Shop,Library,Bank,Station}">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬player_turn=won">
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="location∈locations">
<org.eventb.core.prIdent name="location" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="¬Easttown=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p51" org.eventb.core.predicate="districts=(∅ ⦂ ℙ(locations))∨finite(districts)">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="¬Easttown=Downtown">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨finite(districts)">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="¬Merchant_District=Station">
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="¬Merchant_District=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="¬Downtown=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="game_over∈BOOL">
<org.eventb.core.prIdent name="game_over" org.eventb.core.type="BOOL"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="partition(locations,{Rivertown},{Easttown},{Downtown},{Merchant_District},{Shop},{Library},{Bank},{Station})">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="state∈states">
<org.eventb.core.prIdent name="state" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="¬Rivertown=Easttown">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="¬Library=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="turn_end∈BOOL">
<org.eventb.core.prIdent name="turn_end" org.eventb.core.type="BOOL"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="¬Downtown=Station">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="¬Easttown=Station">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="¬Rivertown=Station">
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="¬won=lost">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="¬Rivertown=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="¬Bank=Station">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="¬Downtown=Library">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="¬Shop=Library">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="¬player_turn=monster_turn">
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬monster_turn=won">
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="¬Merchant_District=Shop">
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬player_turn=lost">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨(finite(locations)∧finite(districts))">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="¬Shop=Station">
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="finite(locations)"/>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="¬Easttown=Library">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="¬Downtown=Merchant_District">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="¬Rivertown=Library">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="¬Shop=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨(⊤∧finite(districts))">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="finite(locations × districts)">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="¬Library=Station">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="¬Easttown=Shop">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="acted∈BOOL">
<org.eventb.core.prIdent name="acted" org.eventb.core.type="BOOL"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p50" org.eventb.core.predicate="⊥∨districts=(∅ ⦂ ℙ(locations))∨finite(districts)">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬monster_turn=lost">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="¬Merchant_District=Library">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="¬Rivertown=Merchant_District">
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="¬Rivertown=Downtown">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
</org.eventb.core.prPred>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL2"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
</org.eventb.core.prProof>
<org.eventb.core.prProof name="close_gate/open_gates/EQL" org.eventb.core.confidence="0" org.eventb.core.prFresh="" org.eventb.core.prHyps="">
<org.eventb.core.lang name="L"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(states,{player_turn},{monster_turn},{won},{lost}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p0" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p1,p2,p3,p4,p5,p6,p7"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p1,p2,p3,p4,p5,p6,p7"/>
<org.eventb.core.prRule name="r0" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="Partition rewrites in hyp (partition(locations,{Rivertown},{Easttown},{Downtown},{Merchant_District},{Shop},{Library},{Bank},{Station}))" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p8" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p34,p35,p36,p37"/>
<org.eventb.core.prHypAction name="SELECT1" org.eventb.core.prHyps="p9,p10,p11,p12,p13,p14,p15,p16,p17,p18,p19,p20,p21,p22,p23,p24,p25,p26,p27,p28,p29,p30,p31,p32,p33,p34,p35,p36,p37"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p38" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p39"/>
<org.eventb.core.prRule name="r2" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="generalized MP" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p39" org.eventb.core.prHyps="p41" org.eventb.core.prInfHyps="p40"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p40" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p42"/>
<org.eventb.core.prRule name="r3" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="type rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="HIDE0" org.eventb.core.prHyps="p43"/>
<org.eventb.core.prHypAction name="HIDE1" org.eventb.core.prHyps="p44"/>
<org.eventb.core.prHypAction name="HIDE2" org.eventb.core.prHyps="p45"/>
<org.eventb.core.prHypAction name="HIDE3" org.eventb.core.prHyps="p46"/>
<org.eventb.core.prHypAction name="HIDE4" org.eventb.core.prHyps="p47"/>
<org.eventb.core.prHypAction name="REWRITE5" org.eventb.core.prHidden="p42" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p48"/>
<org.eventb.core.prRule name="r1" org.eventb.core.confidence="1000" org.eventb.core.prDisplay="simplification rewrites" org.eventb.core.prHyps="">
<org.eventb.core.prAnte name="'">
<org.eventb.core.prHypAction name="REWRITE0" org.eventb.core.prHidden="p48" org.eventb.core.prHyps="" org.eventb.core.prInfHyps="p49"/>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
</org.eventb.core.prAnte>
<org.eventb.core.prString name=".pos" org.eventb.core.prSValue=""/>
</org.eventb.core.prRule>
<org.eventb.core.prPred name="p18" org.eventb.core.predicate="¬Easttown=Merchant_District">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p24" org.eventb.core.predicate="¬Downtown=Shop">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p1" org.eventb.core.predicate="states={player_turn,monster_turn,won,lost}">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p0" org.eventb.core.predicate="partition(states,{player_turn},{monster_turn},{won},{lost})">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p13" org.eventb.core.predicate="¬Rivertown=Shop">
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p9" org.eventb.core.predicate="locations={Rivertown,Easttown,Downtown,Merchant_District,Shop,Library,Bank,Station}">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p3" org.eventb.core.predicate="¬player_turn=won">
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p44" org.eventb.core.predicate="location∈locations">
<org.eventb.core.prIdent name="location" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p21" org.eventb.core.predicate="¬Easttown=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p49" org.eventb.core.predicate="districts=(∅ ⦂ ℙ(locations))∨finite(districts)">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p17" org.eventb.core.predicate="¬Easttown=Downtown">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p42" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨finite(districts)">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p31" org.eventb.core.predicate="¬Merchant_District=Station">
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p30" org.eventb.core.predicate="¬Merchant_District=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p26" org.eventb.core.predicate="¬Downtown=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p43" org.eventb.core.predicate="game_over∈BOOL">
<org.eventb.core.prIdent name="game_over" org.eventb.core.type="BOOL"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p8" org.eventb.core.predicate="partition(locations,{Rivertown},{Easttown},{Downtown},{Merchant_District},{Shop},{Library},{Bank},{Station})">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p45" org.eventb.core.predicate="state∈states">
<org.eventb.core.prIdent name="state" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p10" org.eventb.core.predicate="¬Rivertown=Easttown">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p35" org.eventb.core.predicate="¬Library=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p46" org.eventb.core.predicate="turn_end∈BOOL">
<org.eventb.core.prIdent name="turn_end" org.eventb.core.type="BOOL"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p27" org.eventb.core.predicate="¬Downtown=Station">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p22" org.eventb.core.predicate="¬Easttown=Station">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p16" org.eventb.core.predicate="¬Rivertown=Station">
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p7" org.eventb.core.predicate="¬won=lost">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p15" org.eventb.core.predicate="¬Rivertown=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p37" org.eventb.core.predicate="¬Bank=Station">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p25" org.eventb.core.predicate="¬Downtown=Library">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p32" org.eventb.core.predicate="¬Shop=Library">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p2" org.eventb.core.predicate="¬player_turn=monster_turn">
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p5" org.eventb.core.predicate="¬monster_turn=won">
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
<org.eventb.core.prIdent name="won" org.eventb.core.type="states"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p28" org.eventb.core.predicate="¬Merchant_District=Shop">
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p4" org.eventb.core.predicate="¬player_turn=lost">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="player_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p39" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨(finite(locations)∧finite(districts))">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p34" org.eventb.core.predicate="¬Shop=Station">
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p41" org.eventb.core.predicate="finite(locations)">
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p20" org.eventb.core.predicate="¬Easttown=Library">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p23" org.eventb.core.predicate="¬Downtown=Merchant_District">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p14" org.eventb.core.predicate="¬Rivertown=Library">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p33" org.eventb.core.predicate="¬Shop=Bank">
<org.eventb.core.prIdent name="Bank" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p40" org.eventb.core.predicate="locations=(∅ ⦂ ℙ(locations))∨districts=(∅ ⦂ ℙ(locations))∨(⊤∧finite(districts))">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p38" org.eventb.core.predicate="finite(locations × districts)">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p36" org.eventb.core.predicate="¬Library=Station">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Station" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p19" org.eventb.core.predicate="¬Easttown=Shop">
<org.eventb.core.prIdent name="Easttown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Shop" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p47" org.eventb.core.predicate="acted∈BOOL">
<org.eventb.core.prIdent name="acted" org.eventb.core.type="BOOL"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p48" org.eventb.core.predicate="⊥∨districts=(∅ ⦂ ℙ(locations))∨finite(districts)">
<org.eventb.core.prIdent name="districts" org.eventb.core.type="ℙ(locations)"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p6" org.eventb.core.predicate="¬monster_turn=lost">
<org.eventb.core.prIdent name="lost" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="monster_turn" org.eventb.core.type="states"/>
<org.eventb.core.prIdent name="states" org.eventb.core.type="ℙ(states)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p29" org.eventb.core.predicate="¬Merchant_District=Library">
<org.eventb.core.prIdent name="Library" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p12" org.eventb.core.predicate="¬Rivertown=Merchant_District">
<org.eventb.core.prIdent name="Merchant_District" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prPred name="p11" org.eventb.core.predicate="¬Rivertown=Downtown">
<org.eventb.core.prIdent name="Downtown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="Rivertown" org.eventb.core.type="locations"/>
<org.eventb.core.prIdent name="locations" org.eventb.core.type="ℙ(locations)"/>
</org.eventb.core.prPred>
<org.eventb.core.prReas name="r3" org.eventb.core.prRID="org.eventb.core.seqprover.typeRewrites:1"/>
<org.eventb.core.prReas name="r0" org.eventb.core.prRID="org.eventb.core.seqprover.partitionRewrites"/>
<org.eventb.core.prReas name="r2" org.eventb.core.prRID="org.eventb.core.seqprover.genMPL2"/>
<org.eventb.core.prReas name="r1" org.eventb.core.prRID="org.eventb.core.seqprover.autoRewritesL4:0"/>
</org.eventb.core.prProof>
</org.eventb.core.prFile>
